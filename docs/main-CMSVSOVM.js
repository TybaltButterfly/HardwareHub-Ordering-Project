import{$,A as o,Aa as z,B as m,Ba as ie,C as Oe,D as Ie,Da as oe,E as S,Ea as D,F as u,Fa as re,G as p,Ga as ht,H as K,Ha as xt,I as nt,J as it,K as ot,Ka as bt,L as rt,La as ze,M as Q,Ma as De,N as a,Na as _t,O as b,Oa as vt,P as _,Pa as ce,Q as Ee,R as at,Ra as T,S as v,T as C,Ta as de,U as y,Ua as W,V as Te,W as J,X,Z as V,_ as lt,a as we,aa as _e,b as Se,ba as Z,ca as st,d as tt,da as ge,e as me,ea as ee,fa as O,g as Pe,ga as k,h as ue,j as Me,ja as ct,k as f,ka as dt,l as h,la as fe,ma as he,n as E,na as Ne,o as ke,oa as M,p as l,pa as pt,q as x,qa as te,r as P,ra as mt,sa as I,t as g,ta as ne,u as le,ua as ut,v as d,va as gt,w as be,wa as G,x as U,xa as ft,ya as B,z as i}from"./chunk-GUWCXB5T.js";var N=class r{userSubject=new me({userId:"",name:"",email:"",profilePicture:""});user$=this.userSubject.asObservable();constructor(){let t=localStorage.getItem("currentUser");if(t)try{this.userSubject.next(JSON.parse(t))}catch(e){console.error("Error parsing user data from localStorage",e)}}getUser(){return this.userSubject.getValue()}updateUser(t){this.userSubject.next(t),localStorage.setItem("currentUser",JSON.stringify(t))}static \u0275fac=function(e){return new(e||r)};static \u0275prov=ue({token:r,factory:r.\u0275fac,providedIn:"root"})};function Ot(r,t){if(r&1&&(i(0,"div",22),a(1),o()),r&2){let e=p();l(),b(e.identifierError)}}function It(r,t){if(r&1&&(i(0,"div",22),a(1),o()),r&2){let e=p();l(),b(e.passwordError)}}function Et(r,t){if(r&1&&(i(0,"div",23),a(1),o()),r&2){let e=p();l(),b(e.loginError)}}var Fe=class r{constructor(t,e){this.router=t;this.userService=e}identifier="";password="";identifierError="";passwordError="";loginError="";showPassword=!1;togglePasswordVisibility(){this.showPassword=!this.showPassword}closeLogin(){this.router.navigate([""])}onLogin(){if(this.identifierError="",this.passwordError="",this.loginError="",this.identifier||(this.identifierError="Please enter your username or email."),this.password||(this.passwordError="Please enter your password."),this.identifierError||this.passwordError)return;let t=JSON.parse(localStorage.getItem("users")||"[]");console.log("Users from localStorage:",t);let e=this.identifier.toLowerCase(),n=t.find(s=>s.username&&s.username.toLowerCase()===e||s.name&&s.name.toLowerCase()===e||s.email&&s.email.toLowerCase()===e);if(!n){this.loginError="Username or email not found.",console.warn("Login failed: username/email not found:",this.identifier);return}if(n.password!==this.password){this.loginError="Incorrect password.",console.warn("Login failed: incorrect password for user:",this.identifier);return}this.identifierError="",this.passwordError="",this.loginError="",localStorage.setItem("currentUser",JSON.stringify({userId:n.userId||"",name:n.username||n.name||n.email,email:n.email})),this.userService.updateUser({userId:n.userId||"",name:n.username||n.name||n.email,email:n.email}),this.router.navigate(["/home"])}goToSignUp(){this.router.navigate(["/signup"])}forgotPassword(){alert("Forgot password functionality is not implemented yet.")}static \u0275fac=function(e){return new(e||r)(x(I),x(N))};static \u0275cmp=P({type:r,selectors:[["app-login"]],decls:29,vars:7,consts:[["loginForm","ngForm"],["identifierField","ngModel"],["passwordField","ngModel"],[1,"login-wrapper"],[1,"login-card"],["src","assets/toolbox.png","alt","Toolbox",1,"login-image"],[1,"welcome-text"],[1,"description"],["novalidate","",3,"ngSubmit"],["title","Close",1,"fa","fa-times","close-icon",3,"click"],[1,"input-group"],[1,"fa-solid","fa-user","input-icon"],["type","text","name","identifier","required","","placeholder","Username , Email",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],[1,"fa-solid","fa-lock","input-icon"],["name","password","required","","placeholder","Password",3,"ngModelChange","type","ngModel"],[1,"fa-solid","fa-eye","toggle-password",2,"cursor","pointer",3,"click","ngClass"],[1,"link-row"],[1,"signup",3,"click"],[1,"forgot-password",3,"click"],["class","error-message login-error",4,"ngIf"],["type","submit",1,"login-btn"],[1,"error-message"],[1,"error-message","login-error"]],template:function(e,n){if(e&1){let s=S();i(0,"div",3)(1,"div",4),m(2,"img",5),i(3,"h2",6),a(4,"Welcome Back"),o(),i(5,"p",7),a(6," Ready to gear up for your next project? Explore our tools and get everything you need in no time. "),o(),i(7,"form",8,0),u("ngSubmit",function(){return f(s),h(n.onLogin())}),i(9,"i",9),u("click",function(){return f(s),h(n.closeLogin())}),o(),i(10,"div",10),m(11,"i",11),i(12,"input",12,1),y("ngModelChange",function(w){return f(s),C(n.identifier,w)||(n.identifier=w),h(w)}),o()(),g(14,Ot,2,1,"div",13),i(15,"div",10),m(16,"i",14),i(17,"input",15,2),y("ngModelChange",function(w){return f(s),C(n.password,w)||(n.password=w),h(w)}),o(),i(19,"i",16),u("click",function(){return f(s),h(n.togglePasswordVisibility())}),o()(),g(20,It,2,1,"div",13),i(21,"div",17)(22,"a",18),u("click",function(){return f(s),h(n.goToSignUp())}),a(23,"Sign Up"),o(),i(24,"a",19),u("click",function(){return f(s),h(n.forgotPassword())}),a(25,"Forgot Password?"),o()(),g(26,Et,2,1,"div",20),i(27,"button",21),a(28,"Login"),o()()()()}e&2&&(l(12),v("ngModel",n.identifier),l(2),d("ngIf",n.identifierError),l(3),d("type",n.showPassword?"text":"password"),v("ngModel",n.password),l(2),d("ngClass",n.showPassword?"fa-eye-slash":"fa-eye"),l(),d("ngIf",n.passwordError),l(6),d("ngIf",n.loginError))},dependencies:[M,ee,k,T,re,B,z,ie,ce,D,oe],encapsulation:2})};var Tt=r=>({"background-image":r,"background-size":"cover","background-position":"center center","background-repeat":"no-repeat"});function Nt(r,t){if(r&1){let e=S();i(0,"div",8)(1,"div",9)(2,"h3"),a(3,"Select Role"),o(),i(4,"button",10),u("click",function(){f(e);let s=p();return h(s.selectRole("admin"))}),a(5,"Admin"),o(),i(6,"button",10),u("click",function(){f(e);let s=p();return h(s.selectRole("user"))}),a(7,"User"),o(),i(8,"button",11),u("click",function(){f(e);let s=p();return h(s.cancelRoleSelection())}),m(9,"i",12),o()()()}}var Ve=class r{constructor(t){this.router=t}showRolePopup=!1;backgroundImage="assets/background.jpg";goToLogin(){this.showRolePopup=!0}goToSignUp(){this.router.navigate(["/signup"])}selectRole(t){this.showRolePopup=!1,t==="admin"?this.router.navigate(["/admin/login"]):t==="user"&&this.router.navigate(["/login"])}cancelRoleSelection(){this.showRolePopup=!1}static \u0275fac=function(e){return new(e||r)(x(I))};static \u0275cmp=P({type:r,selectors:[["app-splash"]],decls:11,vars:4,consts:[[1,"splash-wrapper",3,"ngStyle"],[1,"splash-overlay"],["src","assets/toolbox.png","alt","HardwareHub Logo",1,"splash-logo"],[1,"app-name"],[1,"button-toggle"],[1,"toggle-btn","active",3,"click"],[1,"toggle-btn",3,"click"],["class","role-popup-overlay",4,"ngIf"],[1,"role-popup-overlay"],[1,"role-popup"],[1,"role-btn",3,"click"],["aria-label","Close",1,"close-btn",3,"click"],["aria-hidden","true",1,"fa","fa-times"]],template:function(e,n){e&1&&(i(0,"div",0)(1,"div",1),m(2,"img",2),i(3,"h1",3),a(4,"HardwareHub"),o(),i(5,"div",4)(6,"button",5),u("click",function(){return n.goToLogin()}),a(7,"Login"),o(),i(8,"button",6),u("click",function(){return n.goToSignUp()}),a(9,"Sign Up"),o()(),g(10,Nt,10,0,"div",7),o()()),e&2&&(d("ngStyle",X(2,Tt,"url("+n.backgroundImage+")")),l(10),d("ngIf",n.showRolePopup))},dependencies:[M,k,ct,G],styles:[".splash-wrapper[_ngcontent-%COMP%]{height:100vh;display:flex;align-items:center;justify-content:center}.splash-overlay[_ngcontent-%COMP%]{background-color:#0009;width:100%;height:100%;box-sizing:border-box;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;padding:20px}.splash-logo[_ngcontent-%COMP%]{width:200px;max-width:100%;height:auto;margin-bottom:20px;object-fit:contain}.app-name[_ngcontent-%COMP%]{font-size:40px;margin-bottom:40px;font-family:Poppins,sans-serif;font-weight:700;color:#fff;-webkit-text-stroke:1px black}.button-toggle[_ngcontent-%COMP%]{display:flex;width:400px;background-color:#e0e0e0;border-radius:30px;overflow:hidden;box-shadow:0 4px 8px #0003}.toggle-btn[_ngcontent-%COMP%]{flex:1;padding:12px 0;font-size:16px;border:none;outline:none;cursor:pointer;transition:background-color .3s ease,color .3s ease;font-weight:700;color:#3c3c3c;background-color:transparent}.toggle-btn.active[_ngcontent-%COMP%]{background-color:#2ec4b6;color:#fff}.toggle-btn.active[_ngcontent-%COMP%]:hover{background-color:#269f97}.toggle-btn[_ngcontent-%COMP%]:not(.active):hover{background-color:#969494;color:#000}@media (max-width: 480px){.splash-logo[_ngcontent-%COMP%]{width:60px}.app-name[_ngcontent-%COMP%]{font-size:24px}.login-btn[_ngcontent-%COMP%], .signup-btn[_ngcontent-%COMP%]{font-size:14px;padding:10px}.button-row[_ngcontent-%COMP%]{width:160px}}@media (max-width: 768px){.button-toggle[_ngcontent-%COMP%]{width:300px}.app-name[_ngcontent-%COMP%]{font-size:30px;margin-bottom:30px}}.role-popup-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.role-popup[_ngcontent-%COMP%]{background:var(--primary-light);padding:30px 40px;border-radius:20px;text-align:center;box-shadow:0 8px 24px #0000001a;font-family:var(--primary-font);color:var(--text-primary);position:relative}.role-popup[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:20px;font-weight:700;font-size:24px}.role-btn[_ngcontent-%COMP%]{background-color:var(--primary-color);color:var(--neutral-light);border:none;border-radius:30px;padding:12px 30px;margin:10px 8px;font-weight:600;font-size:16px;cursor:pointer;transition:background-color .3s ease}.role-btn[_ngcontent-%COMP%]:hover{background-color:var(--primary-dark)}.close-btn[_ngcontent-%COMP%]{position:absolute;top:15px;right:15px;background:transparent;border:none;color:var(--text-secondary);font-size:24px;cursor:pointer;transition:color .3s ease}.close-btn[_ngcontent-%COMP%]:hover{color:var(--primary-color)}"]})};var Be,zt=new Uint8Array(16);function Xe(){if(!Be&&(Be=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Be))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Be(zt)}var Ct=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Dt(r){return typeof r=="string"&&Ct.test(r)}var yt=Dt;var A=[];for(Le=0;Le<256;++Le)A.push((Le+256).toString(16).substr(1));var Le;function Ft(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,e=(A[r[t+0]]+A[r[t+1]]+A[r[t+2]]+A[r[t+3]]+"-"+A[r[t+4]]+A[r[t+5]]+"-"+A[r[t+6]]+A[r[t+7]]+"-"+A[r[t+8]]+A[r[t+9]]+"-"+A[r[t+10]]+A[r[t+11]]+A[r[t+12]]+A[r[t+13]]+A[r[t+14]]+A[r[t+15]]).toLowerCase();if(!yt(e))throw TypeError("Stringified UUID is invalid");return e}var wt=Ft;function Vt(r,t,e){r=r||{};var n=r.random||(r.rng||Xe)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){e=e||0;for(var s=0;s<16;++s)t[e+s]=n[s];return t}return wt(n)}var ve=Vt;var L=class r{constructor(t){this.userService=t;this.userService.user$.subscribe(e=>{this.loadCartItems(e.userId)})}cartItemsSubject=new me([]);cartItems$=this.cartItemsSubject.asObservable();selectedItemIdsSubject=new me(new Set);selectedItemIds$=this.selectedItemIdsSubject.asObservable();storageKeyPrefix="hardwarehub_cart_items_";loadCartItems(t){if(!t){this.cartItemsSubject.next([]);return}let e=localStorage.getItem(this.storageKeyPrefix+t);if(e)try{let n=JSON.parse(e);this.cartItemsSubject.next(n)}catch{this.cartItemsSubject.next([])}else this.cartItemsSubject.next([])}saveCartItems(t,e){t&&localStorage.setItem(this.storageKeyPrefix+t,JSON.stringify(e))}getCartItems(){return this.cartItemsSubject.getValue()}setCartItems(t){this.cartItemsSubject.next(t);let e=this.userService.getUser().userId;this.saveCartItems(e,t)}setSelectedItemIds(t){this.selectedItemIdsSubject.next(new Set(t))}getSelectedItemIds(){return this.selectedItemIdsSubject.getValue()}getSelectedCartItems(){let t=this.getSelectedItemIds();return this.getCartItems().filter(e=>t.has(e.id))}addItem(t){let e=this.getCartItems(),n=e.findIndex(s=>s.id===t.id);n!==-1?(e[n].quantity+=t.quantity,e[n].subtotal=e[n].price*e[n].quantity):e.push(t),this.setCartItems([...e])}removeItem(t){let e=this.getCartItems().filter(n=>n.id!==t);this.setCartItems(e)}updateItemQuantity(t,e){let n=this.getCartItems(),s=n.findIndex(c=>c.id===t);s!==-1&&(n[s].quantity=e,n[s].subtotal=n[s].price*e,this.setCartItems([...n]))}clearCart(){this.cartItemsSubject.next([]);let t=this.userService.getUser().userId;t&&localStorage.removeItem(this.storageKeyPrefix+t)}getItemCount(){return this.getCartItems().reduce((t,e)=>t+e.quantity,0)}getItemCountObservable(){return new tt(t=>{this.cartItems$.subscribe(e=>{let n=e.reduce((s,c)=>s+c.quantity,0);t.next(n)})})}static \u0275fac=function(e){return new(e||r)(Me(N))};static \u0275prov=ue({token:r,factory:r.\u0275fac,providedIn:"root"})};var H=class r{constructor(t){this.userService=t;this.userService.user$.subscribe(e=>{this.loadToolboxItems(e.userId)})}toolboxItemsSubject=new me([]);toolboxItems$=this.toolboxItemsSubject.asObservable();storageKeyPrefix="hardwarehub_toolbox_items_";loadToolboxItems(t){if(!t){this.toolboxItemsSubject.next([]);return}let e=localStorage.getItem(this.storageKeyPrefix+t);if(e)try{this.toolboxItemsSubject.next(JSON.parse(e))}catch{this.toolboxItemsSubject.next([])}else this.toolboxItemsSubject.next([])}updateLocalStorage(t,e){e&&localStorage.setItem(this.storageKeyPrefix+e,JSON.stringify(t))}getToolboxItems(){return this.toolboxItemsSubject.getValue()}addItem(t){let e=this.getToolboxItems(),n=e.find(c=>c.id===t.id);n?(n.quantity+=t.quantity,n.subtotal=n.price*n.quantity):e.push(t),this.toolboxItemsSubject.next(e);let s=this.userService.getUser().userId;this.updateLocalStorage(e,s)}removeItem(t){let e=this.getToolboxItems();e=e.filter(s=>s.id!==t),this.toolboxItemsSubject.next(e);let n=this.userService.getUser().userId;this.updateLocalStorage(e,n)}clearToolbox(){this.toolboxItemsSubject.next([]);let t=this.userService.getUser().userId;t&&localStorage.removeItem(this.storageKeyPrefix+t)}static \u0275fac=function(e){return new(e||r)(Me(N))};static \u0275prov=ue({token:r,factory:r.\u0275fac,providedIn:"root"})};function Bt(r,t){if(r&1&&(i(0,"div",26),a(1),o()),r&2){let e=p();l(),b(e.emailError)}}function Lt(r,t){if(r&1&&(i(0,"div",26),a(1),o()),r&2){let e=p();l(),b(e.usernameError)}}function jt(r,t){if(r&1&&(i(0,"div",26),a(1),o()),r&2){let e=p();l(),b(e.passwordError)}}function At(r,t){if(r&1&&(i(0,"div",26),a(1),o()),r&2){let e=p();l(),b(e.confirmPasswordError)}}function qt(r,t){if(r&1&&(i(0,"div",26),a(1),o()),r&2){let e=p();l(),b(e.phoneNumberError)}}function Rt(r,t){if(r&1&&(i(0,"div",27),a(1),o()),r&2){let e=p();l(),b(e.signUpError)}}var je=class r{constructor(t,e,n,s){this.router=t;this.userService=e;this.cartService=n;this.toolboxService=s}email="";username="";phoneNumber="";password="";confirmPassword="";emailError="";usernameError="";phoneNumberError="";passwordError="";confirmPasswordError="";signUpError="";signUpSuccess="";showPassword=!1;showConfirmPassword=!1;togglePasswordVisibility(){this.showPassword=!this.showPassword}toggleConfirmPasswordVisibility(){this.showConfirmPassword=!this.showConfirmPassword}closeSignUp(){this.router.navigate([""])}onSignUp(){if(this.emailError="",this.usernameError="",this.phoneNumberError="",this.passwordError="",this.confirmPasswordError="",this.signUpError="",this.email?this.validateEmail(this.email)||(this.emailError="Please enter a valid email address."):this.emailError="Please enter your email.",this.username||(this.usernameError="Please enter your username."),this.phoneNumber?this.validatePhoneNumber(this.phoneNumber)||(this.phoneNumberError="Please enter a valid phone number."):this.phoneNumberError="Please enter your phone number.",this.password||(this.passwordError="Please enter your password."),this.confirmPassword?this.password!==this.confirmPassword&&(this.confirmPasswordError="Passwords do not match."):this.confirmPasswordError="Please confirm your password.",this.emailError||this.usernameError||this.phoneNumberError||this.passwordError||this.confirmPasswordError)return;let t=JSON.parse(localStorage.getItem("users")||"[]"),e=t.some(w=>w.email===this.email),n=t.some(w=>w.username===this.username);if(e){this.signUpError="Email already registered.";return}if(n){this.signUpError="Username already taken.";return}let s=ve();if(t.push({userId:s,email:this.email,username:this.username,phoneNumber:this.phoneNumber,password:this.password}),localStorage.setItem("users",JSON.stringify(t)),!localStorage.getItem("currentUser")){let w={userId:s,name:this.username,email:this.email,phoneNumber:this.phoneNumber};this.cartService.clearCart(),this.toolboxService.clearToolbox(),localStorage.setItem("currentUser",JSON.stringify(w)),this.userService.updateUser({userId:w.userId,name:w.name,email:w.email,profilePicture:""})}this.router.navigate(["/signup-complete"])}validateEmail(t){return/^[\w.-]+@([\w-]+\.)+[\w-]{2,4}$/.test(t)}validatePhoneNumber(t){return/^(?:\+63|0)9\d{9}$/.test(t)}static \u0275fac=function(e){return new(e||r)(x(I),x(N),x(L),x(H))};static \u0275cmp=P({type:r,selectors:[["app-signup"]],decls:38,vars:15,consts:[["signUpForm","ngForm"],["emailField","ngModel"],["usernameField","ngModel"],["passwordField","ngModel"],["confirmPasswordField","ngModel"],["phoneNumberField","ngModel"],[1,"signup-wrapper"],[1,"signup-card"],["src","assets/toolbox.png","alt","HardwareHub Logo",1,"signup-image"],[1,"welcome-text"],["novalidate","",3,"ngSubmit"],["title","Close",1,"fa","fa-times","close-icon",3,"click"],[1,"input-group"],[1,"fa-solid","fa-envelope","input-icon"],["type","email","name","email","required","","placeholder","Email",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],[1,"fa-solid","fa-user","input-icon"],["type","text","name","username","required","","placeholder","Username",3,"ngModelChange","ngModel"],[1,"fa-solid","fa-lock","input-icon"],["name","password","required","","placeholder","Password",3,"ngModelChange","type","ngModel"],[1,"fa-solid","fa-eye","toggle-password",2,"cursor","pointer",3,"click","ngClass"],["name","confirmPassword","required","","placeholder","Confirm Password",3,"ngModelChange","type","ngModel"],[1,"fa-solid","fa-phone","input-icon"],["type","tel","name","phoneNumber","required","","placeholder","Phone Number",3,"ngModelChange","ngModel"],["class","error-message login-error",4,"ngIf"],["type","submit",1,"signup-btn"],[1,"error-message"],[1,"error-message","login-error"]],template:function(e,n){if(e&1){let s=S();i(0,"div",6)(1,"div",7),m(2,"img",8),i(3,"h2",9),a(4,"Create Account"),o(),i(5,"form",10,0),u("ngSubmit",function(){return f(s),h(n.onSignUp())}),i(7,"i",11),u("click",function(){return f(s),h(n.closeSignUp())}),o(),i(8,"div",12),m(9,"i",13),i(10,"input",14,1),y("ngModelChange",function(w){return f(s),C(n.email,w)||(n.email=w),h(w)}),o()(),g(12,Bt,2,1,"div",15),i(13,"div",12),m(14,"i",16),i(15,"input",17,2),y("ngModelChange",function(w){return f(s),C(n.username,w)||(n.username=w),h(w)}),o()(),g(17,Lt,2,1,"div",15),i(18,"div",12),m(19,"i",18),i(20,"input",19,3),y("ngModelChange",function(w){return f(s),C(n.password,w)||(n.password=w),h(w)}),o(),i(22,"i",20),u("click",function(){return f(s),h(n.togglePasswordVisibility())}),o()(),g(23,jt,2,1,"div",15),i(24,"div",12),m(25,"i",18),i(26,"input",21,4),y("ngModelChange",function(w){return f(s),C(n.confirmPassword,w)||(n.confirmPassword=w),h(w)}),o(),i(28,"i",20),u("click",function(){return f(s),h(n.toggleConfirmPasswordVisibility())}),o()(),g(29,At,2,1,"div",15),i(30,"div",12),m(31,"i",22),i(32,"input",23,5),y("ngModelChange",function(w){return f(s),C(n.phoneNumber,w)||(n.phoneNumber=w),h(w)}),o()(),g(34,qt,2,1,"div",15)(35,Rt,2,1,"div",24),i(36,"button",25),a(37,"Sign Up"),o()()()()}e&2&&(l(10),v("ngModel",n.email),l(2),d("ngIf",n.emailError),l(3),v("ngModel",n.username),l(2),d("ngIf",n.usernameError),l(3),d("type",n.showPassword?"text":"password"),v("ngModel",n.password),l(2),d("ngClass",n.showPassword?"fa-eye-slash":"fa-eye"),l(),d("ngIf",n.passwordError),l(3),d("type",n.showConfirmPassword?"text":"password"),v("ngModel",n.confirmPassword),l(2),d("ngClass",n.showConfirmPassword?"fa-eye-slash":"fa-eye"),l(),d("ngIf",n.confirmPasswordError),l(3),v("ngModel",n.phoneNumber),l(2),d("ngIf",n.phoneNumberError),l(),d("ngIf",n.signUpError))},dependencies:[M,ee,k,T,re,B,z,ie,ce,D,oe],styles:[".signup-card[_ngcontent-%COMP%]{max-width:400px;padding:1rem}.error-message[_ngcontent-%COMP%]{font-size:.875rem;margin-top:-.75rem;margin-bottom:.75rem}"]})};function Ut(r,t){if(r&1){let e=S();i(0,"li")(1,"a",27),u("click",function(){f(e);let s=p(2);return h(s.closeCategoriesDropdown())}),a(2),o()()}if(r&2){let e=t.$implicit;l(),d("routerLink",e.route),l(),b(e.name)}}function Wt(r,t){if(r&1&&(i(0,"ul",25),g(1,Ut,3,2,"li",26),o()),r&2){let e=p();l(),d("ngForOf",e.categories)}}function Ht(r,t){if(r&1&&(i(0,"span",28),a(1),o()),r&2){let e=p();l(),b(e.cartItemCount)}}function Qt(r,t){if(r&1&&m(0,"img",43),r&2){let e=p(2);d("src",e.currentUser.profilePicture,E)}}function $t(r,t){r&1&&m(0,"i",44)}function Zt(r,t){if(r&1&&(i(0,"span",45),a(1),o()),r&2){let e=p(2);l(),b(e.orderCount)}}function Gt(r,t){if(r&1&&(i(0,"span",46),a(1),o()),r&2){let e=p(2);l(),b(e.toolboxItemCount)}}function Yt(r,t){if(r&1){let e=S();i(0,"div",25)(1,"div",29),g(2,Qt,1,1,"img",30)(3,$t,1,0,"ng-template",null,0,Z),i(5,"div",31)(6,"a",32),u("click",function(s){f(e);let c=p();return h(c.navigateToProfile(s))}),a(7),o(),i(8,"div",33),a(9),o()()(),i(10,"ul",34)(11,"li")(12,"a",35),m(13,"i",36),a(14," Orders "),g(15,Zt,2,1,"span",37),o()(),i(16,"li")(17,"a",38),m(18,"i",39),a(19," Toolbox "),g(20,Gt,2,1,"span",40),o()(),i(21,"li")(22,"a",41),u("click",function(){f(e);let s=p();return h(s.logout())}),m(23,"i",42),a(24," Log out"),o()()()()}if(r&2){let e=Q(4),n=p();l(2),d("ngIf",n.currentUser.profilePicture)("ngIfElse",e),l(5),b(n.currentUser.name),l(2),b(n.currentUser.email),l(6),d("ngIf",n.orderCount>0),l(5),d("ngIf",n.toolboxItemCount>0)}}var Y=class r{constructor(t,e,n,s,c){this.router=t;this.userService=e;this.cartService=n;this.toolboxService=s;this.orderService=c}currentUser={userId:"",name:"",email:"",profilePicture:""};isAccountOpen=!1;isCategoriesOpen=!1;isMobileMenuOpen=!1;searchQuery="";cartItemCount=0;toolboxItemCount=0;orderCount=0;categories=[{name:"Power Tools",route:"/categories/power-tools"},{name:"Hand Tools",route:"/categories/hand-tools"},{name:"Electrical Materials",route:"/categories/electrical-materials"},{name:"Building Materials",route:"/categories/building-materials"},{name:"Gardening Tools",route:"/categories/gardening-tools"},{name:"Paint & Supplies",route:"/categories/paint-supplies"},{name:"Plumbing Supplies",route:"/categories/plumbing-supplies"},{name:"Safety Tools",route:"/categories/safety-tools"}];ngOnInit(){this.userService.user$.subscribe(t=>{this.currentUser=t}),this.cartService.cartItems$.subscribe(t=>{this.cartItemCount=t.reduce((e,n)=>e+n.quantity,0)}),this.toolboxService.toolboxItems$.subscribe(t=>{this.toolboxItemCount=t.reduce((e,n)=>e+n.quantity,0)}),this.updateOrderCount(),setInterval(()=>{this.updateOrderCount()},6e4)}updateOrderCount(){let t=this.currentUser.userId,e=this.orderService.getOrdersByUserId(t);this.orderCount=e.length}toggleAccountDropdown(){this.isAccountOpen=!this.isAccountOpen}toggleCategoriesDropdown(){this.isCategoriesOpen=!this.isCategoriesOpen}closeAccountDropdown(){this.isAccountOpen=!1}closeCategoriesDropdown(){this.isCategoriesOpen=!1}toggleMobileMenu(){this.isMobileMenuOpen=!this.isMobileMenuOpen}onSearch(t){t.preventDefault(),this.searchQuery.trim()&&(this.router.navigate(["/search"],{queryParams:{q:this.searchQuery.trim()}}),this.searchQuery="")}navigateToProfile(t){t.preventDefault(),this.router.navigate(["/profile"]),this.closeAccountDropdown()}logout(){this.closeAccountDropdown()}onDocumentClick(t){let e=t.target,n=document.querySelector(".categories-dropdown"),s=document.querySelector(".account-dropdown");n&&!n.contains(e)&&(this.isCategoriesOpen=!1),s&&!s.contains(e)&&(this.isAccountOpen=!1)}static \u0275fac=function(e){return new(e||r)(x(I),x(N),x(L),x(H),x(de))};static \u0275cmp=P({type:r,selectors:[["app-navbar"]],hostBindings:function(e,n){e&1&&u("click",function(c){return n.onDocumentClick(c)},!1,ke)},decls:33,vars:16,consts:[["defaultIcon",""],["aria-label","Toggle menu",1,"hamburger",3,"click"],[1,"hamburger-line"],[1,"navbar-container"],[1,"navbar"],[1,"navbar-left"],["routerLink","/home","aria-label","HardwareHub Home",1,"logo-link"],["src","assets/toolbox.png","alt","HardwareHub Logo",1,"logo"],["routerLink","/home",1,"nav-link"],[1,"categories-dropdown"],["aria-haspopup","true",1,"dropdown-toggle",3,"click"],[1,"caret"],["class","dropdown-menu","role","menu",4,"ngIf"],[1,"navbar-center"],["role","search","aria-label","Product Search",1,"search-form",3,"submit"],["type","search","name","search","placeholder","Search...","aria-label","Search products",3,"ngModelChange","ngModel"],["type","submit","aria-label","Search"],[1,"fa-solid","fa-search","search-icon"],[1,"navbar-right"],["routerLink","/cart","aria-label","Shopping Cart",1,"icon-link"],[1,"fa-solid","fa-shopping-cart"],["class","cart-count",4,"ngIf"],[1,"account-dropdown"],["aria-haspopup","true",1,"account-btn",3,"click"],[1,"fa-solid","fa-user"],["role","menu",1,"dropdown-menu"],[4,"ngFor","ngForOf"],["routerLinkActive","active",3,"click","routerLink"],[1,"cart-count"],[1,"user-info"],["alt","Profile Picture","class","profile-icon",3,"src",4,"ngIf","ngIfElse"],[1,"user-details"],["href","javascript:void(0)",1,"user-name",3,"click"],[1,"user-email"],[1,"menu-options"],["routerLink","/my-orders",2,"position","relative"],[1,"fa-solid","fa-shopping-bag"],["class","order-count",4,"ngIf"],["routerLink","/toolbox",2,"position","relative"],[1,"fa-solid","fa-heart"],["class","toolbox-count",4,"ngIf"],["href","#",3,"click"],[1,"fa-solid","fa-sign-out-alt"],["alt","Profile Picture",1,"profile-icon",3,"src"],[1,"fa-solid","fa-user-circle","profile-icon"],[1,"order-count"],[1,"toolbox-count"]],template:function(e,n){e&1&&(i(0,"button",1),u("click",function(){return n.toggleMobileMenu()}),m(1,"span",2)(2,"span",2)(3,"span",2),o(),i(4,"div",3)(5,"nav",4)(6,"div",5)(7,"a",6),m(8,"img",7),o(),i(9,"a",8),a(10,"Home"),o(),i(11,"div",9)(12,"button",10),u("click",function(){return n.toggleCategoriesDropdown()}),a(13," Categories "),i(14,"span",11),a(15,"\u25BE"),o()(),g(16,Wt,2,1,"ul",12),o()(),i(17,"div",13)(18,"form",14),u("submit",function(c){return n.onSearch(c)}),i(19,"input",15),y("ngModelChange",function(c){return C(n.searchQuery,c)||(n.searchQuery=c),c}),o(),i(20,"button",16),m(21,"i",17),o()()(),i(22,"div",18)(23,"a",19),m(24,"i",20),g(25,Ht,2,1,"span",21),o(),i(26,"div",22)(27,"button",23),u("click",function(){return n.toggleAccountDropdown()}),m(28,"i",24),a(29),i(30,"span",11),a(31,"\u25BE"),o()(),g(32,Yt,25,6,"div",12),o()()()()),e&2&&(le("aria-expanded",n.isMobileMenuOpen),l(4),U("open",n.isMobileMenuOpen),l(7),U("open",n.isCategoriesOpen),l(),le("aria-expanded",n.isCategoriesOpen.toString()),l(4),d("ngIf",n.isCategoriesOpen),l(3),v("ngModel",n.searchQuery),l(6),d("ngIf",n.cartItemCount>0),l(),U("open",n.isAccountOpen),l(),le("aria-expanded",n.isAccountOpen),l(2),_(" ",n.currentUser.name," "),l(),U("open",n.isAccountOpen),l(2),d("ngIf",n.isAccountOpen))},dependencies:[M,O,k,G,ne,ut,T,re,B,z,ie,D,oe],styles:[`*{font-family:var(--primary-font);box-sizing:border-box;margin:0;padding:0}.navbar{display:flex;align-items:center;justify-content:space-between;background-color:var(--primary-color);padding:10px 20px;box-shadow:0 2px 4px #0000001a;position:sticky;top:0;z-index:1000;flex-wrap:nowrap;flex-shrink:0}.navbar-left,.navbar-right{display:flex;flex-direction:row;align-items:center;gap:20px;flex-shrink:0}.navbar-center{flex:1;display:flex;justify-content:center}.navbar-center .search-form{width:100%;max-width:400px}.logo-link{display:flex;align-items:center}.logo{height:55px;width:auto;object-fit:contain}.nav-link,.icon-link{text-decoration:none;font-weight:500;color:var(--black);cursor:pointer;transition:color .3s ease}.nav-link:hover,.icon-link:hover,.account-btn:hover{color:var(--primary-light)}.categories-dropdown{position:relative;margin-right:20px;display:inline-block}.categories-dropdown .dropdown-toggle{background:none;border:none;color:var(--black);font-size:16px;font-weight:500;cursor:pointer;display:flex;align-items:center;gap:4px}.categories-dropdown .dropdown-toggle:hover{color:var(--primary-light)}.categories-dropdown .dropdown-menu{display:none;position:absolute;top:30px;left:0;background:var(--white);box-shadow:0 2px 8px #00000026;border-radius:4px;width:250px;z-index:1001;transition:opacity .3s ease;opacity:0;pointer-events:none;padding-left:0}.categories-dropdown.open .dropdown-menu{display:block;opacity:1;pointer-events:auto}.categories-dropdown .dropdown-menu li{list-style-position:inside;padding-left:16px;text-align:left}.categories-dropdown .dropdown-menu li a{display:inline-block;padding:10px 16px;color:var(--text-primary);text-decoration:none;font-weight:500;font-size:.95rem;border-radius:6px;transition:background-color .3s ease,color .3s ease;-webkit-user-select:none;user-select:none}.categories-dropdown .dropdown-menu li a:hover{background-color:var(--accent-color);color:var(--white)}.search-form{width:100%;position:relative;display:flex;align-items:center}.search-form input[type=search]{width:100%;padding:10px 45px 10px 20px;font-size:16px;border:1px solid var(--primary-color);border-radius:25px;box-sizing:border-box;transition:width .3s ease,border-color .3s ease,box-shadow .3s ease;background-color:var(--white);color:var(--text-primary);outline:none}.search-form input[type=search]:focus{border-color:var(--primary-light);box-shadow:0 0 8px var(--primary-light)}.search-form button{position:absolute;right:15px;top:50%;transform:translateY(-50%);border:none;background:var(--primary-color);font-size:18px;color:var(--white);cursor:pointer;height:32px;width:32px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:background-color .3s ease}.search-form button:hover{background-color:var(--primary-light)}.account-dropdown{position:relative}.account-btn{display:flex;align-items:center;gap:6px;background-color:var(--black);color:var(--white);border:none;padding:8px 12px;font-size:14px;font-weight:500;border-radius:4px;cursor:pointer;transition:background-color .3s ease}.account-btn .caret{font-size:10px;margin-left:4px}.account-dropdown .dropdown-menu{display:none;position:absolute;right:0;top:100%;background:var(--white);min-width:280px;padding:12px;border-radius:6px;box-shadow:0 4px 8px #00000026;z-index:1000;font-size:14px}.account-dropdown.open .dropdown-menu{display:block}.user-info{display:flex;align-items:center;gap:10px;margin-bottom:12px;padding-bottom:8px;border-bottom:1px solid var(--border-color)}.profile-icon{width:36px;height:36px;border-radius:50%;object-fit:cover;font-size:36px;color:var(--text-secondary)}.user-details{display:flex;flex-direction:column}.user-name{font-weight:600;color:var(--text-link);text-decoration:none;cursor:pointer}.user-name:hover{text-decoration:underline}.user-email{font-size:13px;color:#42413f}.menu-options{list-style:none;padding:0}.menu-options li{margin:8px 0}.menu-options a{display:flex;align-items:center;gap:8px;font-weight:400;color:var(--text-primary);text-decoration:none;transition:color .3s ease}.menu-options a:hover{color:var(--accent-color)}.icon-link{font-size:24px;cursor:pointer;color:#000;position:relative}.cart-count,.toolbox-count{position:absolute;font-size:.75rem;font-weight:700;padding:2px 6px;border-radius:12px;min-width:18px;text-align:center;box-shadow:0 1px 4px #0000004d;pointer-events:none;-webkit-user-select:none;user-select:none}.cart-count{top:-6px;right:-10px;background-color:var(--primary-light);color:var(--primary-dark)}.toolbox-count{top:-1px;left:85px;background-color:#e03e3e;color:#fff}.hamburger{display:none;flex-direction:column;justify-content:space-around;width:32px;height:28px;background:transparent;border:none;cursor:pointer;position:fixed;top:15px;right:15px;z-index:1400}.hamburger-line{width:32px;height:4px;background-color:var(--black);border-radius:2px}@media (max-width: 992px){.navbar{padding:10px 15px}.navbar-left{flex:1;order:1;gap:15px}.navbar-center{flex:1;order:2;justify-content:center}.navbar-right{flex:1;order:3;gap:10px;justify-content:flex-end}.account-btn{font-size:13px;padding:7px 12px}}@media (max-width: 768px){.navbar-left,.navbar-center,.navbar-right{flex:1}.navbar-center{justify-content:center}}@media (max-width: 480px){.navbar{flex-direction:column;padding:8px 10px;height:auto;width:100%;flex-wrap:wrap}.search-form,.navbar-center{display:none}.navbar-left{width:100%;flex-direction:column;display:flex;gap:15px;align-items:flex-start}.navbar-right{width:100%;flex-direction:row;display:flex;justify-content:space-between;align-items:center;gap:35px;padding:10px 0}.navbar-right .icon-link{position:relative;font-size:25px;display:flex;align-items:center;justify-content:center}.navbar-right .cart-count{position:absolute;top:-6px;right:-6px;font-size:.65rem;padding:1px 5px;min-width:16px;background-color:red;color:#fff;border-radius:50%;text-align:center}.nav-link{font-size:16px;padding:10px 0;width:100%;border-bottom:1px solid rgba(0,0,0,.1)}.navbar-right .nav-link{width:auto;padding:0;border-bottom:none}.categories-dropdown .dropdown-toggle{font-size:18px;padding:14px 0;width:100%;text-align:left;cursor:pointer}.categories-dropdown .dropdown-menu{position:absolute;top:100%;left:0;background-color:#fff;box-shadow:0 4px 12px #0000001a;border-radius:8px;width:180px;max-height:300px;overflow-y:auto;padding-left:0;z-index:1500}.categories-dropdown .dropdown-menu li{display:flex;align-items:center;padding:10px 15px;font-size:16px;cursor:pointer;border-bottom:1px solid #e0e0e0}.categories-dropdown .dropdown-menu li:last-child{border-bottom:none}.categories-dropdown .dropdown-menu li:hover{background-color:#22c7a9}.hamburger{display:flex}.navbar-container{position:fixed;top:0;right:-250px;width:250px;height:100vh;background-color:var(--primary-color);box-shadow:-2px 0 5px #0000004d;transition:right .3s ease-in-out;z-index:1200;display:flex;flex-direction:column;padding:20px;overflow-y:auto}.navbar-container.open{right:0}.account-btn{font-size:13px;padding:7px 14px;background-color:#000;color:#fff;border-radius:6px;display:flex;align-items:center;gap:6px}.account-dropdown{position:relative;width:100%;margin-top:5px}.account-dropdown .dropdown-menu{position:absolute;top:100%;left:50%;transform:translate(-50%);background:#fff;box-shadow:0 4px 12px #00000026;border-radius:8px;padding:10px;width:80%;max-width:220px;min-width:150px;z-index:2000;word-wrap:break-word}.account-dropdown .user-info{display:flex;flex-direction:column;word-break:break-word;font-size:14px;line-height:1.4;white-space:normal}}
`],encapsulation:2})};var Jt=()=>["/products"],Kt=()=>({mode:"new"}),St=()=>[1,2,3,4,5],Xt=r=>["/product-details",r];function en(r,t){if(r&1&&(i(0,"p",57),a(1),o()),r&2){let e=p().$implicit;l(),b(e.caption)}}function tn(r,t){r&1&&(i(0,"span",58),a(1,"Hot"),o())}function nn(r,t){if(r&1&&(i(0,"a",51),m(1,"img",52),i(2,"div",53)(3,"h3",54),a(4),o(),g(5,en,2,1,"p",55),o(),g(6,tn,2,0,"span",56),o()),r&2){let e=t.$implicit;d("routerLink",e.route),le("aria-label",e.name),l(),d("src",e.image,E)("alt",e.name),l(3),b(e.name),l(),d("ngIf",e.caption),l(),d("ngIf",e.isHot)}}function on(r,t){if(r&1&&(i(0,"div",70),a(1),o()),r&2){let e=p().$implicit,n=p();l(),at(" ",n.formatTime(e.timeLeft.hours)," : ",n.formatTime(e.timeLeft.minutes)," : ",n.formatTime(e.timeLeft.seconds)," ")}}function rn(r,t){if(r&1&&(i(0,"span"),m(1,"i",74),o()),r&2){let e=t.index,n=p(2).$implicit,s=p();l(),d("ngClass",s.getStarClass(n.rating,e))}}function an(r,t){if(r&1&&(i(0,"div",71),g(1,rn,2,1,"span",72),i(2,"span",73),a(3),o()()),r&2){let e=p().$implicit;l(),d("ngForOf",J(2,St)),l(2),b(e.rating.toFixed(1))}}function ln(r,t){if(r&1){let e=S();i(0,"div",59),u("click",function(){let s=f(e).$implicit,c=p();return h(c.navigateToProductDetails(s.id.toString()))}),i(1,"div",60)(2,"span"),a(3,"Deal of the Day"),o(),g(4,on,2,3,"div",61),o(),m(5,"img",62),i(6,"h3",63),a(7),o(),i(8,"p",64),a(9),o(),i(10,"div",65)(11,"span",66),a(12),V(13,"number"),o(),i(14,"span",67),a(15),V(16,"number"),o(),i(17,"span",68),a(18),o()(),g(19,an,4,3,"div",69),o()}if(r&2){let e=t.$implicit,n=p();l(4),d("ngIf",e.timeLeft),l(),d("src",n.getProductImage(e),E)("alt",n.getProductName(e)),l(2),b(e.name),l(2),b(e.description),l(3),_("\u20B1",$(13,9,e.price,"1.0-0"),""),l(3),_("\u20B1",$(16,12,e.salePrice,"1.0-0"),""),l(3),_("",n.getDiscountPercent(e),"%"),l(),d("ngIf",e.rating!==void 0&&e.rating!==null)}}function sn(r,t){r&1&&(i(0,"span",82),a(1,"Trending This Week"),o())}function cn(r,t){if(r&1&&(i(0,"span"),m(1,"i",74),o()),r&2){let e=t.index,n=p(2).$implicit,s=p();l(),d("ngClass",s.getStarClass(n.rating,e))}}function dn(r,t){if(r&1&&(i(0,"div",71),g(1,cn,2,1,"span",72),i(2,"span",73),a(3),o()()),r&2){let e=p().$implicit;l(),d("ngForOf",J(2,St)),l(2),b(e.rating.toFixed(1))}}function pn(r,t){if(r&1){let e=S();i(0,"div",75)(1,"div",76),m(2,"img",62),i(3,"span",77),a(4,"New"),o()(),i(5,"h3",63),a(6),o(),i(7,"p",64),a(8),o(),g(9,sn,2,0,"span",78),i(10,"div",65)(11,"span",79),a(12),V(13,"number"),o()(),g(14,dn,4,3,"div",69),i(15,"button",80),u("click",function(){let s=f(e).$implicit,c=p();return h(c.addToCart(s))}),a(16,"Add to Cart"),o(),i(17,"button",81),a(18,"View Details"),o()()}if(r&2){let e=t.$implicit,n=p();l(2),d("src",n.getProductImage(e),E)("alt",n.getProductName(e)),l(4),b(e.name),l(2),b(e.description),l(),d("ngIf",e.isTrending),l(3),_("\u20B1",$(13,8,e.price,"1.0-0"),""),l(2),d("ngIf",e.rating!==void 0),l(3),d("routerLink",X(11,Xt,e.id))}}var Ae=class r{constructor(t,e,n,s,c){this.router=t;this.userService=e;this.productService=n;this.cartService=s;this.toolboxService=c}currentUser={userId:"",name:"",email:"",profilePicture:""};isAccountOpen=!1;isCategoriesOpen=!1;showAboutModal=!1;userSubscription;countdownSubscription;flashSales=[];newArrivals=[];popularCategories=[{name:"Power Tools",caption:"For Heavy-Duty Work",image:"assets/power tools.jpg",route:"/categories/power-tools",isHot:!0},{name:"Hand Tools",caption:"DIY Must-Haves",image:"assets/hand-tools.jpg",route:"/categories/hand-tools"},{name:"Electrical Materials",caption:"Wiring & Essentials",image:"assets/electrical.jpg",route:"/categories/electrical-materials",isHot:!0},{name:"Plumbing Supplies",caption:"Leak-Free Solutions",image:"assets/plumbing-tools.jpg",route:"/categories/plumbing-supplies"}];bannerMessage="\u{1F69A} Free delivery on orders over \u20B12,000! Limited time offer.";bannerCtaLabel="Shop Now";bannerCtaTarget="/categories";ngOnInit(){this.userSubscription=this.userService.user$.subscribe(t=>{this.currentUser=t}),this.flashSales=this.productService.getFlashSalesProducts().slice(0,4),this.newArrivals=this.productService.getNewArrivalsProducts().slice(0,5),this.startCountdown()}ngOnDestroy(){this.userSubscription?.unsubscribe(),this.countdownSubscription?.unsubscribe()}toggleAccountDropdown(){this.isAccountOpen=!this.isAccountOpen}toggleCategoriesDropdown(){this.isCategoriesOpen=!this.isCategoriesOpen}closeAccountDropdown(){this.isAccountOpen=!1}closeCategoriesDropdown(){this.isCategoriesOpen=!1}onBannerCtaClick(){this.router.navigate([this.bannerCtaTarget])}navigateToProfile(t){t.preventDefault(),this.router.navigate(["/profile"])}getStarClass(t,e){return e<Math.floor(t)?"fa-star":e<t?"fa-star-half-o":"fa-star-o"}getDiscountPercent(t){if(t.price&&t.salePrice&&t.salePrice<t.price){let e=(t.price-t.salePrice)/t.price*100;return e>0?Math.round(e):0}return 0}startCountdown(){this.countdownSubscription=Pe(1e3).subscribe(()=>{let t=new Date().getTime();this.flashSales.forEach(e=>{if(e.dealEndTime){let n=e.dealEndTime.getTime()-t;n>0?e.timeLeft&&(e.timeLeft.hours=Math.floor(n/(1e3*60*60)%24),e.timeLeft.minutes=Math.floor(n/(1e3*60)%60),e.timeLeft.seconds=Math.floor(n/1e3%60)):e.timeLeft={hours:0,minutes:0,seconds:0}}})})}scrollToNewArrivals(){let t=document.querySelector(".new-arrivals");t&&t.scrollIntoView({behavior:"smooth"})}scrollToTop(t){t.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})}getProductImage(t){return t.image??"/default-product-image.jpg"}formatCategory(t){return t?t.replace(/-/g," "):""}onDocumentClick(t){let e=t.target,n=document.querySelector(".nav-left .dropdown");n&&!n.contains(e)&&(this.isCategoriesOpen=!1)}formatTime(t){return t<10?"0"+t:t.toString()}getProductName(t){return t.name??""}addToCart(t){let e={id:t.id,name:t.name,thumbnail:t.image??"/default-product-image.jpg",price:t.salePrice??t.price,quantity:1,stock:10,subtotal:t.salePrice??t.price};this.cartService.addItem(e),alert(`${t.name} has been added to the cart.`)}addToToolbox(t){let e={id:t.id,name:t.name,thumbnail:t.image??"/default-product-image.jpg",price:t.salePrice??t.price,quantity:1,stock:10,subtotal:t.salePrice??t.price};this.toolboxService.addItem(e),alert(`${t.name} has been added to your toolbox.`)}navigateToProductDetails(t){this.router.navigate(["/product-details",t])}toggleAboutModal(){this.showAboutModal=!this.showAboutModal}static \u0275fac=function(e){return new(e||r)(x(I),x(N),x(W),x(L),x(H))};static \u0275cmp=P({type:r,selectors:[["app-home"]],hostBindings:function(e,n){e&1&&u("click",function(c){return n.onDocumentClick(c)},!1,ke)},decls:113,vars:9,consts:[[1,"page-container"],[1,"promotional-banner"],[1,"banner-content"],[1,"banner-message"],[1,"banner-cta",3,"click"],[1,"hero"],[1,"hero-left"],[1,"explore-btn",3,"click"],[1,"hero-right"],["src","assets/homepage.png","alt","Hardware Tools",1,"hero-image"],[1,"popular-categories"],[1,"section-header"],[1,"subtitle"],[1,"categories-grid"],["class","category-card","tabindex","0",3,"routerLink",4,"ngFor","ngForOf"],[1,"view-all-wrapper"],["routerLink","/categories",1,"view-all-btn"],[1,"flash-sales"],[1,"flash-sales-header"],["routerLink","/flash-sales",1,"view-all-link"],[1,"flash-sales-carousel"],["class","flash-sale-card","style","cursor:pointer;",3,"click",4,"ngFor","ngForOf"],[1,"new-arrivals"],[1,"new-arrivals-header"],[1,"new-arrivals-title"],[1,"view-all-new-products",3,"routerLink","queryParams"],[1,"new-arrivals-grid"],["class","product-card",4,"ngFor","ngForOf"],[1,"footer"],[1,"footer-container"],[1,"footer-column","quick-links"],["href","#"],[1,"footer-column","contact-info"],["href","mailto:support@hardwarehub.com"],[1,"footer-column","social-media"],[1,"social-icons"],["href","https://www.facebook.com/HardwareHub","target","_blank","aria-label","Facebook",1,"social-icon","facebook"],[1,"fab","fa-facebook-f"],["href","https://www.instagram.com/HardwareHub","target","_blank","aria-label","Instagram",1,"social-icon","instagram"],[1,"fab","fa-instagram"],["href","https://www.tiktok.com/@hardwarehubshop","target","_blank","aria-label","TikTok",1,"social-icon","tiktok"],[1,"fab","fa-tiktok"],[1,"footer-column","newsletter"],["action","#","method","POST",1,"newsletter-form"],["type","email","placeholder","Enter your email","required",""],["type","submit"],[1,"footer-column","opening-hours"],[1,"footer-column","payment-methods"],["src","assets/gcash-seeklogo.png","alt","GCash Payment",2,"width","120px"],[1,"back-to-top"],["href","#",3,"click"],["tabindex","0",1,"category-card",3,"routerLink"],[3,"src","alt"],[1,"text-overlay"],[1,"category-name"],["class","category-caption",4,"ngIf"],["class","hot-tag",4,"ngIf"],[1,"category-caption"],[1,"hot-tag"],[1,"flash-sale-card",2,"cursor","pointer",3,"click"],[1,"deal-label"],["class","countdown-timer",4,"ngIf"],[1,"product-image",3,"src","alt"],[1,"product-name"],[1,"product-description"],[1,"price-info"],[1,"original-price"],[1,"sale-price"],[1,"discount-percent"],["class","rating",4,"ngIf"],[1,"countdown-timer"],[1,"rating"],[4,"ngFor","ngForOf"],[1,"rating-value"],[1,"fa",3,"ngClass"],[1,"product-card"],[1,"product-image-wrapper"],[1,"new-badge"],["class","trending-badge",4,"ngIf"],[1,"price"],[1,"add-to-cart-btn",3,"click"],[1,"view-details-btn",3,"routerLink"],[1,"trending-badge"]],template:function(e,n){e&1&&(m(0,"app-navbar"),i(1,"div",0)(2,"section",1)(3,"div",2)(4,"span",3),a(5),o(),i(6,"button",4),u("click",function(){return n.onBannerCtaClick()}),a(7),o()()(),i(8,"section",5)(9,"div",6)(10,"h1"),a(11,"HardwareHub"),o(),i(12,"p")(13,"em"),a(14,'"Your ultimate hardware store On-the-Go"'),o()(),i(15,"button",7),u("click",function(){return n.scrollToNewArrivals()}),a(16,"Explore More"),o()(),i(17,"div",8),m(18,"img",9),o()(),i(19,"section",10)(20,"div",11)(21,"h2"),a(22,"Popular Categories"),o(),i(23,"p",12),a(24,"Browse our most in-demand products."),o()(),i(25,"div",13),g(26,nn,7,7,"a",14),o(),i(27,"div",15)(28,"a",16),a(29,"See All Categories"),o()()(),i(30,"section",17)(31,"div",18)(32,"h2"),a(33,"Flash Sales"),o(),i(34,"a",19),a(35,"View all"),o()(),i(36,"div",20),g(37,ln,20,15,"div",21),o()(),i(38,"section",22)(39,"div",23)(40,"div",24)(41,"h2"),a(42,"New Arrivals"),o(),i(43,"a",25),a(44,"View New Products"),o()(),i(45,"p"),a(46,"Check out the latest additions to our hardware inventory."),o()(),i(47,"div",26),g(48,pn,19,13,"div",27),o()()(),i(49,"footer",28)(50,"div",29)(51,"div",30)(52,"h3"),a(53,"Resources"),o(),i(54,"ul")(55,"li")(56,"a",31),a(57,"About HardwareHub"),o()(),i(58,"li")(59,"a",31),a(60,"FAQ"),o()(),i(61,"li")(62,"a",31),a(63,"Terms of Service"),o()(),i(64,"li")(65,"a",31),a(66,"Privacy Policy"),o()()()(),i(67,"div",32)(68,"h3"),a(69,"Contact Information"),o(),i(70,"ul")(71,"li"),a(72,"\u{1F4DE} +63 912 345 6789"),o(),i(73,"li"),a(74,"\u2709\uFE0F "),i(75,"a",33),a(76,"support@hardwarehub.com"),o()(),i(77,"li"),a(78,"\u{1F4CD} Maya, Daanbantayan, Cebu"),o()()(),i(79,"div",34)(80,"h3"),a(81,"Follow Us"),o(),i(82,"div",35)(83,"a",36),m(84,"i",37),o(),i(85,"a",38),m(86,"i",39),o(),i(87,"a",40),m(88,"i",41),o()()(),i(89,"div",42)(90,"h3"),a(91,"Subscribe to Our Newsletter"),o(),i(92,"form",43),m(93,"input",44),i(94,"button",45),a(95,"Subscribe"),o()()(),i(96,"div",46)(97,"h3"),a(98,"Opening Hours"),o(),i(99,"ul")(100,"li"),a(101,"Mon - Fri: 8:00 AM - 5:00 PM"),o(),i(102,"li"),a(103,"Saturday: 9:00 AM - 4:00 PM"),o(),i(104,"li"),a(105,"Sunday: Closed"),o()()(),i(106,"div",47)(107,"h3"),a(108,"Payment Methods"),o(),m(109,"img",48),o()(),i(110,"div",49)(111,"a",50),u("click",function(c){return n.scrollToTop(c)}),a(112,"Back to Top"),o()()()),e&2&&(l(5),b(n.bannerMessage),l(2),b(n.bannerCtaLabel),l(19),d("ngForOf",n.popularCategories),l(11),d("ngForOf",n.flashSales),l(6),d("routerLink",J(7,Jt))("queryParams",J(8,Kt)),l(5),d("ngForOf",n.newArrivals))},dependencies:[M,ee,O,k,he,G,ne,Y],styles:['body[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-weight:400;background-color:var(--neutral-light);color:var(--neutral-dark);margin:0;padding:0}.hero[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:40px 20px;background-color:var(--primary-light);flex-wrap:wrap;gap:40px}.hero-left[_ngcontent-%COMP%]{flex:1 1 300px;max-width:600px}.hero-left[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:48px;font-weight:700;margin-bottom:10px;color:var(--neutral-dark)}.hero-left[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px;font-style:italic;font-weight:400;margin-bottom:20px;color:var(--neutral-dark)}.explore-btn[_ngcontent-%COMP%]{background-color:var(--primary-color);color:var(--neutral-light);border:none;padding:15px 30px;font-size:18px;font-weight:600;border-radius:30px;cursor:pointer;transition:background-color .3s ease}.explore-btn[_ngcontent-%COMP%]:hover{background-color:var(--primary-dark)}.hero-right[_ngcontent-%COMP%]{flex:1 1 300px;max-width:600px;text-align:center}.hero-image[_ngcontent-%COMP%]{max-width:100%;height:auto;border-radius:50%;box-shadow:0 8px 24px #0000001a}@media (max-width: 768px){.hero[_ngcontent-%COMP%]{flex-direction:column;text-align:center}.hero-left[_ngcontent-%COMP%], .hero-right[_ngcontent-%COMP%]{width:100%;padding:10px}.hero-left[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:32px}.hero-left[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}.explore-btn[_ngcontent-%COMP%]{font-size:16px;padding:12px;width:100%}}@media (max-width: 480px){.hero-left[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px}.hero-left[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}.explore-btn[_ngcontent-%COMP%]{font-size:14px;padding:10px}.nav-left[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .nav-right[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-right:10px}}@media (max-width: 480px){.flash-sales-carousel[_ngcontent-%COMP%], .new-arrivals-grid[_ngcontent-%COMP%]{padding-left:5px;padding-right:5px}.flash-sale-card[_ngcontent-%COMP%], .product-card[_ngcontent-%COMP%]{max-width:180px}.flash-sale-card[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%], .product-card[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]{height:140px}}.flash-sales[_ngcontent-%COMP%], .new-arrivals[_ngcontent-%COMP%], .popular-categories[_ngcontent-%COMP%]{padding:40px 20px;background:var(--primary-light)}.flash-sales-carousel[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;gap:15px;padding:0 10px 10px;margin-top:10px;overflow-x:auto;overflow-y:hidden;cursor:default;width:100%;scroll-snap-type:x mandatory;justify-content:center}.flash-sale-card[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%], .product-card[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]{width:100%;height:180px;object-fit:contain;border-radius:6px}.flash-sale-card[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.new-arrivals-grid[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;gap:15px;padding:0 10px 10px;margin-top:10px;overflow-x:auto;overflow-y:hidden;-webkit-overflow-scrolling:touch;scroll-behavior:smooth;justify-content:center;scrollbar-width:thin;scrollbar-color:var(--accent-color) transparent;scroll-snap-type:x mandatory}.new-arrivals-grid[_ngcontent-%COMP%]::-webkit-scrollbar{height:8px}.new-arrivals-grid[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.new-arrivals-grid[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:var(--accent-color);border-radius:4px}.new-arrivals-grid[_ngcontent-%COMP%] > .product-card[_ngcontent-%COMP%]{flex:0 0 auto;scroll-snap-align:start;min-width:220px;max-width:220px;box-sizing:border-box;margin-bottom:10px;transition:transform .3s ease;cursor:pointer}.new-arrivals-grid[_ngcontent-%COMP%] > .product-card[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.flash-sale-card[_ngcontent-%COMP%], .product-card[_ngcontent-%COMP%]{background:var(--white);border-radius:8px;box-shadow:0 2px 8px #0000001a;padding:12px;display:flex;flex-direction:column;gap:8px;-webkit-user-select:none;user-select:none;cursor:pointer;transition:transform .3s ease;max-width:220px;box-sizing:border-box;scroll-snap-align:start}.flash-sale-card[_ngcontent-%COMP%]   .deal-label[_ngcontent-%COMP%]{background-color:var(--accent-color);color:var(--white);font-weight:600;font-size:.85rem;padding:4px 8px;border-radius:4px;margin-bottom:8px;display:inline-block}.flash-sale-card[_ngcontent-%COMP%]   .countdown-timer[_ngcontent-%COMP%]{font-weight:500;font-size:.8rem;margin-top:4px;color:var(--text-primary)}.product-card[_ngcontent-%COMP%]   .trending-badge[_ngcontent-%COMP%], .product-card[_ngcontent-%COMP%]   .new-badge[_ngcontent-%COMP%]{font-weight:600;font-size:.75rem;padding:4px 8px;border-radius:4px;-webkit-user-select:none;user-select:none;color:var(--white);display:inline-block;margin-top:8px}.product-card[_ngcontent-%COMP%]   .trending-badge[_ngcontent-%COMP%]{background-color:var(--accent-color)}.product-card[_ngcontent-%COMP%]   .new-badge[_ngcontent-%COMP%]{background-color:var(--primary-color);position:absolute;top:8px;right:8px}.discount-percent[_ngcontent-%COMP%]{font-weight:600;font-size:.75rem;padding:4px 8px;border-radius:4px;-webkit-user-select:none;user-select:none;color:var(--white);background-color:var(--primary-color);display:inline-block;margin-left:6px}.flash-sale-card[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%], .product-card[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;margin:8px 0 4px;color:var(--neutral-dark)}.flash-sale-card[_ngcontent-%COMP%]   .product-description[_ngcontent-%COMP%], .product-card[_ngcontent-%COMP%]   .product-description[_ngcontent-%COMP%]{font-size:.9rem;color:var(--neutral-dark);margin-bottom:8px;flex-grow:1}.flash-sale-card[_ngcontent-%COMP%]   .price-info[_ngcontent-%COMP%], .product-card[_ngcontent-%COMP%]   .price-info[_ngcontent-%COMP%]{display:flex;gap:10px;align-items:center;margin-bottom:8px}.flash-sale-card[_ngcontent-%COMP%]   .original-price[_ngcontent-%COMP%]{text-decoration:line-through;color:var(--neutral-dark);font-size:.9rem}.flash-sale-card[_ngcontent-%COMP%]   .sale-price[_ngcontent-%COMP%], .product-card[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{color:var(--primary-color);font-weight:700;font-size:1rem}.flash-sale-card[_ngcontent-%COMP%]   .rating[_ngcontent-%COMP%], .product-card[_ngcontent-%COMP%]   .rating[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;font-size:.9rem;color:var(--primary-color);margin-bottom:8px}.rating[_ngcontent-%COMP%]   i.fa[_ngcontent-%COMP%]{color:#ff0}.product-card[_ngcontent-%COMP%]   .add-to-cart-btn[_ngcontent-%COMP%], .product-card[_ngcontent-%COMP%]   .view-details-btn[_ngcontent-%COMP%]{display:block;width:100%;padding:8px 12px;font-size:.9rem;font-weight:600;border-radius:4px;cursor:pointer;transition:background-color .3s ease;margin-bottom:8px;border:none;color:var(--white);-webkit-user-select:none;user-select:none;z-index:10;background-color:var(--primary-color)}.product-card[_ngcontent-%COMP%]   .add-to-cart-btn[_ngcontent-%COMP%]:hover, .product-card[_ngcontent-%COMP%]   .view-details-btn[_ngcontent-%COMP%]:hover{background-color:var(--primary-dark)}.product-image-wrapper[_ngcontent-%COMP%]{position:relative}.flash-sales-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;margin-bottom:8px}.new-arrivals-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;align-items:flex-start;margin-bottom:8px}.flash-sales-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .new-arrivals-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:var(--neutral-dark);margin:0}.new-arrivals-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:var(--neutral-dark);margin:8px 0 0;flex-basis:100%;display:block}.new-arrivals-title[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;align-items:center}.view-all-link[_ngcontent-%COMP%], .view-all-new-products[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:var(--primary-color);text-decoration:none;cursor:pointer;transition:color .3s ease;display:inline-block}.view-all-link[_ngcontent-%COMP%]:hover, .view-all-new-products[_ngcontent-%COMP%]:hover{color:var(--primary-dark);text-decoration:underline}.footer[_ngcontent-%COMP%]{background-color:var(--primary-light);color:var(--neutral-dark);padding:30px 20px;font-size:14px;border-top:1px solid var(--border-color)}.footer-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;display:grid;grid-template-columns:repeat(3,1fr);gap:40px;flex-wrap:wrap;justify-items:center;align-items:start}.footer-column[_ngcontent-%COMP%]{flex:1 1 200px;min-width:180px}.footer-column[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px;font-weight:700;margin-bottom:15px;color:var(--neutral-dark)}.footer-column[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.footer-column[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px}.footer-column[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--neutral-dark);text-decoration:none;transition:color .3s ease}.footer-column[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--primary-color)}.footer-column.newsletter[_ngcontent-%COMP%], .footer-column.opening-hours[_ngcontent-%COMP%], .footer-column.payment-methods[_ngcontent-%COMP%]{grid-column:span 1}.footer-column.contact-info[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.footer-column.contact-info[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--neutral-dark)}.social-icons[_ngcontent-%COMP%]{display:flex;gap:15px}.social-icon[_ngcontent-%COMP%]{font-size:22px;color:var(--neutral-dark);transition:color .3s ease;display:flex;align-items:center;justify-content:center;text-decoration:none}.social-icon[_ngcontent-%COMP%]:hover{color:var(--primary-color)}.newsletter-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px;max-width:300px;margin:0 auto}.newsletter-form[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]{padding:10px 15px;border:1px solid var(--border-color);border-radius:4px;font-size:14px;width:100%;box-sizing:border-box;transition:border-color .3s ease}.newsletter-form[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]:focus{border-color:var(--primary-color)}.newsletter-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 15px;background-color:var(--primary-color);color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:14px;transition:background-color .3s ease}.newsletter-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:var(--primary-dark)}.newsletter-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{background-color:var(--primary-darkest)}.newsletter-form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;color:var(--neutral-dark);font-size:12px;margin-top:10px}.payment-methods[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-top:10px;max-width:80px;height:auto}.back-to-top[_ngcontent-%COMP%]{text-align:center;margin-top:40px}.back-to-top[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:inline-block;background-color:var(--primary-color);color:#fff;padding:10px 20px;border-radius:30px;font-weight:600;text-decoration:none;font-size:14px;transition:background-color .3s ease,transform .3s ease}.back-to-top[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:var(--primary-dark);transform:translateY(-3px)}@media (max-width: 768px){.footer-container[_ngcontent-%COMP%]{flex-direction:column;gap:20px}}@media (max-width: 480px){.footer-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px;padding:0 10px}.footer-column[_ngcontent-%COMP%]{width:100%;min-width:auto;text-align:center}.footer-column[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:14px}.footer-column[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:8px}.social-icons[_ngcontent-%COMP%]{justify-content:center}.back-to-top[_ngcontent-%COMP%]{margin-top:20px}.back-to-top[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:8px 16px;font-size:13px}}.popular-categories[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px}.popular-categories[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:var(--neutral-dark);margin-bottom:8px}.popular-categories[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:1.1rem;color:var(--neutral-dark);font-weight:400}.categories-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:16px}.category-card[_ngcontent-%COMP%]{position:relative;overflow:hidden;border-radius:12px;width:100%;height:200px;cursor:pointer;transition:transform .3s ease,box-shadow .3s ease;display:block;text-decoration:none;box-shadow:0 2px 8px #0000001a}.category-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block}.category-card[_ngcontent-%COMP%]:hover, .category-card[_ngcontent-%COMP%]:focus{transform:translateY(-4px);box-shadow:0 6px 20px #0003;outline:none}.category-card[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:#0000004d;z-index:1}.text-overlay[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;width:100%;padding:12px;background:linear-gradient(transparent,#0009);display:flex;flex-direction:column;align-items:flex-start}.category-name[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;margin:0}.category-caption[_ngcontent-%COMP%]{font-size:.85rem;font-weight:400;opacity:.8;margin-top:4px}.category-name[_ngcontent-%COMP%], .category-caption[_ngcontent-%COMP%]{position:relative;z-index:2;color:var(--white)}.hot-tag[_ngcontent-%COMP%]{position:absolute;z-index:2;top:12px;right:12px;background-color:var(--accent-color);color:var(--white);font-weight:700;font-size:.75rem;padding:4px 8px;border-radius:20px}.view-all-wrapper[_ngcontent-%COMP%]{text-align:center;margin-top:20px}.view-all-btn[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:var(--primary-color);text-decoration:none;cursor:pointer;transition:color .3s ease}.view-all-btn[_ngcontent-%COMP%]:hover, .view-all-btn[_ngcontent-%COMP%]:focus{color:var(--primary-dark);text-decoration:underline;outline:none}@media (max-width: 992px){.categories-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (max-width: 600px){.categories-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.category-card[_ngcontent-%COMP%]{max-width:100%}}.promotional-banner[_ngcontent-%COMP%]{background-color:var(--accent-color);color:var(--white);padding:10px 20px;text-align:center;font-weight:600;display:flex;justify-content:center;align-items:center;gap:15px;flex-wrap:wrap}.banner-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px;flex-wrap:wrap;justify-content:center}.banner-message[_ngcontent-%COMP%]{font-size:1.1rem;white-space:nowrap}.banner-cta[_ngcontent-%COMP%]{background-color:var(--primary-light);color:var(--accent-color);border:none;padding:6px 14px;font-weight:700;border-radius:20px;cursor:pointer;transition:background-color .3s ease;white-space:nowrap}.banner-cta[_ngcontent-%COMP%]:hover{background-color:var(--neutral-light);color:var(--primary-color)}@media (max-width: 480px){.banner-message[_ngcontent-%COMP%]{font-size:.9rem}.banner-cta[_ngcontent-%COMP%]{padding:5px 12px;font-size:.9rem}}']})};var qe=class r{constructor(t){this.router=t}continueToLogin(){this.router.navigate(["/login"])}static \u0275fac=function(e){return new(e||r)(x(I))};static \u0275cmp=P({type:r,selectors:[["app-signup-complete"]],decls:8,vars:0,consts:[[1,"signup-complete-wrapper"],[1,"decorative-circles"],[1,"content"],["src","assets/toolbox.png","alt","Sign Up Complete",1,"complete-image"],[1,"continue-btn",3,"click"]],template:function(e,n){e&1&&(i(0,"div",0),m(1,"div",1),i(2,"div",2),m(3,"img",3),i(4,"h2"),a(5,"Sign Up Complete"),o(),i(6,"button",4),u("click",function(){return n.continueToLogin()}),a(7,"Continue"),o()()())},styles:[".decorative-circles[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;background:radial-gradient(circle at 20% 30%,rgba(255,255,255,.15) 10px,transparent 11px),radial-gradient(circle at 50% 50%,rgba(255,255,255,.1) 20px,transparent 21px),radial-gradient(circle at 80% 70%,rgba(255,255,255,.2) 15px,transparent 16px);background-repeat:no-repeat;background-size:cover;z-index:0}.content[_ngcontent-%COMP%]{position:relative;z-index:1;text-align:center}.complete-image[_ngcontent-%COMP%]{width:150px;height:150px;border-radius:50%;margin-bottom:20px;object-fit:cover}h2[_ngcontent-%COMP%]{font-weight:700;font-size:24px;margin-bottom:40px;font-family:Poppins,sans-serif;color:#044f48}"]})};var mn=r=>["/product-details",r],un=()=>["/products"],gn=()=>({mode:"all"});function fn(r,t){if(r&1&&(i(0,"h1"),a(1),o()),r&2){let e=p();l(),b(e.currentCategoryName)}}function hn(r,t){r&1&&(i(0,"h1"),a(1,"All Categories"),o())}function xn(r,t){if(r&1&&(i(0,"p",12),a(1),o()),r&2){let e=p();l(),_(" Explore products in the ",e.currentCategoryName," category. ")}}function bn(r,t){r&1&&(i(0,"p",12),a(1,"Explore tools, materials, and supplies by department."),o())}function _n(r,t){if(r&1){let e=S();i(0,"div",13)(1,"label",14),a(2,"Search categories"),o(),i(3,"input",15),y("ngModelChange",function(s){f(e);let c=p();return C(c.searchTerm,s)||(c.searchTerm=s),h(s)}),u("input",function(){f(e);let s=p();return h(s.onSearchChange())}),o(),i(4,"small",16),a(5,"Type to filter categories by name"),o()()}if(r&2){let e=p();l(3),v("ngModel",e.searchTerm)}}function vn(r,t){if(r&1&&(i(0,"p",24),a(1),o()),r&2){let e=p().$implicit;l(),b(e.caption)}}function Cn(r,t){if(r&1&&(i(0,"a",19),m(1,"img",20),i(2,"div",21)(3,"h2",22),a(4),o(),g(5,vn,2,1,"p",23),o()()),r&2){let e=t.$implicit;d("routerLink",e.routerLink),le("aria-label",e.name+" category, "+(e.caption?e.caption:"")),l(),K("alt",e.altText),d("src",e.image,E),l(3),b(e.name),l(),d("ngIf",e.caption)}}function yn(r,t){if(r&1&&(i(0,"div",17),g(1,Cn,6,6,"a",18),o()),r&2){let e=p();l(),d("ngForOf",e.filteredCategories)}}function wn(r,t){if(r&1){let e=S();i(0,"div",25)(1,"label",26),a(2,"Search products"),o(),i(3,"input",27),y("ngModelChange",function(s){f(e);let c=p();return C(c.productSearchTerm,s)||(c.productSearchTerm=s),h(s)}),u("input",function(){f(e);let s=p();return h(s.onProductSearchChange())}),o(),i(4,"small",28),a(5,"Type to filter products by name or description"),o()()}if(r&2){let e=p();l(3),nt("placeholder","Search products in ",e.currentCategoryName,"..."),v("ngModel",e.productSearchTerm)}}function Sn(r,t){if(r&1&&(i(0,"a",32)(1,"h3",33),a(2),o(),i(3,"p",34),a(4),o(),i(5,"p",35),a(6),o()()),r&2){let e=t.$implicit;d("routerLink",X(5,mn,e.id)),le("aria-label",e.name+" product"),l(2),b(e.name),l(2),b(e.description),l(2),_("\u20B1",e.price.toFixed(2),"")}}function Pn(r,t){r&1&&(i(0,"p"),a(1,"No products found."),o())}function Mn(r,t){if(r&1&&(i(0,"div",29),g(1,Sn,7,7,"a",30)(2,Pn,2,0,"p",31),o()),r&2){let e=p();l(),d("ngForOf",e.filteredProducts),l(),d("ngIf",e.filteredProducts.length===0)}}function kn(r,t){r&1&&(i(0,"div",36)(1,"a",37),a(2," View All Products "),o()()),r&2&&(l(),d("routerLink",J(2,un))("queryParams",J(3,gn)))}var ye=class r{constructor(t,e){this.route=t;this.productService=e}categoryName=null;searchTerm="";productSearchTerm="";categories=[{name:"Power Tools",image:"assets/power tools.jpg",caption:"100+ items",routerLink:"/categories/power-tools",altText:"Power Tools"},{name:"Hand Tools",image:"assets/hand-tools.jpg",caption:"DIY essentials",routerLink:"/categories/hand-tools",altText:"Hand Tools"},{name:"Electrical Materials",image:"assets/electrical.jpg",caption:"Wide selection",routerLink:"/categories/electrical-materials",altText:"Electrical Materials"},{name:"Building Materials",image:"assets/building-materials.jpg",caption:"Quality supplies",routerLink:"/categories/building-materials",altText:"Building Materials"},{name:"Gardening Tools",image:"assets/garden-tools.jpg",caption:"For your garden",routerLink:"/categories/gardening-tools",altText:"Gardening Tools"},{name:"Paint & Supplies",image:"assets/painting-supplies.jpg",caption:"Colors and more",routerLink:"/categories/paint-supplies",altText:"Paint and Supplies"},{name:"Plumbing Supplies",image:"assets/plumbing-tools.jpg",caption:"Pipes and fittings",routerLink:"/categories/plumbing-supplies",altText:"Plumbing Supplies"},{name:"Safety Tools",image:"assets/safety-tools.jpg",caption:"Protective gear and more",routerLink:"/categories/safety-tools",altText:"Safety Tools"}];filteredCategories=[];products=[];filteredProducts=[];get currentCategoryName(){return this.filteredCategories.length>0?this.filteredCategories[0].name:""}ngOnInit(){this.route.paramMap.subscribe(t=>{this.categoryName=t.get("categoryName"),this.route.queryParams.subscribe(e=>{let n=e.mode||"all";console.log("Selected category:",this.categoryName,"Mode:",n),this.categoryName?(this.filteredCategories=this.categories.filter(s=>s.routerLink.toLowerCase().includes(this.categoryName.toLowerCase())),n==="new"?this.products=this.productService.getNewArrivalsProducts().filter(s=>s.category.toLowerCase()===this.categoryName.toLowerCase()):this.products=this.productService.getProductsByCategory(this.categoryName),this.filteredProducts=this.products):(this.filteredCategories=this.categories,this.products=[],this.filteredProducts=[])})})}onSearchChange(){let t=this.searchTerm.toLowerCase();this.filteredCategories=this.categories.filter(e=>e.name.toLowerCase().includes(t))}onProductSearchChange(){let t=this.productSearchTerm.toLowerCase();this.filteredProducts=this.products.filter(e=>e.name.toLowerCase().includes(t)||e.description.toLowerCase().includes(t))}static \u0275fac=function(e){return new(e||r)(x(te),x(W))};static \u0275cmp=P({type:r,selectors:[["app-categories"]],decls:15,vars:9,consts:[["allCategoriesHeader",""],["allCategoriesSubtitle",""],[1,"categories-page"],["aria-label","Product categories",1,"categories-container"],[1,"categories-header"],[4,"ngIf","ngIfElse"],["class","subtitle",4,"ngIf","ngIfElse"],["class","search-bar",4,"ngIf"],["class","category-grid","role","list",4,"ngIf"],["class","product-search-bar",4,"ngIf"],["class","product-list","role","list",4,"ngIf"],["class","view-all-products",4,"ngIf"],[1,"subtitle"],[1,"search-bar"],["for","categorySearch",1,"visually-hidden"],["id","categorySearch","type","search","placeholder","Search categories...","aria-describedby","searchHelp",3,"ngModelChange","input","ngModel"],["id","searchHelp",1,"sr-only"],["role","list",1,"category-grid"],["class","category-card","role","listitem","tabindex","0",3,"routerLink",4,"ngFor","ngForOf"],["role","listitem","tabindex","0",1,"category-card",3,"routerLink"],["loading","lazy",1,"category-image",3,"src","alt"],[1,"category-info"],[1,"category-name"],["class","category-caption",4,"ngIf"],[1,"category-caption"],[1,"product-search-bar"],["for","productSearch",1,"visually-hidden"],["id","productSearch","type","search","aria-describedby","productSearchHelp",3,"ngModelChange","input","placeholder","ngModel"],["id","productSearchHelp",1,"sr-only"],["role","list",1,"product-list"],["class","product-card category-card","role","listitem","tabindex","0",3,"routerLink",4,"ngFor","ngForOf"],[4,"ngIf"],["role","listitem","tabindex","0",1,"product-card","category-card",3,"routerLink"],[1,"product-name"],[1,"product-description"],[1,"product-price"],[1,"view-all-products"],["aria-label","View all products",1,"btn","btn-primary",3,"routerLink","queryParams"]],template:function(e,n){if(e&1&&(m(0,"app-navbar"),i(1,"div",2)(2,"section",3)(3,"header",4),g(4,fn,2,1,"h1",5)(5,hn,2,0,"ng-template",null,0,Z)(7,xn,2,1,"p",6)(8,bn,2,0,"ng-template",null,1,Z),o(),g(10,_n,6,1,"div",7)(11,yn,2,1,"div",8)(12,wn,6,3,"div",9)(13,Mn,3,2,"div",10)(14,kn,3,4,"div",11),o()()),e&2){let s=Q(6),c=Q(9);l(4),d("ngIf",n.categoryName)("ngIfElse",s),l(3),d("ngIf",n.categoryName)("ngIfElse",c),l(3),d("ngIf",!n.categoryName),l(),d("ngIf",!n.categoryName),l(),d("ngIf",n.categoryName),l(),d("ngIf",n.categoryName),l(),d("ngIf",!n.categoryName)}},dependencies:[M,O,k,T,B,z,D,G,ne,Y],styles:[".categories-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:1rem;font-family:Poppins,sans-serif;color:var(--text-primary)}.categories-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:.25rem;color:var(--primary-dark)}.categories-header[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:1.125rem;color:var(--text-secondary);margin-bottom:1.5rem}.search-bar[_ngcontent-%COMP%], .product-search-bar[_ngcontent-%COMP%]{margin-bottom:1.5rem}.search-bar[_ngcontent-%COMP%]   input[type=search][_ngcontent-%COMP%], .product-search-bar[_ngcontent-%COMP%]   input[type=search][_ngcontent-%COMP%]{width:100%;max-width:400px;padding:12px 40px;font-size:16px;border:1px solid var(--border-color);border-radius:10px;box-sizing:border-box;background-color:var(--neutral-light);color:var(--text-primary)}.search-bar[_ngcontent-%COMP%]   input[type=search][_ngcontent-%COMP%]:focus, .product-search-bar[_ngcontent-%COMP%]   input[type=search][_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 5px var(--primary-light)}.category-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:1.5rem}.category-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;background:var(--neutral-light);border-radius:20px;box-shadow:0 8px 24px #00000014;text-decoration:none;color:var(--text-primary);transition:box-shadow .3s ease,transform .3s ease;padding:1rem;cursor:pointer}.category-card[_ngcontent-%COMP%]:focus, .category-card[_ngcontent-%COMP%]:hover{box-shadow:0 12px 36px #00000026;transform:translateY(-4px);outline:none}.category-image[_ngcontent-%COMP%]{width:100%;height:140px;object-fit:cover;border-radius:15px;margin-bottom:.75rem}.category-info[_ngcontent-%COMP%]{flex-grow:1}.category-name[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;margin:0 0 .25rem;color:var(--primary-dark)}.category-caption[_ngcontent-%COMP%]{font-size:.9rem;color:var(--text-secondary);margin:0}.view-all-products[_ngcontent-%COMP%]{margin-top:2rem;text-align:center}.btn-primary[_ngcontent-%COMP%]{background-color:var(--primary-color);color:var(--neutral-light);padding:12px 30px;font-size:1.125rem;border:none;border-radius:30px;cursor:pointer;text-decoration:none;display:inline-block;transition:background-color .3s ease}.btn-primary[_ngcontent-%COMP%]:hover, .btn-primary[_ngcontent-%COMP%]:focus{background-color:var(--primary-dark);outline:none}.visually-hidden[_ngcontent-%COMP%]{position:absolute!important;height:1px;width:1px;overflow:hidden;clip:rect(1px,1px,1px,1px);white-space:nowrap}@media (max-width: 768px){.category-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.category-card[_ngcontent-%COMP%]{max-width:100%}.category-image[_ngcontent-%COMP%]{height:120px}.category-name[_ngcontent-%COMP%]{font-size:1.1rem}.category-caption[_ngcontent-%COMP%]{font-size:.85rem}}@media (max-width: 480px){.category-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.category-image[_ngcontent-%COMP%]{height:100px}.category-name[_ngcontent-%COMP%]{font-size:1rem}.category-caption[_ngcontent-%COMP%]{font-size:.8rem}}@media (max-width: 480px){.categories-container[_ngcontent-%COMP%]{padding:.5rem .5rem 1rem}.search-bar[_ngcontent-%COMP%]   input[type=search][_ngcontent-%COMP%], .product-search-bar[_ngcontent-%COMP%]   input[type=search][_ngcontent-%COMP%]{max-width:100%;font-size:14px;padding:10px 15px}.btn-primary[_ngcontent-%COMP%]{font-size:1rem;padding:10px 20px;width:100%;box-sizing:border-box}}"]})};var On=["emptyCart"];function In(r,t){if(r&1){let e=S();i(0,"tr")(1,"td")(2,"input",27),u("change",function(){let s=f(e).$implicit,c=p(3);return h(c.toggleItemSelection(s))}),o()(),i(3,"td",28),m(4,"img",29),i(5,"div",30)(6,"h3",31),a(7),o()()(),i(8,"td"),a(9),o(),i(10,"td")(11,"div",32)(12,"button",18),u("click",function(){let s=f(e).$implicit,c=p(3);return h(c.decreaseQuantity(s))}),a(13,"-"),o(),m(14,"input",33),i(15,"button",18),u("click",function(){let s=f(e).$implicit,c=p(3);return h(c.increaseQuantity(s))}),a(16,"+"),o()()(),i(17,"td"),a(18),o(),i(19,"td",34)(20,"button",35),u("click",function(){let s=f(e).$implicit,c=p(3);return h(c.removeItem(s))}),m(21,"i",36),o(),i(22,"button",37),u("click",function(){let s=f(e).$implicit,c=p(3);return h(c.moveToToolbox(s))}),m(23,"i",38),o()()()}if(r&2){let e=t.$implicit,n=p(3);l(2),d("checked",n.selectedItems.has(e.id)),l(2),d("src",e.thumbnail,E)("alt",e.name),l(2),d("title",e.name),l(),b(e.name),l(2),_("\u20B1",e.price,""),l(3),d("disabled",e.quantity<=1),l(2),d("value",e.quantity),l(),d("disabled",e.quantity>=e.stock),l(3),_("\u20B1",e.subtotal,"")}}function En(r,t){r&1&&(i(0,"div",39),a(1," No items selected. Choose what you\u2019d like to order. "),o())}function Tn(r,t){r&1&&(i(0,"td"),a(1,"Free"),o())}function Nn(r,t){if(r&1&&(i(0,"td"),a(1),o()),r&2){let e=p(3);l(),_("\u20B1",e.shipping,"")}}function zn(r,t){if(r&1&&(i(0,"tr")(1,"td"),a(2,"Coupon Applied"),o(),i(3,"td"),a(4),o()()),r&2){let e=p(3);l(4),b(e.couponCode)}}function Dn(r,t){if(r&1&&(i(0,"tr")(1,"td"),a(2,"Discount"),o(),i(3,"td"),a(4),V(5,"number"),o()()),r&2){let e=p(3);l(4),_("-\u20B1",$(5,1,e.discountAmount,"1.2-2"),"")}}function Fn(r,t){if(r&1){let e=S();i(0,"div",11)(1,"table",12)(2,"thead")(3,"tr")(4,"th")(5,"input",13),u("change",function(){f(e);let s=p(2);return h(s.toggleSelectAll())}),o()(),i(6,"th"),a(7,"Product"),o(),i(8,"th"),a(9,"Price"),o(),i(10,"th"),a(11,"Quantity"),o(),i(12,"th"),a(13,"Subtotal"),o(),i(14,"th"),a(15,"Actions"),o()()(),i(16,"tbody"),g(17,In,24,10,"tr",14),o()(),g(18,En,2,0,"div",15),i(19,"div",16)(20,"input",17),y("ngModelChange",function(s){f(e);let c=p(2);return C(c.couponCode,s)||(c.couponCode=s),h(s)}),o(),i(21,"button",18),u("click",function(){f(e);let s=p(2);return h(s.applyCoupon())}),a(22,"Apply"),o()(),i(23,"p",19),a(24),o(),i(25,"div",20)(26,"table")(27,"tr")(28,"td"),a(29,"Subtotal"),o(),i(30,"td"),a(31),o()(),i(32,"tr")(33,"td"),a(34,"Shipping"),o(),g(35,Tn,2,0,"td",21)(36,Nn,2,1,"td",21),o(),g(37,zn,5,1,"tr",21)(38,Dn,6,4,"tr",21),i(39,"tr",22)(40,"td")(41,"strong"),a(42,"Total"),o()(),i(43,"td")(44,"strong"),a(45),o()()()()(),i(46,"div",23)(47,"button",24),u("click",function(){f(e);let s=p(2);return h(s.continueShopping())}),a(48,"Continue Shopping"),o(),i(49,"div",25)(50,"button",26),u("click",function(){f(e);let s=p(2);return h(s.proceedToCheckout())}),a(51," Proceed to Checkout "),o()()()()}if(r&2){let e=p().ngIf,n=p();l(5),d("checked",n.selectedItems.size===e.length),l(12),d("ngForOf",e),l(),d("ngIf",n.selectedItems.size===0),l(2),v("ngModel",n.couponCode),d("disabled",n.couponApplied),l(),d("disabled",n.couponApplied),l(2),U("success",n.couponApplied)("error",!n.couponApplied&&n.couponFeedback),l(),_(" ",n.couponFeedback," "),l(7),_("\u20B1",n.subtotal,""),l(4),d("ngIf",n.shipping===0),l(),d("ngIf",n.shipping!==0),l(),d("ngIf",n.couponApplied),l(),d("ngIf",n.couponApplied),l(7),_("\u20B1",n.total,""),l(5),d("disabled",!n.hasSelectedItems)}}function Vn(r,t){if(r&1&&(Oe(0),g(1,Fn,52,18,"div",10),Ie()),r&2){let e=t.ngIf;p();let n=Q(13);l(),d("ngIf",e.length>0)("ngIfElse",n)}}function Bn(r,t){r&1&&(i(0,"div",40),m(1,"img",41),i(2,"p"),a(3,"No products yet. Your cart is empty."),o()())}var Re=class r{constructor(t,e,n){this.router=t;this.cartService=e;this.toolboxService=n;this.cartItems$=this.cartService.cartItems$}emptyCart;cartItems$;cartItems=[];couponCode="";couponFeedback="";couponApplied=!1;discountAmount=0;freeShippingApplied=!1;selectedItems=new Set;cartItemsSubscription;ngOnInit(){this.cartItemsSubscription=this.cartItems$.subscribe(t=>{console.log("Cart items updated:",t),this.cartItems=t})}ngOnDestroy(){this.cartItemsSubscription&&this.cartItemsSubscription.unsubscribe()}get itemCount(){return this.cartItems.reduce((t,e)=>t+e.quantity,0)}increaseQuantity(t){t.quantity<t.stock&&(this.cartService.updateItemQuantity(t.id,t.quantity+1),this.updateSelectionAfterQuantityChange(t))}decreaseQuantity(t){t.quantity>1&&(this.cartService.updateItemQuantity(t.id,t.quantity-1),this.updateSelectionAfterQuantityChange(t))}updateSubtotal(t){}removeItem(t){confirm(`Are you sure you want to remove ${t.name} from the cart?`)&&(this.cartService.removeItem(t.id),this.selectedItems.delete(t.id))}moveToToolbox(t){confirm(`Move ${t.name} to toolbox?`)&&(this.toolboxService.addItem(t),this.cartService.removeItem(t.id),this.selectedItems.delete(t.id),console.log(`Moved item ${t.name} to toolbox`),this.router.navigate(["/toolbox"]))}applyCoupon(){if(!this.couponCode.trim()){this.couponFeedback="Please enter a coupon code.",this.couponApplied=!1,this.discountAmount=0,this.freeShippingApplied=!1;return}switch(this.couponCode.toUpperCase()){case"SAVE10":this.discountAmount=this.subtotal*.1,this.freeShippingApplied=!0,this.couponApplied=!0,this.couponFeedback="Coupon SAVE10 applied successfully!";break;case"FREESHIP":this.discountAmount=0,this.freeShippingApplied=!0,this.couponApplied=!0,this.couponFeedback="Free shipping coupon applied successfully!";break;default:this.couponFeedback="Invalid coupon code.",this.couponApplied=!1,this.discountAmount=0,this.freeShippingApplied=!1;break}}get subtotal(){return this.cartItems.filter(t=>this.selectedItems.has(t.id)).reduce((t,e)=>t+e.subtotal,0)}get shipping(){return this.couponApplied&&this.freeShippingApplied?0:this.subtotal>0?100:0}get total(){return this.subtotal+this.shipping-this.discountAmount}get hasSelectedItems(){return this.selectedItems.size>0}toggleItemSelection(t){this.selectedItems.has(t.id)?this.selectedItems.delete(t.id):this.selectedItems.add(t.id)}toggleSelectAll(){this.hasSelectedItems&&this.selectedItems.size===this.cartItems.length?this.selectedItems.clear():this.cartItems.forEach(t=>this.selectedItems.add(t.id))}removeUncheckedItems(){confirm("Are you sure you want to remove all unchecked items?")&&(this.cartItems=this.cartItems.filter(t=>this.selectedItems.has(t.id)))}updateSelectionAfterQuantityChange(t){t.quantity<=0&&this.selectedItems.delete(t.id)}proceedToCheckout(){this.hasSelectedItems&&(this.cartService.setSelectedItemIds(this.selectedItems),this.router.navigate(["/checkout"]))}returnToShop(){this.router.navigate(["/home"])}continueShopping(){this.router.navigate(["/categories"])}static \u0275fac=function(e){return new(e||r)(x(I),x(L),x(H))};static \u0275cmp=P({type:r,selectors:[["app-cart"]],viewQuery:function(e,n){if(e&1&&it(On,7),e&2){let s;ot(s=rt())&&(n.emptyCart=s.first)}},decls:14,vars:5,consts:[["emptyCart",""],[1,"cart-page"],[1,"top-nav"],["aria-label","Back to Shop",1,"arrow-back",3,"click"],[1,"fas","fa-arrow-left"],[1,"page-title"],[1,"cart-icon"],[1,"fas","fa-shopping-cart"],[1,"item-count"],[4,"ngIf","ngIfElse"],["class","cart-container",4,"ngIf","ngIfElse"],[1,"cart-container"],[1,"cart-table"],["type","checkbox","aria-label","Select All Items",3,"change","checked"],[4,"ngFor","ngForOf"],["class","no-selection-message",4,"ngIf"],[1,"coupon-section",2,"margin-top","1rem"],["type","text","placeholder","Enter Coupon Code",3,"ngModelChange","ngModel","disabled"],[3,"click","disabled"],[1,"coupon-feedback"],[1,"order-summary"],[4,"ngIf"],[1,"total-row"],[1,"cart-actions"],[1,"continue-shopping-btn",3,"click"],[1,"checkout-container"],[1,"checkout-btn",3,"click","disabled"],["type","checkbox",3,"change","checked"],[1,"product-cell"],[1,"thumbnail",3,"src","alt"],[1,"product-info"],[1,"product-name",3,"title"],[1,"quantity-selector"],["type","number","readonly","",3,"value"],[1,"actions-cell"],["aria-label","Remove item",1,"remove-btn",3,"click"],[1,"fas","fa-trash"],["aria-label","Move to Toolbox",1,"move-btn",3,"click"],[1,"fas","fa-heart"],[1,"no-selection-message"],[1,"empty-cart-message"],["src","assets/empty-cart.webp","alt","Empty Cart",1,"empty-cart-image"]],template:function(e,n){if(e&1){let s=S();i(0,"div",1)(1,"nav",2)(2,"button",3),u("click",function(){return f(s),h(n.returnToShop())}),m(3,"i",4),o(),i(4,"h2",5),a(5,"Cart"),o(),i(6,"div",6),m(7,"i",7),i(8,"span",8),a(9),o()()(),g(10,Vn,2,2,"ng-container",9),V(11,"async"),g(12,Bn,4,0,"ng-template",null,0,Z),o()}if(e&2){let s=Q(13);l(9),b(n.itemCount),l(),d("ngIf",lt(11,3,n.cartItems$))("ngIfElse",s)}},dependencies:[M,O,k,dt,he,T,B,z,D],styles:[`*{font-family:var(--primary-font, "Poppins", sans-serif)}.cart-page{padding-bottom:15px}.cart-container{max-width:1200px;margin:2rem auto;padding:2rem 2rem 3rem;background:var(--neutral-light);border-radius:20px;box-shadow:0 8px 24px #0000001f;border:1px solid var(--border-color)}.cart-icon{display:flex;align-items:center;gap:.4rem;position:relative;margin-left:1rem;padding:.3rem .6rem;background-color:var(--primary-light);border-radius:12px;box-shadow:0 2px 8px #00000026;color:var(--primary-dark);font-weight:600;cursor:pointer;transition:background-color .3s ease}.cart-icon:hover{background-color:var(--primary-color);color:var(--neutral-light)}.cart-icon i.fas.fa-shopping-cart{font-size:1.3rem}.cart-icon .item-count{background-color:var(--primary-color);color:var(--neutral-light);font-size:.85rem;font-weight:700;padding:.15rem .5rem;border-radius:50%;min-width:1.3rem;text-align:center;box-shadow:0 1px 4px #0003}.top-nav{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem;padding:0 1rem}.top-nav button.arrow-back{background:none;border:none;font-size:1.5rem;cursor:pointer;color:var(--primary-dark);padding:.25rem .5rem;border-radius:6px;transition:background-color .3s ease}.top-nav button.arrow-back:hover{background-color:var(--white)}.top-nav h2.page-title{font-size:2.5rem;margin-bottom:0;color:var(--primary-dark)}.cart-table{width:100%;border-collapse:collapse;margin-bottom:1rem;color:var(--text-primary)}.cart-table thead{background-color:var(--primary-light);border-radius:20px 20px 0 0}.cart-table th,.cart-table td{padding:1rem;border:1px solid var(--border-color);text-align:left;vertical-align:middle}.cart-table th{font-weight:600;font-size:1.1rem;color:var(--primary-dark)}.product-cell{display:flex;align-items:center;gap:1rem}.product-info{display:flex;flex-direction:column;gap:.25rem}.thumbnail{width:80px;height:80px;object-fit:cover;border-radius:15px}.remove-btn{background:none;border:none;color:var(--primary-color);font-size:1.25rem;cursor:pointer;transition:color .3s ease;padding:0;align-self:flex-start;margin-right:.5rem}.remove-btn:hover{color:var(--primary-dark)}.move-btn{background-color:var(--primary-color);border:none;color:var(--neutral-light);padding:.25rem .75rem;font-size:1rem;border-radius:30px;cursor:pointer;-webkit-user-select:none;user-select:none;transition:background-color .3s ease}.move-btn:hover{background-color:var(--primary-dark)}.quantity-selector{display:flex;align-items:center;gap:.5rem}.quantity-selector button{background-color:var(--primary-color);border:none;color:var(--neutral-light);padding:.25rem .75rem;font-size:1rem;border-radius:30px;cursor:pointer;-webkit-user-select:none;user-select:none;transition:background-color .3s ease}.quantity-selector button:disabled{background-color:#ccc;cursor:not-allowed}.quantity-selector button:hover:not(:disabled){background-color:var(--primary-dark)}.quantity-selector input[type=number]{width:50px;text-align:center;font-size:1rem;border:1px solid var(--border-color);border-radius:10px;padding:.25rem;color:var(--text-primary);background-color:var(--neutral-light)}.checkout-btn{background-color:var(--primary-color);border:none;color:var(--neutral-light);padding:1rem;font-size:1.2rem;font-weight:700;border-radius:30px;width:auto;min-width:200px;cursor:pointer;-webkit-user-select:none;user-select:none;transition:background-color .3s ease;display:block;margin:1rem auto 1.5rem}.checkout-btn:disabled{background-color:#ccc;cursor:not-allowed}.checkout-btn:hover:not(:disabled){background-color:var(--primary-dark)}.action-buttons{display:flex;justify-content:space-between;margin-bottom:1rem}.action-buttons button{background-color:var(--primary-color);border:none;color:var(--neutral-light);padding:.75rem 1.5rem;font-size:1rem;border-radius:30px;cursor:pointer;flex:1;margin:0 .25rem;-webkit-user-select:none;user-select:none;transition:background-color .3s ease}.action-buttons button:first-child{background-color:#757575}.action-buttons button:hover:not(:disabled){background-color:var(--primary-dark)}.coupon-section{display:flex;margin-bottom:.5rem}.coupon-section input[type=text]{flex:1;padding:.5rem;border:1px solid var(--border-color);border-radius:10px 0 0 10px;font-size:1rem;color:var(--text-primary);background-color:var(--neutral-light)}.coupon-section button{background-color:var(--primary-color);border:none;color:var(--neutral-light);padding:.5rem 1rem;font-size:1rem;border-radius:0 10px 10px 0;cursor:pointer;-webkit-user-select:none;user-select:none;transition:background-color .3s ease}.coupon-section button:hover:not(:disabled){background-color:var(--primary-dark)}.coupon-feedback{font-size:.9rem;margin-bottom:1rem;min-height:1.2em;color:var(--text-secondary)}.coupon-feedback.success{color:#388e3c}.coupon-feedback.error{color:var(--primary-color)}.order-summary{border:1px solid var(--border-color);border-radius:20px;padding:1rem;margin-bottom:1rem;background-color:var(--primary-light)}.order-summary table{width:100%;border-collapse:collapse;font-size:1rem;color:var(--text-primary);table-layout:fixed}.order-summary td{padding:.5rem .75rem;text-align:center}.order-summary tr td:nth-child(2){white-space:nowrap;min-width:100px}.order-summary tr td:nth-child(1){padding-right:1rem}.total-row td{font-weight:700;font-size:1.1rem}.empty-cart-image{display:block;margin:1rem auto;max-width:300px;width:100%;height:auto}.empty-cart-message{text-align:center;padding:2rem 1rem;color:var(--text-secondary)}.no-selection-message{margin:1rem 0;font-style:italic;color:var(--text-secondary);text-align:center}.remove-unchecked-btn{background-color:var(--danger-color, #dc3545);color:var(--neutral-light, white);border:none;padding:.5rem 1rem;border-radius:4px;cursor:pointer;margin-bottom:1rem;transition:background-color .3s ease}.remove-unchecked-btn:hover{background-color:#c82333}.continue-shopping-btn{margin-top:10px;padding:8px 16px;background-color:var(--primary-color);border:none;color:var(--neutral-light);font-size:14px;border-radius:4px;cursor:pointer;transition:background-color .3s ease}.continue-shopping-btn:hover{background-color:var(--primary-dark)}.cart-actions{display:flex;justify-content:space-between;align-items:center;margin-top:1rem}@media (max-width: 768px){.cart-container{padding:1rem}.top-nav{flex-direction:column;gap:.5rem;align-items:flex-start}.top-nav h2.page-title{font-size:1.75rem}.cart-table th,.cart-table td{padding:.5rem;font-size:.95rem}.product-cell{flex-direction:column;align-items:flex-start;gap:.5rem}.thumbnail{width:100%;height:auto}.quantity-selector{flex-direction:row;justify-content:space-between;width:100%}.action-buttons{flex-direction:column;gap:.5rem}.coupon-section{flex-direction:column}.coupon-section input[type=text]{border-radius:10px}.coupon-section button{border-radius:10px;margin-top:.5rem}.order-summary td{font-size:.95rem}.checkout-btn{width:100%}.cart-actions{flex-direction:column;gap:1rem}}@media (max-width: 480px){*{box-sizing:border-box}.cart-container{padding:.5rem}.top-nav{flex-direction:column;align-items:flex-start;gap:.5rem;padding:0}.top-nav h2.page-title{font-size:1.5rem}.cart-table-wrapper{overflow-x:auto;width:100%}.cart-table,.cart-table thead,.cart-table tbody,.cart-table th,.cart-table td,.cart-table tr{display:block;width:100%}.cart-table thead{display:none}.cart-table tr{margin-bottom:1.5rem;border:1px solid var(--border-color);border-radius:10px;padding:1rem;background-color:var(--neutral-light)}.cart-table td{text-align:left;padding:.5rem 0;font-size:.95rem;border:none;position:relative;word-break:break-word}.cart-table td:before{content:attr(data-label);font-weight:600;display:block;margin-bottom:.25rem;color:var(--primary-dark)}.product-cell{display:flex;flex-direction:column;align-items:flex-start;width:100%;gap:.5rem;overflow-wrap:break-word}.thumbnail{width:100%;max-width:100%;height:auto;overflow:hidden}.thumbnail img,.product-cell img,.cart-table img{width:100%;max-width:100%;height:auto;display:block;object-fit:contain}.quantity-selector{width:100%;justify-content:space-between;margin-top:.5rem}.cart-actions,.action-buttons{flex-direction:column;gap:.5rem}.action-buttons button,.checkout-btn{width:100%;font-size:1rem}.coupon-section{flex-direction:column}.coupon-section input[type=text],.coupon-section button{width:100%;margin:.25rem 0;border-radius:10px}.order-summary td{display:flex;justify-content:space-between;padding:.5rem 0}.cart-actions{flex-direction:column;gap:1rem}}
`],encapsulation:2})};function Ln(r,t){if(r&1&&m(0,"img",12),r&2){let e=p();d("src",e.user.profilePicture,E)}}var Ue=class r{constructor(t,e){this.router=t;this.userService=e}user={userId:"",name:"",email:"",profilePicture:""};ngOnInit(){this.user=this.userService.getUser();let t=localStorage.getItem("profilePicture");t!==null&&(this.user.profilePicture=t)}onFileSelected(t){let e=t.target.files[0];if(e){let n=new FileReader;n.onload=s=>{this.user.profilePicture=s.target.result,localStorage.setItem("profilePicture",this.user.profilePicture)},n.readAsDataURL(e)}}saveProfile(){this.userService.updateUser(this.user),this.user.profilePicture&&localStorage.setItem("profilePicture",this.user.profilePicture),alert("Profile saved successfully!"),window.location.reload()}goBack(){this.router.navigate(["/home"])}static \u0275fac=function(e){return new(e||r)(x(I),x(N))};static \u0275cmp=P({type:r,selectors:[["app-userprofile"]],decls:18,vars:5,consts:[[1,"profile-container"],["aria-label","Close profile","title","Close",1,"fa","fa-times","close-icon",3,"click"],[3,"ngSubmit"],[1,"profile-picture-section"],["alt","Profile Picture","class","profile-picture",3,"src",4,"ngIf"],["type","file","id","profilePicture","name","profilePicture","autocomplete","off","accept","image/*",3,"change"],[1,"form-group"],["for","name"],["id","name","type","text","name","name","autocomplete","name","required","",3,"ngModelChange","ngModel","placeholder"],["for","email"],["id","email","name","email","type","email","autocomplete","email","required","",3,"ngModelChange","ngModel","placeholder"],["type","submit"],["alt","Profile Picture",1,"profile-picture",3,"src"]],template:function(e,n){e&1&&(i(0,"div",0)(1,"i",1),u("click",function(){return n.goBack()}),o(),i(2,"h2"),a(3,"Edit Profile"),o(),i(4,"form",2),u("ngSubmit",function(){return n.saveProfile()}),i(5,"div",3),g(6,Ln,1,1,"img",4),i(7,"input",5),u("change",function(c){return n.onFileSelected(c)}),o()(),i(8,"div",6)(9,"label",7),a(10,"Name:"),o(),i(11,"input",8),y("ngModelChange",function(c){return C(n.user.name,c)||(n.user.name=c),c}),o()(),i(12,"div",6)(13,"label",9),a(14,"Email:"),o(),i(15,"input",10),y("ngModelChange",function(c){return C(n.user.email,c)||(n.user.email=c),c}),o()(),i(16,"button",11),a(17,"Save"),o()()()),e&2&&(l(6),d("ngIf",n.user.profilePicture),l(5),K("placeholder",n.user.name),v("ngModel",n.user.name),l(4),K("placeholder",n.user.email),v("ngModel",n.user.email))},dependencies:[M,k,T,re,B,z,ie,ce,D,oe],styles:[".profile-container[_ngcontent-%COMP%]{max-width:400px;margin:20px auto;padding:20px;background-color:var(--primary-light);border-radius:10px;box-shadow:0 4px 12px #0000001a;color:var(--neutral-dark);font-family:Poppins,sans-serif;position:relative}.profile-picture-section[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}.profile-picture[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:50%;object-fit:cover;border:2px solid var(--primary-color);margin-bottom:10px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}label[_ngcontent-%COMP%]{display:block;font-weight:600;margin-bottom:5px;color:var(--neutral-dark)}#name[_ngcontent-%COMP%], #email[_ngcontent-%COMP%]{font-weight:700;font-size:18px;color:var(--primary-dark)}input[type=text][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], input[type=file][_ngcontent-%COMP%]{width:100%;padding:10px;box-sizing:border-box;border:1px solid var(--primary-color);border-radius:8px;color:var(--neutral-dark);font-size:16px;font-family:Poppins,sans-serif}input[type=text][_ngcontent-%COMP%]:focus, input[type=email][_ngcontent-%COMP%]:focus, input[type=file][_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-dark);box-shadow:0 0 8px var(--primary-dark)}button[_ngcontent-%COMP%]{background-color:var(--primary-color);color:var(--neutral-light);border:none;padding:12px 20px;border-radius:30px;cursor:pointer;font-weight:700;font-size:16px;width:100%;transition:background-color .3s ease;font-family:Poppins,sans-serif}button[_ngcontent-%COMP%]:hover{background-color:var(--primary-dark)}"]})};var jn=r=>["/product-details",r];function An(r,t){if(r&1&&(i(0,"li",6)(1,"a",7)(2,"h3"),a(3),o(),i(4,"p"),a(5),o(),i(6,"p"),a(7),o()()()),r&2){let e=t.$implicit;l(),d("routerLink",X(4,jn,e.id)),l(2),b(e.name),l(2),b(e.description),l(2),_("Price: \u20B1",e.price.toFixed(2),"")}}function qn(r,t){if(r&1&&(i(0,"div")(1,"ul"),g(2,An,8,6,"li",5),o()()),r&2){let e=p();l(2),d("ngForOf",e.filteredProducts)}}function Rn(r,t){r&1&&(i(0,"p"),a(1,"No products found matching your search."),o())}var We=class r{constructor(t,e,n){this.route=t;this.productService=e;this.location=n}query="";filteredProducts=[];ngOnInit(){this.route.queryParams.subscribe(t=>{this.query=t.q||"",this.filteredProducts=this.productService.searchProducts(this.query)})}back(){this.location.back()}static \u0275fac=function(e){return new(e||r)(x(te),x(W),x(ge))};static \u0275cmp=P({type:r,selectors:[["app-search-results"]],features:[Te([W])],decls:8,vars:3,consts:[["noResults",""],["aria-label","Back to previous page",1,"arrow-back",3,"click"],[1,"fas","fa-arrow-left"],[1,"search-results"],[4,"ngIf","ngIfElse"],["class","product-item",4,"ngFor","ngForOf"],[1,"product-item"],["tabindex","0",3,"routerLink"]],template:function(e,n){if(e&1){let s=S();i(0,"button",1),u("click",function(){return f(s),h(n.back())}),m(1,"i",2),o(),i(2,"div",3)(3,"h2"),a(4),o(),g(5,qn,3,1,"div",4)(6,Rn,2,0,"ng-template",null,0,Z),o()}if(e&2){let s=Q(7);l(4),_('Search Results for "',n.query,'"'),l(),d("ngIf",n.filteredProducts.length>0)("ngIfElse",s)}},dependencies:[M,O,k,G,ne],styles:[".search-results[_ngcontent-%COMP%]{padding:20px;font-family:var(--primary-font);color:var(--text-primary);background-color:var(--white);border-radius:8px;box-shadow:0 2px 8px #0000001a;max-width:800px;margin:20px auto}.arrow-back[_ngcontent-%COMP%]{background:none;border:none;font-size:1.5rem;cursor:pointer;color:var(--primary-color);padding:0;margin-top:30px;margin-bottom:25px;margin-left:60px;display:inline-flex;align-items:center;justify-content:center;transition:color .3s ease}.arrow-back[_ngcontent-%COMP%]:hover{color:var(--primary-light)}.search-results[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8em;margin-bottom:20px;color:var(--primary-color);font-weight:600}.search-results[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.search-results[_ngcontent-%COMP%]   li.product-item[_ngcontent-%COMP%]{border-bottom:1px solid var(--border-color);padding:15px 10px;transition:background-color .3s ease;border-radius:6px}.search-results[_ngcontent-%COMP%]   li.product-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.search-results[_ngcontent-%COMP%]   li.product-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:var(--text-primary);display:block}.search-results[_ngcontent-%COMP%]   li.product-item[_ngcontent-%COMP%]:hover, .search-results[_ngcontent-%COMP%]   li.product-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:var(--primary-dark);color:var(--white)}.search-results[_ngcontent-%COMP%]   li.product-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;font-size:1.3em;font-weight:700}.search-results[_ngcontent-%COMP%]   li.product-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0;font-size:1em;color:var(--text-secondary)}.search-results[_ngcontent-%COMP%]   li.product-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child{font-weight:600;color:var(--primary-color)}"]})};function Un(r,t){if(r&1){let e=S();i(0,"div",6)(1,"p"),a(2,"Log in to access your Toolbox."),o(),i(3,"button",7),u("click",function(){f(e);let s=p();return h(s.navigateToLogin())}),a(4,"Log In"),o(),i(5,"button",8),u("click",function(){f(e);let s=p();return h(s.navigateToRegister())}),a(6,"Register"),o()()}}function Wn(r,t){if(r&1){let e=S();i(0,"div",11),m(1,"img",12),i(2,"p"),a(3,"\u201CYour Toolbox is empty.\u201D"),o(),i(4,"p"),a(5,"Save tools you like to view and order later."),o(),i(6,"button",13),u("click",function(){f(e);let s=p(2);return h(s.startBrowsing())}),a(7,"Start Browsing"),o()()}}function Hn(r,t){r&1&&(i(0,"span",31),a(1,"In Stock"),o())}function Qn(r,t){r&1&&(i(0,"span",32),a(1,"Out of Stock"),o())}function $n(r,t){if(r&1){let e=S();i(0,"li",23),m(1,"img",24),i(2,"div",25)(3,"h3"),a(4),o(),i(5,"p"),a(6),g(7,Hn,2,0,"span",26)(8,Qn,2,0,"span",27),o(),i(9,"p"),a(10),o()(),i(11,"div",28)(12,"button",29),u("click",function(){let s=f(e).$implicit,c=p(3);return h(c.addToCart(s))}),a(13,"Add to Cart"),o(),i(14,"button",30),u("click",function(){let s=f(e).$implicit,c=p(3);return h(c.removeItem(s.id))}),a(15,"Remove"),o()()()}if(r&2){let e=t.$implicit;l(),K("alt",e.name),d("src",e.thumbnail,E),l(3),b(e.name),l(2),_("\u20B1",e.price," "),l(),d("ngIf",e.stock>0),l(),d("ngIf",e.stock===0),l(2),_("Quantity: ",e.quantity,""),l(2),d("disabled",e.stock===0)}}function Zn(r,t){if(r&1){let e=S();i(0,"div",14)(1,"div",15)(2,"button",16),u("click",function(){f(e);let s=p(2);return h(s.clearToolbox())}),a(3,"Remove All"),o(),i(4,"select",17),y("ngModelChange",function(s){f(e);let c=p(2);return C(c.sortCriteria,s)||(c.sortCriteria=s),h(s)}),u("change",function(){f(e);let s=p(2);return h(s.sortToolbox(s.sortCriteria))}),i(5,"option",18),a(6,"Sort by Recent"),o(),i(7,"option",19),a(8,"Sort A\u2013Z"),o(),i(9,"option",20),a(10,"Sort by Category"),o()()(),i(11,"ul",21),g(12,$n,16,8,"li",22),o()()}if(r&2){let e=p(2);l(4),v("ngModel",e.sortCriteria),l(8),d("ngForOf",e.toolboxItems)}}function Gn(r,t){if(r&1&&(i(0,"div"),g(1,Wn,8,0,"div",9)(2,Zn,13,2,"div",10),o()),r&2){let e=p();l(),d("ngIf",e.toolboxItems.length===0),l(),d("ngIf",e.toolboxItems.length>0)}}var He=class r{constructor(t,e,n){this.toolboxService=t;this.userService=e;this.cartService=n}toolboxItems=[];user=null;isLoggedIn=!1;sortCriteria="Recent";ngOnInit(){this.toolboxService.toolboxItems$.subscribe(t=>{this.toolboxItems=t,this.sortToolbox(this.sortCriteria)}),this.userService.user$.subscribe(t=>{this.user=t,this.isLoggedIn=!!t&&!!t.email&&t.email.length>0})}removeItem(t){confirm("Are you sure you want to remove this item from the toolbox?")&&this.toolboxService.removeItem(t)}clearToolbox(){confirm("Are you sure you want to clear all items from the toolbox?")&&this.toolboxService.clearToolbox()}addToCart(t){this.cartService.addItem({id:t.id,name:t.name,price:t.price,quantity:1,thumbnail:t.thumbnail,stock:t.stock,subtotal:t.price*1}),this.toolboxService.removeItem(t.id),alert(`${t.name} has been added to the cart.`)}sortToolbox(t){this.sortCriteria=t,t==="A-Z"&&this.toolboxItems.sort((e,n)=>e.name.localeCompare(n.name))}goBack(){window.history.back()}navigateToLogin(){window.location.href="/login"}navigateToRegister(){window.location.href="/signup"}startBrowsing(){window.location.href="/home"}static \u0275fac=function(e){return new(e||r)(x(H),x(N),x(L))};static \u0275cmp=P({type:r,selectors:[["app-toolbox"]],decls:8,vars:2,consts:[[1,"toolbox-wrapper"],[1,"top-bar"],[1,"back-btn",3,"click"],[1,"fas","fa-arrow-left"],["class","login-prompt",4,"ngIf"],[4,"ngIf"],[1,"login-prompt"],[1,"login-btn",3,"click"],[1,"register-btn",3,"click"],["class","empty-state",4,"ngIf"],["class","toolbox-content",4,"ngIf"],[1,"empty-state"],["src","assets/toolbox.png","alt","Empty Toolbox",1,"empty-image"],[1,"browse-btn",3,"click"],[1,"toolbox-content"],[1,"toolbox-controls"],[1,"remove-all-btn",3,"click"],[1,"sort-dropdown",3,"ngModelChange","change","ngModel"],["value","Recent"],["value","A-Z"],["value","Category"],[1,"toolbox-list"],["class","toolbox-item",4,"ngFor","ngForOf"],[1,"toolbox-item"],[1,"thumbnail",3,"src","alt"],[1,"item-details"],["class","in-stock",4,"ngIf"],["class","out-stock",4,"ngIf"],[1,"item-actions"],[1,"add-to-cart-btn",3,"click","disabled"],[1,"remove-btn",3,"click"],[1,"in-stock"],[1,"out-stock"]],template:function(e,n){e&1&&(i(0,"div",0)(1,"div",1)(2,"button",2),u("click",function(){return n.goBack()}),m(3,"i",3),o(),i(4,"h2"),a(5,"My Toolbox"),o()(),g(6,Un,7,0,"div",4)(7,Gn,3,2,"div",5),o()),e&2&&(l(6),d("ngIf",!n.isLoggedIn),l(),d("ngIf",n.isLoggedIn))},dependencies:[M,O,k,T,ze,De,bt,z,D],styles:[".toolbox-wrapper[_ngcontent-%COMP%]{max-width:800px;margin:20px auto;padding:10px;font-family:var(--primary-font)}.top-bar[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:var(--primary-color);color:var(--white);padding:10px;border-radius:4px}.back-btn[_ngcontent-%COMP%]{color:var(--white);background:none;border:none;font-size:2rem;cursor:pointer;padding:.25rem .5rem;border-radius:6px;transition:background-color .3s ease}.top-bar[_ngcontent-%COMP%]   button.back-btn[_ngcontent-%COMP%]:hover{background-color:var(--primary-dark)}.login-prompt[_ngcontent-%COMP%]{text-align:center;margin-top:40px}.login-prompt[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px;margin-bottom:20px}.login-btn[_ngcontent-%COMP%], .register-btn[_ngcontent-%COMP%], .browse-btn[_ngcontent-%COMP%], .remove-all-btn[_ngcontent-%COMP%], .add-to-cart-btn[_ngcontent-%COMP%], .remove-btn[_ngcontent-%COMP%]{background-color:var(--primary-color);border:none;color:var(--white);padding:8px 14px;margin:5px;border-radius:4px;cursor:pointer;font-size:14px;transition:background-color .3s ease}.login-btn[_ngcontent-%COMP%]:hover, .register-btn[_ngcontent-%COMP%]:hover, .browse-btn[_ngcontent-%COMP%]:hover, .remove-all-btn[_ngcontent-%COMP%]:hover, .add-to-cart-btn[_ngcontent-%COMP%]:hover, .remove-btn[_ngcontent-%COMP%]:hover{background-color:var(--primary-dark)}.empty-state[_ngcontent-%COMP%]{text-align:center;margin-top:40px}.empty-image[_ngcontent-%COMP%]{width:120px;height:auto;margin-bottom:20px}.toolbox-content[_ngcontent-%COMP%]{margin-top:20px}.toolbox-controls[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:15px}.sort-dropdown[_ngcontent-%COMP%]{padding:6px 10px;font-size:14px;border-radius:4px;border:1px solid var(--border-color)}.toolbox-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.toolbox-item[_ngcontent-%COMP%]{display:flex;align-items:center;border:1px solid var(--border-color);border-radius:4px;padding:10px;margin-bottom:10px}.thumbnail[_ngcontent-%COMP%]{width:80px;height:80px;object-fit:contain;margin-right:15px;border:1px solid var(--border-color);border-radius:4px}.item-details[_ngcontent-%COMP%]{flex-grow:1}.item-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 6px;font-size:18px}.item-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:2px 0;font-size:14px}.in-stock[_ngcontent-%COMP%]{color:var(--success-color, green);font-weight:700;margin-left:10px}.out-stock[_ngcontent-%COMP%]{color:var(--danger-color, red);font-weight:700;margin-left:10px}.item-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column}.add-to-cart-btn[_ngcontent-%COMP%]{margin-bottom:6px}.add-to-cart-btn[disabled][_ngcontent-%COMP%]{background-color:var(--disabled-color, #ccc);cursor:not-allowed}"]})};var Yn=r=>["/product-details",r];function Jn(r,t){if(r&1&&(i(0,"div",5)(1,"a",6),m(2,"img",7),i(3,"h3"),a(4),o(),i(5,"p",8),a(6),V(7,"currency"),o()()()),r&2){let e=t.$implicit;l(),d("routerLink",X(10,Yn,e.id)),l(),d("src",e.image,E)("alt",e.name),l(2),b(e.name),l(2),b(_e(7,5,e.price,"PHP","symbol","1.2-2"))}}var Qe=class r{constructor(t,e){this.productService=t;this.route=e}products=[];ngOnInit(){this.route.queryParams.subscribe(t=>{(t.mode||"new")==="all"?this.products=this.productService.getProducts():this.products=this.productService.getNewArrivalsProducts()})}goBack(){window.history.back()}static \u0275fac=function(e){return new(e||r)(x(W),x(te))};static \u0275cmp=P({type:r,selectors:[["app-user-products"]],decls:8,vars:1,consts:[[1,"product-list"],[1,"back-btn",3,"click"],[1,"fas","fa-arrow-left"],[1,"products"],["class","product-card",4,"ngFor","ngForOf"],[1,"product-card"],[3,"routerLink"],[3,"src","alt"],[1,"price"]],template:function(e,n){e&1&&(m(0,"app-navbar"),i(1,"div",0)(2,"button",1),u("click",function(){return n.goBack()}),m(3,"i",2),o(),i(4,"h2"),a(5,"All Products"),o(),i(6,"div",3),g(7,Jn,8,12,"div",4),o()()),e&2&&(l(7),d("ngForOf",n.products))},dependencies:[M,O,Ne,G,ne,Y],styles:[`*{font-family:var(--primary-font, "Poppins", sans-serif)}.product-list{padding:1rem}.product-list h2{font-size:2.5rem;margin-bottom:5;color:var(--primary-dark);text-align:center}.back-btn{background:none;border:none;font-size:1.5rem;cursor:pointer;color:var(--primary-dark);padding:.25rem .5rem;border-radius:6px;transition:background-color .3s ease}.back-btn:hover{background-color:var(--white)}.products{display:flex;flex-wrap:wrap;gap:1rem;justify-content:center}.product-card{border:1px solid #ddd;border-radius:4px;width:180px;padding:.5rem;text-align:center;transition:box-shadow .3s ease}.product-card:hover{box-shadow:0 2px 8px #0003}.product-card img{width:180px;height:180px;object-fit:fill;border-radius:4px}.product-card h3{font-size:1.1rem;margin:.5rem 0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-decoration:none!important}.price{color:var(--primary-color);font-weight:700;font-size:1rem;margin-top:.25rem;display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-decoration:none!important}
`],encapsulation:2})};var Pt=()=>[1,2,3,4,5];function Kn(r,t){if(r&1&&(i(0,"span"),m(1,"i",42),o()),r&2){let e=t.index,n=p(3);l(),d("ngClass",n.getStarClass(n.product.rating,e))}}function Xn(r,t){if(r&1&&(i(0,"div",39),g(1,Kn,2,1,"span",40),i(2,"span",41),a(3),o()()),r&2){let e=p(2);l(),d("ngForOf",J(2,Pt)),l(2),b(e.product.rating.toFixed(1))}}function ei(r,t){if(r&1&&(i(0,"p"),a(1),o()),r&2){let e=p(2);l(),b(e.product.detailsText)}}function ti(r,t){if(r&1&&(i(0,"li"),a(1),o()),r&2){let e=t.$implicit;l(),b(e)}}function ni(r,t){if(r&1&&(i(0,"ul"),g(1,ti,2,1,"li",40),o()),r&2){let e=p(2);l(),d("ngForOf",e.product.detailsList)}}function ii(r,t){if(r&1&&m(0,"i",49),r&2){let e=t.$implicit,n=p(2).$implicit;d("ngClass",e<=n.rating?"fa-star filled":"fa-star-o")}}function oi(r,t){r&1&&(Oe(0),g(1,ii,1,1,"i",48),Ie()),r&2&&(l(),d("ngForOf",J(1,Pt)))}function ri(r,t){r&1&&(i(0,"span",50),a(1,"No rating"),o())}function ai(r,t){if(r&1&&(i(0,"div",44)(1,"div",45)(2,"strong"),a(3),o()(),i(4,"div",46),g(5,oi,2,2,"ng-container",35)(6,ri,2,0,"ng-template",null,1,Z),o(),i(8,"p",47),a(9),o()()),r&2){let e=t.$implicit,n=Q(7);l(3),b(e.author),l(2),d("ngIf",e.rating)("ngIfElse",n),l(4),_('"',e.comment,'"')}}function li(r,t){if(r&1&&(i(0,"div"),g(1,ai,10,4,"div",43),o()),r&2){let e=p(2);l(),d("ngForOf",e.product.reviews)}}function si(r,t){r&1&&(i(0,"p"),a(1,"No reviews available for this product."),o())}function ci(r,t){if(r&1){let e=S();i(0,"div",51),m(1,"img",52),i(2,"div",53),a(3),o(),i(4,"div",13)(5,"span"),a(6),V(7,"currency"),o(),a(8," | "),i(9,"span"),a(10),o()(),i(11,"button",54),u("click",function(){let s=f(e).$implicit,c=p(2);return h(c.addToToolbox(s))}),m(12,"i",23),o()()}if(r&2){let e=t.$implicit;l(),K("alt",e.name),d("src",e.image,E),l(2),b(e.name),l(3),b(_e(7,9,e.price,"PHP","symbol","1.2-2")),l(3),be("color",e.stock&&e.stock>0?"rgb(41, 187, 41)":"red")("font-weight","bold"),l(),_(" ",e.stock&&e.stock>0?"In Stock":"Out of Stock"," ")}}function di(r,t){if(r&1){let e=S();i(0,"div",3)(1,"nav",4)(2,"button",5),u("click",function(){f(e);let s=p();return h(s.goBack())}),m(3,"i",6),o()(),i(4,"div",7)(5,"div",8),m(6,"img",9),o(),i(7,"div",10)(8,"h1",11),a(9),o(),g(10,Xn,4,3,"div",12),i(11,"div",13)(12,"span"),a(13,"SKU: BOSCH-12MS"),o(),a(14," | "),i(15,"span",14),a(16),o()(),i(17,"div",15),a(18),V(19,"currency"),o(),i(20,"div",16)(21,"button",17),u("click",function(){f(e);let s=p();return h(s.decreaseQuantity())}),a(22,"-"),o(),i(23,"input",18),y("ngModelChange",function(s){f(e);let c=p();return C(c.quantity,s)||(c.quantity=s),h(s)}),o(),i(24,"button",19),u("click",function(){f(e);let s=p();return h(s.increaseQuantity())}),a(25,"+"),o()(),i(26,"div",20)(27,"button",21),u("click",function(){f(e);let s=p();return h(s.addToCart(s.product))}),a(28,"Add to Cart"),o(),i(29,"button",22),u("click",function(){f(e);let s=p();return h(s.addToToolbox(s.product))}),m(30,"i",23),o()(),i(31,"div",24),m(32,"i",25),a(33," Free shipping on orders over \u20B12,000"),o()()(),i(34,"div",26)(35,"div",27),m(36,"input",28),i(37,"label",29),a(38,"Details"),o(),m(39,"input",30),i(40,"label",31),a(41,"Reviews"),o(),i(42,"div",32),g(43,ei,2,1,"p",33)(44,ni,2,1,"ul",33),o(),i(45,"div",34),g(46,li,2,1,"div",35)(47,si,2,0,"ng-template",null,0,Z),o()(),i(49,"div",36)(50,"h2"),a(51,"You might also like"),o(),i(52,"div",37),g(53,ci,13,14,"div",38),o()()()()}if(r&2){let e=Q(48),n=p();l(6),K("alt",n.product.name),d("src",n.product.image,E),l(3),b(n.product.name),l(),d("ngIf",n.product.rating!==void 0&&n.product.rating!==null),l(5),be("color",n.getStock()>0?"rgb(41, 187, 41)":"red"),l(),_(" ",n.getStock()>0?"In Stock: "+n.getStock():"Out of Stock"," "),l(2),b(_e(19,15,n.product.price,"PHP","symbol","1.2-2")),l(5),v("ngModel",n.quantity),l(),d("disabled",n.quantity>=n.getStock()),l(19),d("ngIf",n.product.detailsText),l(),d("ngIf",n.product.detailsList==null?null:n.product.detailsList.length),l(2),d("ngIf",n.product==null||n.product.reviews==null?null:n.product.reviews.length)("ngIfElse",e),l(7),d("ngForOf",n.recommendedProducts)}}var $e=class r{constructor(t,e,n,s){this.route=t;this.productService=e;this.toolboxService=n;this.cartService=s}product;quantity=1;recommendedProducts=[];subscription;productId;ngOnInit(){this.productId=Number(this.route.snapshot.paramMap.get("id")),this.subscription=this.productService.products$.subscribe(t=>{let e=t.find(n=>n.id===this.productId);e&&(this.product=Se(we({},e),{stock:Number(e.stock??0),detailsText:e.detailsText??"No details available.",detailsList:e.detailsList??[],reviews:e.reviews??[]}),this.quantity=1,this.loadRecommendedProducts())})}ngOnDestroy(){this.subscription?.unsubscribe()}getStock(){return Number(this.product?.stock??0)}goBack(){window.history.back()}loadRecommendedProducts(){if(this.product){console.log("Product category:",this.product.category);let t=this.productService.getProductsByCategory(this.product.category);console.log("Products by category:",t),this.recommendedProducts=t.filter(e=>e.id!==this.product.id&&e.stock!==void 0&&e.stock>0).slice(0,5)}}getStarClass(t,e){return e<Math.floor(t)?"fas fa-star":e<t?"fas fa-star-half-alt":"far fa-star"}increaseQuantity(){console.log("Current quantity:",this.quantity),console.log("Product stock:",this.product?.stock),this.product&&this.quantity<(this.product.stock??0)&&this.quantity++}decreaseQuantity(){this.quantity>1&&this.quantity--}addToCart(t){let e={id:t.id,name:t.name,thumbnail:t.image??"/default-product-image.jpg",price:t.salePrice??t.price,quantity:this.quantity,stock:t.stock??0,subtotal:(t.salePrice??t.price)*this.quantity};this.cartService.addItem(e),alert(`${t.name} (Quantity: ${this.quantity}) has been added to the cart.`)}addToToolbox(t){if(!t)return;let e={id:t.id,name:t.name??"",thumbnail:t.image??"",price:t.price,quantity:1,stock:t.stock??0,subtotal:t.price};this.toolboxService.addItem(e),alert(`Added ${t.name} to toolbox.`)}static \u0275fac=function(e){return new(e||r)(x(te),x(W),x(H),x(L))};static \u0275cmp=P({type:r,selectors:[["app-product-details"]],decls:1,vars:1,consts:[["noReviews",""],["noRating",""],["class","product-details-container",4,"ngIf"],[1,"product-details-container"],[1,"top-nav"],["aria-label","Back",1,"arrow-back",3,"click"],[1,"fas","fa-arrow-left"],[1,"top-section"],[1,"image-carousel"],[1,"main-image",3,"src","alt"],[1,"product-info"],[1,"product-title"],["class","rating",4,"ngIf"],[1,"sku-stock"],[2,"font-weight","bold"],[1,"price"],[1,"quantity-selector"],[3,"click"],["type","text",3,"ngModelChange","ngModel"],[3,"click","disabled"],[1,"action-buttons"],[1,"add-to-cart-btn",3,"click"],["title","Add to Toolbox",1,"wishlist-btn","top-heart-icon",3,"click"],[1,"fa-regular","fa-heart"],[1,"free-shipping-note"],[1,"fas","fa-truck"],[1,"middle-section"],[1,"tabs"],["type","radio","id","tab-details","name","tab-group","checked",""],["for","tab-details"],["type","radio","id","tab-reviews","name","tab-group"],["for","tab-reviews"],["id","details-content",1,"tab-content"],[4,"ngIf"],["id","reviews-content",1,"tab-content","reviews-content"],[4,"ngIf","ngIfElse"],[1,"bottom-section"],[1,"recommendations-carousel"],["class","recommendation-card",4,"ngFor","ngForOf"],[1,"rating"],[4,"ngFor","ngForOf"],[1,"rating-value"],[1,"fa-star",3,"ngClass"],["class","review",4,"ngFor","ngForOf"],[1,"review"],[1,"review-author"],[1,"review-rating"],[1,"review-comment"],["class","fa",3,"ngClass",4,"ngFor","ngForOf"],[1,"fa",3,"ngClass"],[1,"no-rating"],[1,"recommendation-card"],[3,"src","alt"],[1,"rec-name"],["title","Add to Toolbox",1,"wishlist-btn",3,"click"]],template:function(e,n){e&1&&g(0,di,54,20,"div",2),e&2&&d("ngIf",n.product)},dependencies:[M,ee,O,k,Ne,T,B,z,D],styles:["[_nghost-%COMP%]{display:block;font-family:var(--primary-font);color:var(--text-primary);background-color:var(--primary-light);padding:2rem;max-width:900px;margin:0 auto;box-sizing:border-box}.top-section[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:2rem;justify-content:center;align-items:flex-start;background-color:var(--neutral-light);border-radius:12px;box-shadow:0 4px 12px #0000001a;padding:2rem;margin-bottom:2rem}.top-nav[_ngcontent-%COMP%]   button.arrow-back[_ngcontent-%COMP%]{background:none;border:none;font-size:1.5rem;cursor:pointer;color:var(--primary-dark);padding:.25rem .5rem;border-radius:6px;transition:background-color .3s ease}.top-nav[_ngcontent-%COMP%]   button.arrow-back[_ngcontent-%COMP%]:hover{background-color:var(--white)}.image-carousel[_ngcontent-%COMP%]{flex:1 1 40%;max-width:400px}.image-carousel[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]{width:100%;border-radius:12px;object-fit:cover;box-shadow:0 2px 8px #0000001a}.product-details[_ngcontent-%COMP%], .product-info[_ngcontent-%COMP%]{flex:1 1 400px;display:flex;flex-direction:column;justify-content:space-between}.product-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;margin-bottom:.5rem;color:var(--primary-dark)}.product-category[_ngcontent-%COMP%], .product-description[_ngcontent-%COMP%], .rating-value[_ngcontent-%COMP%]{font-size:1rem;color:var(--text-secondary);margin-bottom:1rem;text-transform:capitalize}.product-description[_ngcontent-%COMP%]{line-height:1.5;margin-bottom:1.5rem}.product-price[_ngcontent-%COMP%], .price[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:var(--primary-color);margin-bottom:1rem}.product-rating[_ngcontent-%COMP%], .rating[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:1.5rem}.product-rating[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .rating[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--star-color, #f5a623);margin-right:.25rem;font-size:1.2rem;transition:transform .3s ease}.quantity-control[_ngcontent-%COMP%], .quantity-selector[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:1.5rem;gap:.5rem}.quantity-control[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .quantity-selector[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:var(--primary-color);border:none;color:var(--neutral-light);font-size:1.2rem;padding:.5rem 1rem;cursor:pointer;border-radius:6px;transition:background-color .3s ease;flex-shrink:0}.quantity-control[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .quantity-selector[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:var(--primary-dark)}.quantity-control[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .quantity-selector[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin:0;font-size:1.2rem;text-align:center;font-weight:600;padding:.3rem .8rem;min-width:40px;border:1px solid var(--neutral-dark);border-radius:6px;background-color:#fff}.quantity-selector[_ngcontent-%COMP%]{display:flex;align-items:center}.quantity-selector[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.5rem}.quantity-selector[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:40px}.add-to-cart-btn[_ngcontent-%COMP%]{background-color:var(--primary-color);border:none;color:var(--neutral-light);font-weight:600;padding:.75rem 1.5rem;font-size:1.1rem;border-radius:8px;cursor:pointer;transition:background-color .3s ease;align-self:flex-start}.add-to-cart-btn[_ngcontent-%COMP%]:hover{background-color:var(--primary-dark)}.add-to-cart-btn[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed;opacity:.7}.tabs[_ngcontent-%COMP%]{margin-top:2rem}.tabs[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{display:none}.tabs[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding:.5rem 1rem;cursor:pointer;background-color:var(--neutral-light);border-radius:6px 6px 0 0;font-weight:600;margin-right:1rem;transition:background-color .3s ease}.tabs[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]{background-color:var(--primary-color);color:var(--neutral-light)}.tab-content[_ngcontent-%COMP%]{display:none;padding:1rem;background:#fff;border:1px solid var(--neutral-light);border-top:none}#tab-details[_ngcontent-%COMP%]:checked ~ #details-content[_ngcontent-%COMP%], #tab-reviews[_ngcontent-%COMP%]:checked ~ #reviews-content[_ngcontent-%COMP%]{display:block}.reviews-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-style:italic;color:var(--text-secondary)}.review-rating[_ngcontent-%COMP%]{color:gold;margin-bottom:.5rem}.review-rating[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{margin-right:.1rem;font-size:1.2rem;transition:color .3s ease}.review-rating[_ngcontent-%COMP%]   .filled[_ngcontent-%COMP%]{color:#ffc107}.review-rating[_ngcontent-%COMP%]   .fa-star-o[_ngcontent-%COMP%]{color:#ddd}.no-rating[_ngcontent-%COMP%]{color:#999;font-style:italic}.bottom-section[_ngcontent-%COMP%]{margin-top:3rem;padding-top:2rem;border-top:1px solid #ddd}.bottom-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:var(--primary-dark);margin-bottom:1rem}.recommendations-carousel[_ngcontent-%COMP%]{display:flex;gap:1.2rem;overflow-x:auto;padding-bottom:1rem;scrollbar-width:thin;scrollbar-color:var(--primary-color, #007bff) transparent}.recommendations-carousel[_ngcontent-%COMP%]::-webkit-scrollbar{height:8px}.recommendations-carousel[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:var(--primary-color, #007bff);border-radius:4px}.recommendation-card[_ngcontent-%COMP%]{min-width:180px;flex-shrink:0;background-color:var(--neutral-light);border-radius:8px;padding:1rem;box-shadow:0 2px 6px #0000001a;transition:transform .3s ease;display:flex;flex-direction:column;justify-content:space-between;align-items:center;max-width:200px;position:relative}.recommendation-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px)}.recommendation-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:200px;object-fit:fill;border-radius:6px;background-color:#f0f0f0;margin-bottom:1rem;max-width:100%;max-height:200px}.rec-name[_ngcontent-%COMP%]{font-weight:600;font-size:1rem;margin-bottom:.3rem}.rec-price[_ngcontent-%COMP%]{font-size:.95rem;color:var(--primary-color, #007bff);margin-bottom:.5rem}.wishlist-btn[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;color:var(--primary-color, #007bff);font-size:1.2rem;transition:color .3s ease;position:absolute;top:17px;right:25px;z-index:10;padding:0}.wishlist-btn[_ngcontent-%COMP%]:hover{color:var(--primary-dark, #0056b3)}.top-heart-icon[_ngcontent-%COMP%]{position:static!important;font-size:1.5rem;color:var(--primary-color, #007bff);margin-left:1rem;align-self:center;padding:0}.free-shipping-note[_ngcontent-%COMP%]{margin-top:1rem;font-size:.9rem;color:var(--text-secondary);display:flex;align-items:center;gap:.5rem}button[_ngcontent-%COMP%]:focus, input[_ngcontent-%COMP%]:focus{outline:2px solid var(--primary-color);outline-offset:2px}@media (max-width: 768px){.product-container[_ngcontent-%COMP%]{flex-direction:column;padding:1rem}.product-image[_ngcontent-%COMP%], .product-details[_ngcontent-%COMP%], .product-info[_ngcontent-%COMP%]{max-width:100%;flex:none}.product-title[_ngcontent-%COMP%]{font-size:1.5rem}.product-price[_ngcontent-%COMP%]{font-size:1.2rem}.quantity-control[_ngcontent-%COMP%], .quantity-selector[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:.5rem}.tabs[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:inline-block;margin-bottom:.5rem;width:100%;text-align:center}.recommendation-card[_ngcontent-%COMP%]{min-width:150px}}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-top:1rem}"]})};function pi(r,t){if(r&1&&(i(0,"option",28),a(1),o()),r&2){let e=t.$implicit;d("value",e),l(),b(e)}}function mi(r,t){if(r&1&&(i(0,"p",41),a(1),o()),r&2){let e=p().$implicit;l(),_(" \u{1F525} Only ",e.stock," Left! ")}}function ui(r,t){if(r&1&&(i(0,"div",42)(1,"div",43),m(2,"div",44),o(),i(3,"p",45),a(4),V(5,"number"),o()()),r&2){let e=p().$implicit;l(2),be("width",(20-e.stock)*5,"%"),l(2),Ee("Sold: ",20-e.stock," of 20 \u2013 ",$(5,4,(20-e.stock)/20*100,"1.0-0"),"% Claimed!")}}function gi(r,t){if(r&1&&(i(0,"p",46),a(1),o()),r&2){let e=p().$implicit;l(),_(" Available in: ",e.availableLocations.join(", ")," ")}}function fi(r,t){if(r&1&&(i(0,"p",47),a(1),o()),r&2){let e=p().$implicit;l(),_(" \u{1F553} ",e.deliveryEstimate," ")}}function hi(r,t){if(r&1){let e=S();i(0,"div",29),m(1,"img",30),i(2,"div",31)(3,"h3"),a(4),o(),i(5,"p",32),a(6),i(7,"span",33),a(8),o()(),g(9,mi,2,1,"p",34)(10,ui,6,7,"div",35)(11,gi,2,1,"p",36)(12,fi,2,1,"p",37),i(13,"div",38)(14,"button",39),u("click",function(){let s=f(e).$implicit,c=p();return h(c.addToCart(s))}),a(15,"Add to Cart"),o(),i(16,"button",40),u("click",function(){let s=f(e).$implicit,c=p();return h(c.openQuickBuyModal(s))}),a(17,"Buy Now"),o()()()()}if(r&2){let e=t.$implicit;l(),d("src",e.image,E)("alt",e.name),l(3),b(e.name),l(2),_("\u20B1",e.salePrice," "),l(2),_("~\u20B1",e.price,"~"),l(),d("ngIf",e.stock!==void 0&&e.stock<=5),l(),d("ngIf",e.stock!==void 0&&e.stock>0&&e.stock<=20),l(),d("ngIf",e.availableLocations&&e.availableLocations.length>0),l(),d("ngIf",e.deliveryEstimate)}}function xi(r,t){if(r&1&&(i(0,"p"),a(1),o()),r&2){let e=p(2);l(),_("Delivery: ",e.quickBuyProduct.deliveryEstimate,"")}}function bi(r,t){if(r&1){let e=S();i(0,"div",48)(1,"div",49)(2,"button",50),u("click",function(){f(e);let s=p();return h(s.closeQuickBuyModal())}),a(3,"\xD7"),o(),i(4,"h3"),a(5),o(),m(6,"img",51),i(7,"p"),a(8),o(),i(9,"label",52),a(10,"Quantity:"),o(),i(11,"input",53),y("ngModelChange",function(s){f(e);let c=p();return C(c.quickBuyQuantity,s)||(c.quickBuyQuantity=s),h(s)}),o(),g(12,xi,2,1,"p",54),i(13,"button",55),u("click",function(){f(e);let s=p();return h(s.confirmQuickBuy())}),a(14,"Confirm & Pay"),o()()()}if(r&2){let e,n,s=p();l(5),b(s.quickBuyProduct.name),l(),d("src",s.quickBuyProduct.image,E)("alt",s.quickBuyProduct.name),l(2),_("Price: \u20B1",(e=s.quickBuyProduct.salePrice)!==null&&e!==void 0?e:s.quickBuyProduct.price,""),l(3),v("ngModel",s.quickBuyQuantity),d("max",(n=s.quickBuyProduct.stock)!==null&&n!==void 0?n:99),l(),d("ngIf",s.quickBuyProduct.deliveryEstimate)}}function _i(r,t){if(r&1&&(i(0,"p"),a(1),o()),r&2){let e=t.$implicit;l(),Ee(" ",e.icon," ",e.message," ")}}var Ze=class r{constructor(t,e,n){this.productService=t;this.cartService=e;this.router=n}flashSaleProducts=[];allFlashSaleProducts=[];showAllDeals=!1;categories=["Power Tools","Paint & Supplies","Electrical Materials","Plumbing Supplies","Gardening Tools","Hand Tools","Building Materials"];selectedCategory="";selectedPriceRange="";selectedSort="Popular";cartItemCount=0;totalPrice=0;countdown="";countdownSubscription;cartSubscription;promoCallouts=[{icon:"\u{1F381}",message:"FREE Faucet Installation on \u20B11,500 Plumbing Orders!"}];quickBuyProduct=null;quickBuyQuantity=1;ngOnDestroy(){this.countdownSubscription&&this.countdownSubscription.unsubscribe(),this.cartSubscription&&this.cartSubscription.unsubscribe()}loadAllFlashSaleProducts(){this.allFlashSaleProducts=this.productService.getFlashSalesProducts()}toggleViewAllDeals(){this.showAllDeals=!this.showAllDeals,this.showAllDeals&&this.loadAllFlashSaleProducts()}ngOnInit(){this.loadFlashSaleProducts(),console.log("Flash sales products loaded:",this.flashSaleProducts),this.cartItemCount=this.cartService.getItemCount(),this.totalPrice=this.cartService.getCartItems().reduce((t,e)=>t+e.subtotal,0),this.cartSubscription=this.cartService.cartItems$.subscribe(t=>{this.cartItemCount=t.reduce((e,n)=>e+n.quantity,0),this.totalPrice=t.reduce((e,n)=>e+n.subtotal,0)}),this.startCountdown()}openQuickBuyModal(t){this.quickBuyProduct=t,this.quickBuyQuantity=1}closeQuickBuyModal(){this.quickBuyProduct=null,this.quickBuyQuantity=1}confirmQuickBuy(){if(!this.quickBuyProduct)return;let t=this.quickBuyQuantity>0?this.quickBuyQuantity:1,e={id:this.quickBuyProduct.id,name:this.quickBuyProduct.name,thumbnail:this.quickBuyProduct.image??"",price:this.quickBuyProduct.salePrice??this.quickBuyProduct.price,quantity:t,stock:this.quickBuyProduct.stock??0,subtotal:(this.quickBuyProduct.salePrice??this.quickBuyProduct.price)*t};this.cartService.addItem(e),this.closeQuickBuyModal()}loadFlashSaleProducts(){let t=this.productService.getFlashSalesProducts();if(t=t.map(e=>{let n=e.availableLocations??[],s=e.deliveryEstimate??"";return n.length===0&&s===""&&(e.id===101?(n=["Maya"],s="Delivers by Friday in Maya"):e.id===102?(n=["Tapilon"],s="Delivers by Monday in Tapilon"):e.id===103?(n=["Daanbantayan"],s="Delivers by Saturday in Daanbantayan"):e.id===104?(n=["Paypay"],s="Delivers by Thursday in Paypay"):e.id===105?(n=["Daanbantayan"],s="Delivers by Friday in Daanbantayan"):e.id===106?(n=["Calape"],s="Delivers by Friday in Calape"):e.id===107&&(n=["Maya"],s="Delivers by Tuesday in Maya")),Se(we({},e),{availableLocations:n,deliveryEstimate:s})}),this.selectedCategory){let e=this.selectedCategory.toLowerCase().replace(/\s+/g,"-");t=t.filter(n=>n.category===e)}if(this.selectedPriceRange){let[e,n]=this.selectedPriceRange.split("-"),s=parseInt(e,10),c=n==="+"?Number.MAX_SAFE_INTEGER:parseInt(n,10);t=t.filter(w=>w.salePrice!==void 0&&w.salePrice>=s&&w.salePrice<=c)}this.selectedSort==="PriceLowHigh"?t=t.sort((e,n)=>(e.salePrice??0)-(n.salePrice??0)):this.selectedSort==="PriceHighLow"?t=t.sort((e,n)=>(n.salePrice??0)-(e.salePrice??0)):t=t.sort((e,n)=>(n.rating??0)-(e.rating??0)),this.flashSaleProducts=t}onCategoryChange(t){this.selectedCategory=t,this.loadFlashSaleProducts()}onPriceRangeChange(t){this.selectedPriceRange=t,this.loadFlashSaleProducts()}onSortChange(t){this.selectedSort=t,this.loadFlashSaleProducts()}addToCart(t){console.log("addToCart called for product:",t);let e={id:t.id,name:t.name,thumbnail:t.image??"",price:t.salePrice??t.price,quantity:1,stock:t.stock??0,subtotal:t.salePrice??t.price};this.cartService.addItem(e),alert(`Product "${t.name}" has been added to your cart.`),this.cartItemCount=this.cartService.getItemCount(),console.log("Updated cart item count:",this.cartItemCount)}startCountdown(){let t=new Date;t.setHours(t.getHours()+3),this.countdownSubscription=Pe(1e3).subscribe(()=>{let e=new Date().getTime(),n=t.getTime()-e;if(n<0)this.countdown="00:00:00",this.countdownSubscription&&this.countdownSubscription.unsubscribe();else{let s=Math.floor(n/36e5%24),c=Math.floor(n/(1e3*60)%60),w=Math.floor(n/1e3%60);this.countdown=`${this.pad(s)}:${this.pad(c)}:${this.pad(w)}`}})}pad(t){return t<10?"0"+t:t.toString()}goBack(){window.history.back()}goToCart(){this.router.navigate(["/cart"])}navigateToProductDetails(t){this.router.navigate(["/product-details",t])}static \u0275fac=function(e){return new(e||r)(x(W),x(L),x(I))};static \u0275cmp=P({type:r,selectors:[["app-flash-sales"]],decls:51,vars:8,consts:[[1,"flash-sales-page"],[1,"top-bar"],[1,"back-btn",3,"click"],[1,"fas","fa-arrow-left"],[1,"cart-btn",3,"click"],[1,"fa","fa-shopping-cart"],[1,"urgency-banner"],[1,"limited-time"],[1,"view-all-deals-btn"],[1,"filter-sort-tools"],[3,"change"],["value",""],[3,"value",4,"ngFor","ngForOf"],["value","0-100"],["value","101-500"],["value","501-1000"],["value","1001+"],["value","Popular"],["value","PriceLowHigh"],["value","PriceHighLow"],[1,"product-grid"],["class","product-card",4,"ngFor","ngForOf"],["class","quick-buy-modal",4,"ngIf"],[1,"promo-callouts"],[4,"ngFor","ngForOf"],[1,"sticky-cart-summary"],[3,"click"],[1,"end-of-list-note"],[3,"value"],[1,"product-card"],[3,"src","alt"],[1,"product-info"],[1,"price"],[1,"original-price"],["class","stock-warning","style","color: orangered; font-weight: bold;",4,"ngIf"],["class","stock-progress-bar","style","margin-bottom: 8px;",4,"ngIf"],["class","location-tag","style","font-size: 12px; color: #555;",4,"ngIf"],["class","delivery-estimate","style","font-size: 12px; color: #555;",4,"ngIf"],[1,"button-container"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-secondary",3,"click"],[1,"stock-warning",2,"color","orangered","font-weight","bold"],[1,"stock-progress-bar",2,"margin-bottom","8px"],[1,"progress-bar-bg",2,"background-color","lightgray","width","100%","height","10px","border-radius","5px"],[1,"progress-bar-fill",2,"background-color","orangered","height","10px","border-radius","5px"],[2,"font-size","12px","margin","2px 0 0 0"],[1,"location-tag",2,"font-size","12px","color","#555"],[1,"delivery-estimate",2,"font-size","12px","color","#555"],[1,"quick-buy-modal"],[1,"modal-content"],[1,"close-btn",3,"click"],[1,"quick-buy-image",3,"src","alt"],["for","quickBuyQuantity"],["id","quickBuyQuantity","type","number","min","1",1,"quick-buy-quantity",3,"ngModelChange","ngModel","max"],[4,"ngIf"],[1,"confirm-pay-btn",3,"click"]],template:function(e,n){e&1&&(i(0,"div",0)(1,"div",1)(2,"button",2),u("click",function(){return n.goBack()}),m(3,"i",3),o(),i(4,"h1"),a(5,"Flash Sales"),o(),i(6,"button",4),u("click",function(){return n.goToCart()}),m(7,"i",5),a(8),o()(),i(9,"div",6)(10,"span",7),a(11),o(),i(12,"button",8),a(13,"View All Deals"),o()(),i(14,"div",9)(15,"select",10),u("change",function(c){return n.onCategoryChange(c.target.value)}),i(16,"option",11),a(17,"\u{1F4C2} Category \u25BC"),o(),g(18,pi,2,2,"option",12),o(),i(19,"select",10),u("change",function(c){return n.onPriceRangeChange(c.target.value)}),i(20,"option",11),a(21,"\u20B1 Price \u25BC"),o(),i(22,"option",13),a(23,"\u20B10 - \u20B1100"),o(),i(24,"option",14),a(25,"\u20B1101 - \u20B1500"),o(),i(26,"option",15),a(27,"\u20B1501 - \u20B11000"),o(),i(28,"option",16),a(29,"\u20B11001+"),o()(),i(30,"select",10),u("change",function(c){return n.onSortChange(c.target.value)}),i(31,"option",17),a(32,"Sort by: Popular \u25BC"),o(),i(33,"option",18),a(34,"Price: Low to High"),o(),i(35,"option",19),a(36,"Price: High to Low"),o()()(),i(37,"div",20),g(38,hi,18,9,"div",21),o(),g(39,bi,15,7,"div",22),i(40,"div",23),g(41,_i,2,2,"p",24),o(),i(42,"div",25)(43,"span"),m(44,"i",5),a(45),o(),i(46,"button",26),u("click",function(){return n.goToCart()}),a(47,"Go to Cart"),o()(),i(48,"div",27)(49,"p"),a(50,"\u{1F389} That\u2019s all for today\u2019s Flash Deals! Come back tomorrow for more exclusive offers."),o()()()),e&2&&(l(8),_(" ",n.cartItemCount," "),l(3),_("\u{1F6A8} LIMITED TIME ONLY! \u23F0 Sale ends in ",n.countdown,""),l(7),d("ngForOf",n.categories),l(20),d("ngForOf",n.flashSaleProducts),l(),d("ngIf",n.quickBuyProduct),l(2),d("ngForOf",n.promoCallouts),l(4),Ee(" ",n.cartItemCount," items | Total: \u20B1",n.totalPrice,""))},dependencies:[M,O,k,he,T,ze,De,B,ht,z,vt,_t,D],styles:[`.flash-sales-page{padding:16px;font-family:Poppins,sans-serif;background-color:#f5f5f5;color:#333}.top-bar{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.top-bar h1{font-size:1.5rem;font-weight:700;color:var(--primary-dark)}.top-bar button{color:var(--primary-dark);background:none;border:none;font-size:2rem;cursor:pointer;padding:.25rem .5rem;border-radius:6px;transition:background-color .3s ease}.top-bar button.back-btn:hover{background-color:var(--white)}.urgency-banner{background-color:#fff3cd;border-left:4px solid var(--secondary-color);padding:12px;margin-bottom:16px;display:flex;justify-content:space-between;align-items:center;border-radius:6px}.view-all-deals-btn{background-color:var(--secondary-color, #6c757d);border:none;color:#fff;padding:.3rem .8rem;cursor:pointer;border-radius:4px}.view-all-deals-btn:hover{background-color:#e27f00}.filter-sort-tools{display:flex;gap:12px;flex-wrap:wrap;margin-bottom:16px}.filter-sort-tools select{padding:8px 12px;border:1px solid #ccc;border-radius:6px;font-size:.95rem}.product-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:16px;width:100%;justify-content:center}.product-card{background-color:#fff;border-radius:12px;padding:16px;box-shadow:0 4px 10px #0000000d;display:flex;flex-direction:column;justify-content:space-between;transition:transform .2s ease;min-height:380px}.product-card:hover{transform:translateY(-4px)}.product-card img{width:100%;height:180px;object-fit:fill;border-radius:8px;margin-bottom:12px}.product-info h3{font-size:1.05rem;margin-bottom:6px}.price{font-weight:700;color:var(--primary-color)}.original-price{color:#888;font-size:.9rem;text-decoration:line-through;margin-left:6px}.stock-warning{color:var(--danger-color);font-weight:700;margin-top:8px}.stock-progress-bar{margin:10px 0 6px}.progress-bar-bg{background-color:#eee;width:100%;height:10px;border-radius:5px;overflow:hidden}.progress-bar-fill{background-color:var(--danger-color);height:10px;width:0%;border-radius:5px;transition:width .3s ease-in-out}.location-tag,.delivery-estimate{font-size:.85rem;color:#666;margin-top:4px}.button-container{display:flex;gap:10px;margin-top:12px}.btn{flex:1;padding:10px 12px;font-size:.95rem;font-weight:600;border-radius:6px;cursor:pointer;border:none;transition:background-color .2s ease}.btn-primary{background-color:var(--primary-color);color:#fff}.btn-primary:hover{background-color:var(--primary-dark)}.btn-secondary{background-color:var(--neutral-light);color:var(--primary-color);border:1px solid #24a28b}.btn-secondary:hover{background-color:#eaeaea}.quick-buy-modal{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content{background-color:#fff;padding:24px;border-radius:10px;width:90%;max-width:400px;text-align:center;position:relative}.close-btn{position:absolute;top:12px;right:12px;font-size:1.4rem;background:none;border:none;cursor:pointer}.quick-buy-image{width:100%;max-height:200px;object-fit:cover;border-radius:8px;margin:12px 0}.quick-buy-quantity{width:80px;margin:8px 0;padding:6px;border-radius:6px;border:1px solid #ccc}.confirm-pay-btn{background-color:var(--primary-color);color:#fff;padding:10px 16px;margin-top:12px;border-radius:6px;font-weight:700;border:none;cursor:pointer}.confirm-pay-btn:hover{background-color:var(--primary-dark)}.promo-callouts{margin:24px 0 16px;font-size:.95rem;color:#444}.promo-callouts p{margin:4px 0}.sticky-cart-summary{position:sticky;bottom:0;background:var(--neutral-light);border-top:1px solid #ddd;padding:12px 16px;display:flex;justify-content:space-between;align-items:center;font-weight:700;box-shadow:0 -2px 8px #0000000d}.sticky-cart-summary button{background:var(--primary-light);border:1px solid var(--primary-dark);color:var(--primary-color);padding:.3rem .8rem;border-radius:4px;cursor:pointer}.end-of-list-note{text-align:center;margin-top:32px;font-size:.95rem;color:#777}
`],encapsulation:2})};function vi(r,t){if(r&1){let e=S();i(0,"div")(1,"div",8)(2,"label",52),a(3,"Street Address"),o(),i(4,"input",53),y("ngModelChange",function(s){f(e);let c=p(2);return C(c.shippingStreet1,s)||(c.shippingStreet1=s),h(s)}),o(),i(5,"input",54),y("ngModelChange",function(s){f(e);let c=p(2);return C(c.shippingStreet2,s)||(c.shippingStreet2=s),h(s)}),o()(),i(6,"div",8)(7,"label",55),a(8,"Barangay"),o(),i(9,"input",56),y("ngModelChange",function(s){f(e);let c=p(2);return C(c.shippingBarangay,s)||(c.shippingBarangay=s),h(s)}),o()(),i(10,"div",8)(11,"label",57),a(12,"Town"),o(),i(13,"input",58),y("ngModelChange",function(s){f(e);let c=p(2);return C(c.shippingTown,s)||(c.shippingTown=s),h(s)}),o()(),i(14,"div",8)(15,"label",59),a(16,"City"),o(),i(17,"input",60),y("ngModelChange",function(s){f(e);let c=p(2);return C(c.shippingCity,s)||(c.shippingCity=s),h(s)}),o()(),i(18,"div",8)(19,"label",61),a(20,"ZIP / Postal Code"),o(),i(21,"input",62),y("ngModelChange",function(s){f(e);let c=p(2);return C(c.shippingZip,s)||(c.shippingZip=s),h(s)}),o()()()}if(r&2){let e=p(2);l(4),v("ngModel",e.shippingStreet1),l(),v("ngModel",e.shippingStreet2),l(4),v("ngModel",e.shippingBarangay),l(4),v("ngModel",e.shippingTown),l(4),v("ngModel",e.shippingCity),l(4),v("ngModel",e.shippingZip)}}function Ci(r,t){if(r&1){let e=S();i(0,"section",47)(1,"h2"),a(2,"Shipping Address"),o(),i(3,"form")(4,"div",48)(5,"label")(6,"input",49),y("ngModelChange",function(s){f(e);let c=p();return C(c.shippingOption,s)||(c.shippingOption=s),h(s)}),o(),a(7," Same as billing address "),o(),i(8,"label")(9,"input",50),y("ngModelChange",function(s){f(e);let c=p();return C(c.shippingOption,s)||(c.shippingOption=s),h(s)}),o(),a(10," Ship to a different address "),o()(),g(11,vi,22,6,"div",51),o()()}if(r&2){let e=p();l(6),v("ngModel",e.shippingOption),l(3),v("ngModel",e.shippingOption),l(2),d("ngIf",e.shippingOption==="different")}}function yi(r,t){if(r&1&&(i(0,"li",63)(1,"div",64)(2,"span",65),a(3),o(),i(4,"span",66),a(5),o(),i(6,"span",67),a(7),o()()()),r&2){let e=t.$implicit;l(3),b(e.name),l(2),_("Qty: ",e.quantity,""),l(2),_("\u20B1",e.price,"")}}var Ge=class r{constructor(t,e,n,s){this.cartService=t;this.orderService=e;this.router=n;this.userService=s}cartItems=[];totalPrice=0;billingFirstName="";billingLastName="";billingEmail="";billingPhone="";billingStreet1="";billingStreet2="";billingCity="";billingTown="";billingBarangay="";billingZip="";shipToDifferentAddress=!1;shippingOption="same";shippingStreet1="";shippingStreet2="";shippingCity="";shippingTown="";shippingBarangay="";shippingZip="";shippingCost=5;userName="Guest";paymentMethod="";saveInfo=!1;ngOnInit(){this.cartItems=this.cartService.getSelectedCartItems(),this.calculateTotal();let t=this.userService.getUser();t&&t.name&&(this.userName=t.name)}calculateTotal(){this.totalPrice=this.cartItems.reduce((t,e)=>t+e.subtotal,0)}placeOrder(){if(!this.billingFirstName.trim()||!this.billingLastName.trim()||!this.billingEmail.trim()||!this.billingPhone.trim()||!this.billingStreet1.trim()||!this.billingBarangay.trim()||!this.billingTown.trim()||!this.billingCity.trim()||!this.billingZip.trim()){alert("Please complete all billing details.");return}if(this.shipToDifferentAddress&&this.shippingOption==="different"&&(!this.shippingStreet1.trim()||!this.shippingBarangay.trim()||!this.shippingTown.trim()||!this.shippingCity.trim()||!this.shippingZip.trim())){alert("Please complete all shipping address details.");return}if(this.cartItems.length===0){alert("Your cart is empty.");return}if(!this.paymentMethod){alert("Please select a payment method.");return}let t=this.cartItems.map(s=>({id:s.id,name:s.name,price:s.price,quantity:s.quantity,subtotal:s.subtotal})),e="";this.shipToDifferentAddress&&this.shippingOption==="different"?e=`${this.shippingStreet1}, ${this.shippingStreet2}, ${this.shippingBarangay}, ${this.shippingTown}, ${this.shippingCity}, ${this.shippingZip}`:e=`${this.billingStreet1}, ${this.billingStreet2}, ${this.billingBarangay}, ${this.billingTown}, ${this.billingCity}, ${this.billingZip}`;let n={orderId:ve(),userId:this.userService.getUser().userId||"",userName:this.userName,items:t,totalPrice:this.totalPrice+this.shippingCost,status:"Pending",orderDate:new Date().toISOString(),deliveryDate:new Date(Date.now()+7*24*60*60*1e3).toISOString(),shippingAddress:e,paymentMethod:this.paymentMethod,billingDetails:{firstName:this.billingFirstName,lastName:this.billingLastName,email:this.billingEmail,phone:this.billingPhone,street1:this.billingStreet1,street2:this.billingStreet2,barangay:this.billingBarangay,town:this.billingTown,city:this.billingCity,zip:this.billingZip},shippingDetails:this.shipToDifferentAddress&&this.shippingOption==="different"?{street1:this.shippingStreet1,street2:this.shippingStreet2,barangay:this.shippingBarangay,town:this.shippingTown,city:this.shippingCity,zip:this.shippingZip}:null,shippingCost:this.shippingCost,saveInfo:this.saveInfo};this.orderService.addOrder(n),this.cartService.clearCart(),alert("Order placed successfully!"),this.router.navigate(["/my-orders"])}goBack(){window.history.back()}static \u0275fac=function(e){return new(e||r)(x(L),x(de),x(I),x(N))};static \u0275cmp=P({type:r,selectors:[["app-checkout"]],decls:97,vars:16,consts:[[1,"checkout-container"],[1,"back-btn",3,"click"],[1,"fas","fa-arrow-left"],[1,"page-title"],[1,"checkout-layout"],[1,"main-section"],[1,"billing-details"],[1,"name-fields"],[1,"form-group"],["for","firstName"],["id","firstName","type","text","name","firstName","required","",3,"ngModelChange","ngModel"],["for","lastName"],["id","lastName","type","text","name","lastName","required","",3,"ngModelChange","ngModel"],["for","email"],["id","email","type","email","name","email","required","",3,"ngModelChange","ngModel"],["for","phone"],["id","phone","type","tel","name","phone","required","",3,"ngModelChange","ngModel"],["for","streetAddress1"],["id","streetAddress1","type","text","name","streetAddress1","required","",3,"ngModelChange","ngModel"],["for","barangay"],["id","barangay","type","text","name","barangay","required","",3,"ngModelChange","ngModel"],["for","town"],["id","town","type","text","name","town","required","",3,"ngModelChange","ngModel"],["for","city"],["id","city","type","text","name","city","required","",3,"ngModelChange","ngModel"],["for","zip"],["id","zip","type","text","name","zip","required","",3,"ngModelChange","ngModel"],[1,"form-group","checkbox-group"],["id","saveInfo","type","checkbox","name","saveInfo",3,"ngModelChange","ngModel"],["for","saveInfo"],["class","shipping-address",4,"ngIf"],[1,"shipping-method"],[1,"estimated-delivery"],[1,"shipping-cost"],[1,"payment-method"],[1,"payment-option"],["type","radio","name","paymentMethod","value","Gcash",3,"ngModelChange","ngModel"],["src","assets/gcash-seeklogo.png","alt","Gcash",1,"payment-icon"],["type","radio","name","paymentMethod","value","Cash on Delivery",3,"ngModelChange","ngModel"],[1,"cod-icon"],[1,"pay-now-btn",3,"click"],[1,"order-summary"],[1,"product-list"],["class","product-item",4,"ngFor","ngForOf"],[1,"summary-box"],[1,"summary-row"],[1,"summary-row","total"],[1,"shipping-address"],[1,"radio-group"],["type","radio","name","shippingOption","value","same",3,"ngModelChange","ngModel"],["type","radio","name","shippingOption","value","different",3,"ngModelChange","ngModel"],[4,"ngIf"],["for","shippingStreet1"],["id","shippingStreet1","type","text","name","shippingStreet1","required","",3,"ngModelChange","ngModel"],["id","shippingStreet2","type","text","name","shippingStreet2","placeholder","Apartment, suite, unit, etc. (optional)",3,"ngModelChange","ngModel"],["for","shippingBarangay"],["id","shippingBarangay","type","text","name","shippingBarangay","required","",3,"ngModelChange","ngModel"],["for","shippingTown"],["id","shippingTown","type","text","name","shippingTown","required","",3,"ngModelChange","ngModel"],["for","shippingCity"],["id","shippingCity","type","text","name","shippingCity","required","",3,"ngModelChange","ngModel"],["for","shippingZip"],["id","shippingZip","type","text","name","shippingZip","required","",3,"ngModelChange","ngModel"],[1,"product-item"],[1,"product-info"],[1,"product-name"],[1,"product-quantity"],[1,"product-price"]],template:function(e,n){e&1&&(m(0,"app-navbar"),i(1,"div",0)(2,"button",1),u("click",function(){return n.goBack()}),m(3,"i",2),o(),i(4,"h1",3),a(5,"Check Out"),o(),i(6,"div",4)(7,"div",5)(8,"section",6)(9,"h2"),a(10,"Billing Details"),o(),i(11,"form")(12,"div",7)(13,"div",8)(14,"label",9),a(15,"First Name"),o(),i(16,"input",10),y("ngModelChange",function(c){return C(n.billingFirstName,c)||(n.billingFirstName=c),c}),o()(),i(17,"div",8)(18,"label",11),a(19,"Last Name"),o(),i(20,"input",12),y("ngModelChange",function(c){return C(n.billingLastName,c)||(n.billingLastName=c),c}),o()()(),i(21,"div",8)(22,"label",13),a(23,"Email Address"),o(),i(24,"input",14),y("ngModelChange",function(c){return C(n.billingEmail,c)||(n.billingEmail=c),c}),o()(),i(25,"div",8)(26,"label",15),a(27,"Phone Number"),o(),i(28,"input",16),y("ngModelChange",function(c){return C(n.billingPhone,c)||(n.billingPhone=c),c}),o()(),i(29,"div",8)(30,"label",17),a(31,"Street Address"),o(),i(32,"input",18),y("ngModelChange",function(c){return C(n.billingStreet1,c)||(n.billingStreet1=c),c}),o()(),i(33,"div",8)(34,"label",19),a(35,"Barangay"),o(),i(36,"input",20),y("ngModelChange",function(c){return C(n.billingBarangay,c)||(n.billingBarangay=c),c}),o()(),i(37,"div",8)(38,"label",21),a(39,"Town"),o(),i(40,"input",22),y("ngModelChange",function(c){return C(n.billingTown,c)||(n.billingTown=c),c}),o()(),i(41,"div",8)(42,"label",23),a(43,"City"),o(),i(44,"input",24),y("ngModelChange",function(c){return C(n.billingCity,c)||(n.billingCity=c),c}),o()(),i(45,"div",8)(46,"label",25),a(47,"ZIP / Postal Code"),o(),i(48,"input",26),y("ngModelChange",function(c){return C(n.billingZip,c)||(n.billingZip=c),c}),o()(),i(49,"div",27)(50,"input",28),y("ngModelChange",function(c){return C(n.saveInfo,c)||(n.saveInfo=c),c}),o(),i(51,"label",29),a(52,"Save my information for a faster checkout"),o()()()(),g(53,Ci,12,3,"section",30),i(54,"section",31)(55,"h2"),a(56,"Shipping Method"),o(),i(57,"p",32),a(58,"Arrives by Monday, June 7"),o(),i(59,"p",33),a(60,"Shipping cost: \u20B15.00"),o()(),i(61,"section",34)(62,"h2"),a(63,"Payment Method"),o(),i(64,"form")(65,"label",35)(66,"input",36),y("ngModelChange",function(c){return C(n.paymentMethod,c)||(n.paymentMethod=c),c}),o(),m(67,"img",37),a(68," Gcash "),o(),i(69,"label",35)(70,"input",38),y("ngModelChange",function(c){return C(n.paymentMethod,c)||(n.paymentMethod=c),c}),o(),i(71,"span",39),a(72,"\u{1F4B5}"),o(),a(73," Cash on Delivery "),o()()(),i(74,"button",40),u("click",function(){return n.placeOrder()}),a(75,"Pay Now"),o()(),i(76,"aside",41)(77,"h2"),a(78,"Order Summary"),o(),i(79,"ul",42),g(80,yi,8,3,"li",43),o(),i(81,"div",44)(82,"div",45)(83,"span"),a(84,"Subtotal"),o(),i(85,"span"),a(86),o()(),i(87,"div",45)(88,"span"),a(89,"Shipping"),o(),i(90,"span"),a(91,"\u20B15.00"),o()(),i(92,"div",46)(93,"span"),a(94,"Total"),o(),i(95,"span"),a(96),o()()()()()()),e&2&&(l(16),v("ngModel",n.billingFirstName),l(4),v("ngModel",n.billingLastName),l(4),v("ngModel",n.billingEmail),l(4),v("ngModel",n.billingPhone),l(4),v("ngModel",n.billingStreet1),l(4),v("ngModel",n.billingBarangay),l(4),v("ngModel",n.billingTown),l(4),v("ngModel",n.billingCity),l(4),v("ngModel",n.billingZip),l(2),v("ngModel",n.saveInfo),l(3),d("ngIf",n.shipToDifferentAddress),l(13),v("ngModel",n.paymentMethod),l(4),v("ngModel",n.paymentMethod),l(10),d("ngForOf",n.cartItems),l(6),_("\u20B1",n.totalPrice,""),l(10),_("\u20B1",n.totalPrice+5,""))},dependencies:[T,re,B,ft,xt,z,ie,ce,D,oe,M,O,k,Y],styles:['.checkout-container[_ngcontent-%COMP%]{max-width:1200px;margin:20px auto;padding:20px;font-family:var(--primary-font, "Poppins", sans-serif);background-color:#fff;box-shadow:0 2px 8px #0000000d;border-radius:8px}.back-btn[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;background:none;border:none;font-size:1.5rem;cursor:pointer;color:var(--primary-dark);padding:.25rem .5rem;border-radius:6px;transition:background-color .3s ease;width:40px;height:40px;align-items:center}.back-btn[_ngcontent-%COMP%]:hover{background-color:var(--primary-light)}.page-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:var(--primary-color);margin-bottom:24px;text-align:left}.checkout-layout[_ngcontent-%COMP%]{display:flex;gap:24px;flex-wrap:wrap}.main-section[_ngcontent-%COMP%]{flex:2 1 600px;display:flex;flex-direction:column;gap:24px}.billing-details[_ngcontent-%COMP%], .shipping-address[_ngcontent-%COMP%], .shipping-method[_ngcontent-%COMP%], .payment-method[_ngcontent-%COMP%]{background-color:var(--neutral-light, #f9f9f9);padding:16px;border-radius:8px;box-shadow:0 1px 4px #0000001a}h2[_ngcontent-%COMP%]{margin-bottom:16px;color:var(--primary-dark);font-weight:600}.form-group[_ngcontent-%COMP%]{margin-bottom:12px;display:flex;flex-direction:column}.name-fields[_ngcontent-%COMP%]{display:flex;gap:16px}.name-fields[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{flex:1}input[type=text][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], input[type=tel][_ngcontent-%COMP%]{padding:8px 12px;border:1px solid var(--border-color, #ccc);border-radius:6px;font-size:1rem;font-family:inherit}input[type=checkbox][_ngcontent-%COMP%]{margin-right:8px}.checkbox-group[_ngcontent-%COMP%]{display:flex;align-items:center;margin-top:12px}.radio-group[_ngcontent-%COMP%]{display:flex;gap:24px;margin-bottom:12px}.payment-method[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;gap:24px;align-items:center}.payment-option[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;cursor:pointer;font-weight:600;color:var(--text-primary, #222)}.payment-icon[_ngcontent-%COMP%]{width:32px;height:32px}.cod-icon[_ngcontent-%COMP%]{font-size:1.5rem}.pay-now-btn[_ngcontent-%COMP%]{margin-top:24px;padding:14px 24px;background-color:var(--primary-color);color:var(--neutral-light);font-size:1.2rem;font-weight:700;border:none;border-radius:8px;cursor:pointer;align-self:flex-start;transition:background-color .3s ease}.pay-now-btn[_ngcontent-%COMP%]:hover{background-color:var(--primary-dark)}.order-summary[_ngcontent-%COMP%]{flex:1 1 300px;background-color:var(--neutral-light, #f9f9f9);padding:16px;border-radius:8px;box-shadow:0 1px 4px #0000001a;display:flex;flex-direction:column;gap:16px}.product-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;max-height:300px;overflow-y:auto}.product-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:8px 0;border-bottom:1px solid var(--border-color, #ddd)}.product-image[_ngcontent-%COMP%]{width:50px;height:50px;object-fit:cover;border-radius:6px}.product-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px;font-size:.9rem;color:var(--text-secondary, #555)}.summary-box[_ngcontent-%COMP%]{border-top:1px solid var(--border-color, #ccc);padding-top:12px;font-size:1rem;color:var(--text-primary, #222)}.summary-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:8px}.summary-row.total[_ngcontent-%COMP%]{font-weight:700;font-size:1.2rem;color:var(--primary-color)}@media (max-width: 768px){.checkout-layout[_ngcontent-%COMP%]{flex-direction:column}.main-section[_ngcontent-%COMP%], .order-summary[_ngcontent-%COMP%]{flex:1 1 100%}.pay-now-btn[_ngcontent-%COMP%]{width:100%}}']})};function wi(r,t){r&1&&(i(0,"div",13)(1,"p"),a(2,"No orders found in this category."),o()())}function Si(r,t){if(r&1){let e=S();i(0,"button",4),u("click",function(){f(e);let s=p(2).$implicit,c=p();return h(c.cancelOrder(s.orderId))}),m(1,"i",30),a(2," Cancel Order"),o()}}function Pi(r,t){if(r&1&&(i(0,"div",28)(1,"p"),a(2,"Waiting for confirmation."),o(),i(3,"p"),a(4,"Expected confirmation time: Within 24 hrs."),o(),g(5,Si,3,0,"button",29),o()),r&2){let e=p().$implicit;l(5),d("ngIf",!e.processed)}}function Mi(r,t){r&1&&(i(0,"div",28)(1,"p"),a(2,"Your items are being packed."),o(),i(3,"p"),a(4,"You\u2019ll get a notification when shipped."),o()())}function ki(r,t){if(r&1&&(i(0,"p"),a(1),o()),r&2){let e=p(2).$implicit;l(),_("Courier: ",e.courierInfo,"")}}function Oi(r,t){if(r&1&&(i(0,"p"),a(1),V(2,"date"),o()),r&2){let e=p(2).$implicit;l(),_("Estimated delivery time: ",$(2,1,e.estimatedDelivery,"mediumDate"),"")}}function Ii(r,t){if(r&1&&(i(0,"p"),a(1),o()),r&2){let e=p(2).$implicit;l(),_("Tracking number: ",e.trackingNumber,"")}}function Ei(r,t){if(r&1&&(i(0,"div",28)(1,"p"),a(2,"Your order has been shipped."),o(),g(3,ki,2,1,"p",31)(4,Oi,3,4,"p",31)(5,Ii,2,1,"p",31),o()),r&2){let e=p().$implicit;l(3),d("ngIf",e.courierInfo),l(),d("ngIf",e.estimatedDelivery),l(),d("ngIf",e.trackingNumber)}}function Ti(r,t){if(r&1&&(i(0,"p"),a(1),o()),r&2){let e=p(2).$implicit;l(),_("Reason: ",e.cancelReason,"")}}function Ni(r,t){if(r&1){let e=S();i(0,"div",28)(1,"p"),a(2,"This order was cancelled."),o(),g(3,Ti,2,1,"p",31),i(4,"button",4),u("click",function(){f(e);let s=p().$implicit,c=p();return h(c.reorder(s))}),m(5,"i",32),a(6," Reorder"),o()()}if(r&2){let e=p().$implicit;l(3),d("ngIf",e.cancelReason)}}function zi(r,t){if(r&1){let e=S();i(0,"div",28)(1,"p"),a(2,"Your order has been delivered."),o(),i(3,"button",4),u("click",function(){f(e);let s=p().$implicit,c=p();return h(c.markAsReceived(s.orderId))}),m(4,"i",9),a(5," Mark as Received"),o()()}}function Di(r,t){r&1&&(i(0,"div",28)(1,"p"),a(2,"Thank you for confirming receipt of your order."),o()())}function Fi(r,t){if(r&1){let e=S();i(0,"div",14)(1,"div",15)(2,"span",16),m(3,"i",17),a(4),o(),i(5,"span",18),m(6,"i",19),a(7),V(8,"date"),o()(),i(9,"div",20)(10,"p"),m(11,"i",21),a(12),o(),i(13,"p"),m(14,"i",22),a(15),o(),i(16,"p"),m(17,"i",23),a(18),o(),i(19,"p"),m(20,"i",24),a(21," Status: "),i(22,"span",25),a(23),o()()(),g(24,Pi,6,1,"div",26)(25,Mi,5,0,"div",26)(26,Ei,6,3,"div",26)(27,Ni,7,1,"div",26)(28,zi,6,0,"div",26)(29,Di,3,0,"div",26),i(30,"button",4),u("click",function(){let s=f(e).$implicit,c=p();return h(c.viewOrderDetails(s.orderId))}),m(31,"i",27),a(32," View Details"),o()()}if(r&2){let e=t.$implicit,n=p();l(4),_(" Order Number: #",e.orderId,""),l(3),_(" Order Date: ",$(8,13,e.orderDate,"mediumDate"),""),l(5),_(" Item Summary: ",n.getProductNames(e),""),l(3),_(" Total Cost: \u20B1",e.totalPrice,""),l(3),_(" Delivery Address: ",e.shippingAddress,""),l(4),d("ngClass",e.status.toLowerCase()),l(),b(e.status),l(),d("ngIf",e.status==="Pending"),l(),d("ngIf",e.status==="Processing"),l(),d("ngIf",e.status==="Shipped"),l(),d("ngIf",e.status==="Cancelled"),l(),d("ngIf",e.status==="Delivered"),l(),d("ngIf",e.status==="Received")}}var Ye=class r{constructor(t,e,n,s){this.orderService=t;this.router=e;this.location=n;this.userService=s}orders=[];filteredOrders=[];filterStatus="All Orders";currentUserId="";ngOnInit(){this.userService.user$.subscribe(t=>{this.currentUserId=t.userId,console.log("Current User ID:",this.currentUserId),this.loadOrders()})}loadOrders(){let t=this.orderService.getOrdersByUserId(this.currentUserId);console.log("User Orders:",t),this.orders=t,this.applyFilter()}refreshOrders(){this.loadOrders()}applyFilter(){this.filterStatus==="All Orders"?this.filteredOrders=this.orders:this.filteredOrders=this.orders.filter(t=>t.status===this.filterStatus)}onFilterChange(t){this.filterStatus=t,this.applyFilter()}viewOrderDetails(t){this.router.navigate(["/order-details",t])}getProductNames(t){return!t||!t.items?"":t.items.map(e=>e.name).join(", ")}cancelOrder(t){this.orderService.updateOrderStatus(t,"Cancelled");let e=this.orders.find(n=>n.orderId===t);e&&(e.processed=!0),this.applyFilter()}markAsReceived(t){this.orderService.updateOrderStatus(t,"Received");let e=this.orders.find(n=>n.orderId===t);e&&(e.processed=!0),this.applyFilter()}reorder(t){alert("Reorder feature is not implemented yet.")}goBack(){this.location.back()}static \u0275fac=function(e){return new(e||r)(x(de),x(I),x(ge),x(N))};static \u0275cmp=P({type:r,selectors:[["app-my-orders"]],decls:27,vars:14,consts:[[1,"my-orders-container"],[1,"back-btn",3,"click"],[1,"fas","fa-arrow-left"],[1,"tabs"],[3,"click"],[1,"fas","fa-hourglass-start"],[1,"fas","fa-cogs"],[1,"fas","fa-truck"],[1,"fas","fa-box"],[1,"fas","fa-check-circle"],[1,"fas","fa-times-circle"],["class","no-orders-message",4,"ngIf"],["class","order-card",4,"ngFor","ngForOf"],[1,"no-orders-message"],[1,"order-card"],[1,"order-header"],[1,"order-number"],[1,"fas","fa-id-badge"],[1,"order-date"],[1,"fas","fa-calendar-alt"],[1,"order-summary"],[1,"fas","fa-shopping-cart"],[1,"fas","fa-money-bill-wave"],[1,"fas","fa-map-marker-alt"],[1,"fas","fa-bullseye"],[1,"status-badge",3,"ngClass"],["class","status-message",4,"ngIf"],[1,"fas","fa-info-circle"],[1,"status-message"],[3,"click",4,"ngIf"],[1,"fas","fa-ban"],[4,"ngIf"],[1,"fas","fa-redo"]],template:function(e,n){e&1&&(m(0,"app-navbar"),i(1,"div",0)(2,"button",1),u("click",function(){return n.goBack()}),m(3,"i",2),o(),i(4,"h2"),a(5,"My Orders"),o(),i(6,"div",3)(7,"button",4),u("click",function(){return n.onFilterChange("Pending")}),m(8,"i",5),a(9," Pending"),o(),i(10,"button",4),u("click",function(){return n.onFilterChange("Processing")}),m(11,"i",6),a(12," Processing"),o(),i(13,"button",4),u("click",function(){return n.onFilterChange("Shipped")}),m(14,"i",7),a(15," Shipped"),o(),i(16,"button",4),u("click",function(){return n.onFilterChange("Delivered")}),m(17,"i",8),a(18," Delivered"),o(),i(19,"button",4),u("click",function(){return n.onFilterChange("Received")}),m(20,"i",9),a(21," Received"),o(),i(22,"button",4),u("click",function(){return n.onFilterChange("Cancelled")}),m(23,"i",10),a(24," Cancelled"),o()(),g(25,wi,3,0,"div",11)(26,Fi,33,16,"div",12),o()),e&2&&(l(7),U("active",n.filterStatus==="Pending"),l(3),U("active",n.filterStatus==="Processing"),l(3),U("active",n.filterStatus==="Shipped"),l(3),U("active",n.filterStatus==="Delivered"),l(3),U("active",n.filterStatus==="Received"),l(3),U("active",n.filterStatus==="Cancelled"),l(3),d("ngIf",n.filteredOrders.length===0),l(),d("ngForOf",n.filteredOrders))},dependencies:[M,ee,O,k,fe,T,Y],styles:['.my-orders-container[_ngcontent-%COMP%]{max-width:800px;margin:20px auto;padding:15px;font-family:var(--primary-font, "Poppins", sans-serif)}.tabs[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;margin-bottom:20px;gap:10px;flex-wrap:nowrap;overflow-x:auto;scrollbar-width:thin;scrollbar-color:var(--primary-color) transparent}.tabs[_ngcontent-%COMP%]::-webkit-scrollbar{height:6px}.tabs[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.tabs[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:var(--primary-color);border-radius:3px}.tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:var(--primary-light);border:none;padding:10px 20px;cursor:pointer;font-weight:700;border-radius:6px;transition:background-color .3s ease;color:var(--text-primary);font-size:1rem}.tabs[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%], .tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:var(--primary-color);color:var(--neutral-light)}.my-orders-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:var(--primary-dark);text-align:center}.no-orders-message[_ngcontent-%COMP%]{text-align:center;font-style:italic;color:var(--text-secondary);margin-top:20px;font-size:1rem}.order-card[_ngcontent-%COMP%]{border:1px solid var(--border-color);border-radius:6px;padding:16px;margin-bottom:16px;box-shadow:0 2px 5px #0000001a;background-color:var(--neutral-light)}.order-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px;font-weight:600;color:var(--text-primary);font-size:1rem}.order-summary[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:6px 0;color:var(--text-secondary);font-size:.95rem}.status-badge[_ngcontent-%COMP%]{padding:4px 10px;border-radius:12px;color:var(--neutral-light);font-weight:600;text-transform:uppercase;font-size:.85em;display:inline-block}.status-badge.pending[_ngcontent-%COMP%]{background-color:#ffc107;color:#212529}.status-badge.processing[_ngcontent-%COMP%]{background-color:#fd7e14}.status-badge.shipped[_ngcontent-%COMP%]{background-color:var(--primary-color)}.status-badge.cancelled[_ngcontent-%COMP%]{background-color:#dc3545}.status-message[_ngcontent-%COMP%]{margin-top:10px;font-style:italic;color:var(--text-secondary);font-size:.9rem}.order-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:12px;padding:10px 16px;background-color:var(--primary-color);border:none;color:var(--neutral-light);cursor:pointer;border-radius:5px;font-weight:700;transition:background-color .3s ease;font-size:.95rem}.order-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:var(--primary-dark)}.back-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;color:var(--primary-dark);background:none;border:none;font-size:1.25rem;cursor:pointer;padding:6px 10px;border-radius:6px;transition:background-color .3s ease;text-decoration:none}.back-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem}.back-btn[_ngcontent-%COMP%]:hover{background-color:var(--white)}']})};function Vi(r,t){if(r&1&&(i(0,"li")(1,"strong"),a(2),o(),i(3,"span"),a(4),o(),i(5,"span"),a(6),o(),i(7,"span"),a(8),o()()),r&2){let e=t.$implicit;l(2),b(e.name),l(2),_("Quantity: ",e.quantity,""),l(2),_("Price: ",e.price,""),l(2),_("Subtotal: ",e.subtotal,"")}}function Bi(r,t){if(r&1){let e=S();i(0,"div",1)(1,"button",2),u("click",function(){f(e);let s=p();return h(s.goBack())}),m(2,"i",3),o(),i(3,"h2"),a(4),o(),i(5,"p")(6,"strong"),a(7,"Status:"),o(),a(8),o(),i(9,"p")(10,"strong"),a(11,"Delivery Date:"),o(),a(12),V(13,"date"),o(),i(14,"p")(15,"strong"),a(16,"Shipping Address:"),o(),a(17),o(),i(18,"h3"),a(19,"Products:"),o(),i(20,"ul"),g(21,Vi,9,4,"li",4),o(),i(22,"p")(23,"strong"),a(24,"Total Price:"),o(),a(25),o()()}if(r&2){let e=p();l(4),_("Order Details - ",e.order.orderId,""),l(4),_(" ",e.order.status,""),l(4),_(" ",$(13,6,e.order.deliveryDate,"mediumDate"),""),l(5),_(" ",e.getFormattedShippingAddress(),""),l(4),d("ngForOf",e.order.items),l(4),_(" ",e.order.totalPrice,"")}}var Je=class r{constructor(t,e,n,s){this.route=t;this.orderService=e;this.router=n;this.location=s}orderId="";order;ngOnInit(){this.orderId=this.route.snapshot.paramMap.get("id")||"",this.orderId&&(this.order=this.orderService.getOrderById(this.orderId)),this.order||(alert("Order not found."),this.router.navigate(["/my-orders"]))}getFormattedShippingAddress(){if(!this.order)return"";let t=this.order.shippingDetails;return t?[t.street1,t.street2,t.barangay,t.town,t.city,t.zip].filter(Boolean).join(", "):this.order.shippingAddress||""}goBack(){this.location.back()}static \u0275fac=function(e){return new(e||r)(x(te),x(de),x(I),x(ge))};static \u0275cmp=P({type:r,selectors:[["app-order-details"]],features:[Te([fe])],decls:1,vars:1,consts:[["class","order-details-container",4,"ngIf"],[1,"order-details-container"],[1,"back-btn",3,"click"],[1,"fas","fa-arrow-left"],[4,"ngFor","ngForOf"]],template:function(e,n){e&1&&g(0,Bi,26,9,"div",0),e&2&&d("ngIf",n.order)},dependencies:[M,O,k,fe],styles:['.order-details-container[_ngcontent-%COMP%]{max-width:700px;margin:20px auto;padding:20px;border:1px solid #ccc;border-radius:8px;background-color:#fff;box-shadow:0 2px 8px #0000000d;font-family:var(--primary-font, "Poppins", sans-serif);position:relative}.order-details-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:24px;font-size:1.5rem;color:var(--text-primary, #333)}.order-details-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:10px}.order-details-container[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:10px;border:1px solid #eee;border-radius:5px;background-color:var(--neutral-light, #f9f9f9);font-size:.95rem;color:var(--text-secondary, #555);line-height:1.5}.back-btn[_ngcontent-%COMP%]{position:absolute;top:15px;left:15px;display:inline-flex;align-items:center;gap:6px;color:var(--primary-dark);background:none;border:none;font-size:1.5rem;cursor:pointer;padding:6px 10px;border-radius:6px;transition:background-color .3s ease}.back-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem}.back-btn[_ngcontent-%COMP%]:hover{background-color:var(--white, #f8f9fa)}']})};var Mt=[{path:"",component:Ve},{path:"login",component:Fe},{path:"signup",component:je},{path:"signup-complete",component:qe},{path:"home",component:Ae},{path:"categories",component:ye},{path:"categories/:categoryName",component:ye},{path:"profile",component:Ue},{path:"cart",component:Re},{path:"search",component:We},{path:"toolbox",component:He},{path:"products",component:Qe},{path:"flash-sales",component:Ze},{path:"product-details/:id",component:$e},{path:"checkout",component:Ge},{path:"my-orders",component:Ye},{path:"order-details/:id",component:Je},{path:"admin",loadChildren:()=>import("./chunk-4523FWEC.js").then(r=>r.AdminModule)}];var kt={providers:[st({eventCoalescing:!0}),gt(Mt)]};var Ke=class r{title="HardwareHub";ngOnInit(){let t={username:"Shauna",email:"yellowjackets@gmail.com",phoneNumber:"09123456789",password:"buzz1996"},e=JSON.parse(localStorage.getItem("users")||"[]");e.some(c=>c.email===t.email)||(e.push(t),localStorage.setItem("users",JSON.stringify(e))),localStorage.getItem("currentUser")||localStorage.setItem("currentUser",JSON.stringify(t))}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=P({type:r,selectors:[["app-root"]],decls:1,vars:0,template:function(e,n){e&1&&m(0,"router-outlet")},dependencies:[mt],styles:["img[_ngcontent-%COMP%], video[_ngcontent-%COMP%], canvas[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], embed[_ngcontent-%COMP%], object[_ngcontent-%COMP%]{max-width:100%;height:auto;display:block}.container[_ngcontent-%COMP%]{width:90%;max-width:1200px;margin-left:auto;margin-right:auto;padding-left:1rem;padding-right:1rem;box-sizing:border-box}@media (max-width: 768px){.container[_ngcontent-%COMP%]{width:95%;padding-left:.5rem;padding-right:.5rem}}@media (max-width: 480px){.container[_ngcontent-%COMP%]{width:100%;padding-left:.25rem;padding-right:.25rem}}.text-center[_ngcontent-%COMP%]{text-align:center}@media (max-width: 768px){h1[_ngcontent-%COMP%]{font-size:1.8rem}h2[_ngcontent-%COMP%]{font-size:1.5rem}h3[_ngcontent-%COMP%]{font-size:1.2rem}p[_ngcontent-%COMP%]{font-size:1rem}}@media (max-width: 480px){h1[_ngcontent-%COMP%]{font-size:1.5rem}h2[_ngcontent-%COMP%]{font-size:1.2rem}h3[_ngcontent-%COMP%]{font-size:1rem}p[_ngcontent-%COMP%]{font-size:.9rem}}.mt-1[_ngcontent-%COMP%]{margin-top:.25rem}.mt-2[_ngcontent-%COMP%]{margin-top:.5rem}.mt-3[_ngcontent-%COMP%]{margin-top:1rem}.mb-1[_ngcontent-%COMP%]{margin-bottom:.25rem}.mb-2[_ngcontent-%COMP%]{margin-bottom:.5rem}.mb-3[_ngcontent-%COMP%]{margin-bottom:1rem}.flex-column[_ngcontent-%COMP%]{display:flex;flex-direction:column}.flex-center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{overflow-x:hidden}img[_ngcontent-%COMP%], video[_ngcontent-%COMP%]{max-width:100%;height:auto;display:block}@media (max-width: 480px){button[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]{width:100%;padding-left:1rem;padding-right:1rem}}"]})};pt(Ke,kt).catch(r=>console.error(r));
