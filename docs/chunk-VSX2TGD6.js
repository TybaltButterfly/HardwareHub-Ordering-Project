import{$ as H,A as o,Aa as R,B as g,Ba as Q,C as F,Ca as Be,D,Da as $,E as h,Ea as j,F as p,Fa as Y,G as c,Ga as ee,H as We,Ia as et,Ja as tt,Ka as he,La as be,M as J,Ma as Ce,N as s,O as b,Oa as te,P as x,Pa as ie,Q as ge,Qa as it,R as Qe,Ra as N,S,Sa as nt,T as y,Ta as ne,U as w,Ua as oe,W as Ye,Y as Re,Z as L,a as q,aa as je,b as le,ba as ue,c as Ue,e as Ge,ea as Ke,f as X,fa as I,ga as A,h as V,ha as Xe,i as me,ia as Ze,j as qe,k as u,l as f,la as fe,m as He,n as z,na as _e,oa as P,p as l,q as C,qa as xe,r as k,s as pe,sa as M,t as _,ta as $e,v as m,wa as K,x as T,xa as ve,y as Je,ya as W,z as i,za as Z}from"./chunk-TAT55J64.js";var Se=class r{notifications=[{id:1,message:"New order received",read:!1},{id:2,message:"Low stock alert: Product XYZ",read:!1}];constructor(){}getNotifications(){return X(this.notifications)}markAsRead(t){let e=this.notifications.find(n=>n.id===t);e&&(e.read=!0)}markAllAsRead(){this.notifications.forEach(t=>t.read=!0)}static \u0275fac=function(e){return new(e||r)};static \u0275prov=V({token:r,factory:r.\u0275fac,providedIn:"root"})};var re=class r{defaultAdmins=[{email:"scatorccio@gmail.com",password:"antlerqueen",accessLevel:"superadmin"},{email:"taylor@gmail.com",password:"jackiefruit",accessLevel:"admin"},{email:"admin@gmail.com",password:"admin123",accessLevel:"superadmin"}];constructor(){}isLoggedIn(){return!!localStorage.getItem("user")}isAdmin(){return JSON.parse(localStorage.getItem("user")||"{}")?.role==="admin"}getUser(){return JSON.parse(localStorage.getItem("user")||"{}")}logout(){localStorage.removeItem("user")}login(t,e){let n=localStorage.getItem("adminSettings"),a=[];n&&(a=JSON.parse(n).admins||[]);let d=a.find(v=>v.email===t&&v.password===e);return d||(d=this.defaultAdmins.find(v=>v.email===t&&v.password===e)),d?(localStorage.setItem("user",JSON.stringify({email:d.email,role:"admin",accessLevel:d.accessLevel})),!0):!1}static \u0275fac=function(e){return new(e||r)};static \u0275prov=V({token:r,factory:r.\u0275fac,providedIn:"root"})};var ae=class r{storageKey="adminSettings";constructor(){}getStoredSettings(){let t=localStorage.getItem(this.storageKey);return t?JSON.parse(t):{}}getAllSettings(){return this.getStoredSettings()}saveStoredSettings(t){localStorage.setItem(this.storageKey,JSON.stringify(t))}saveProfile(t){let e=this.getStoredSettings();e.profile=t,this.saveStoredSettings(e)}saveStoreConfig(t){let e=this.getStoredSettings();e.storeConfig=t,this.saveStoredSettings(e)}saveShippingDelivery(t){let e=this.getStoredSettings();e.shippingDelivery=t,this.saveStoredSettings(e)}savePaymentSetup(t){let e=this.getStoredSettings();e.paymentSetup=t,this.saveStoredSettings(e)}saveNotifications(t){let e=this.getStoredSettings();e.notifications=t,this.saveStoredSettings(e)}saveSystemPreferences(t){let e=this.getStoredSettings();e.systemPreferences=t,this.saveStoredSettings(e)}getAdmins(){return this.getStoredSettings().admins||[]}getProfilePhoto(){let t=this.getStoredSettings();if(t.profile&&t.profile.profilePhoto){let e=t.profile.profilePhoto;if(typeof e=="string")return e;if(e.name)return e.name}return null}getStoreLogo(){let t=this.getStoredSettings();if(t.storeConfig&&t.storeConfig.storeLogo){let e=t.storeConfig.storeLogo;if(typeof e=="string")return e;if(e.name)return e.name}return null}addAdmin(t,e){let n=this.getStoredSettings();n.admins||(n.admins=[]),n.admins.push({email:t,password:e,accessLevel:"viewer"}),this.saveStoredSettings(n)}removeAdmin(t){let e=this.getStoredSettings();e.admins&&(e.admins=e.admins.filter(n=>n.email!==t),this.saveStoredSettings(e))}updateAdminAccessLevel(t,e){let n=this.getStoredSettings();if(n.admins){let a=n.admins.find(d=>d.email===t);a&&(a.accessLevel=e,this.saveStoredSettings(n))}}updateAdminPassword(t,e){let n=this.getStoredSettings();if(n.admins){let a=n.admins.find(d=>d.email===t);a&&(a.password=e,this.saveStoredSettings(n))}}static \u0275fac=function(e){return new(e||r)};static \u0275prov=V({token:r,factory:r.\u0275fac,providedIn:"root"})};function pt(r,t){if(r&1&&(i(0,"span",15),s(1),o()),r&2){let e=c(2);l(),b(e.unreadCount)}}function gt(r,t){if(r&1){let e=h();i(0,"li",19),p("click",function(){let a=u(e).$implicit,d=c(3);return f(d.markAsRead(a))}),s(1),o()}if(r&2){let e=t.$implicit;T("unread",!e.read),l(),x(" ",e.message," ")}}function ut(r,t){if(r&1){let e=h();i(0,"div",16)(1,"button",17),p("click",function(a){return u(e),c(2).markAllAsRead(),f(a.stopPropagation())}),s(2,"Mark all as read"),o(),i(3,"ul"),_(4,gt,2,3,"li",18),o()()}if(r&2){let e=c(2);l(4),m("ngForOf",e.notifications)}}function ft(r,t){if(r&1){let e=h();i(0,"div",11),p("click",function(){u(e);let a=c();return f(a.toggleNotificationDropdown())}),g(1,"i",12),_(2,pt,2,1,"span",13)(3,ut,5,1,"div",14),o()}if(r&2){let e=c();l(2),m("ngIf",e.unreadCount>0),l(),m("ngIf",e.isNotificationDropdownOpen&&e.notifications.length>0)}}function _t(r,t){if(r&1&&g(0,"img",20),r&2){let e=c();m("src",e.profilePhotoUrl,z)}}function xt(r,t){r&1&&g(0,"i",21)}var ye=class r{constructor(t,e,n,a){this.notificationService=t;this.authService=e;this.router=n;this.adminSettingsService=a}adminName="Admin";showNotifications=!0;notifications=[];isNotificationDropdownOpen=!1;profilePhotoUrl=null;ngOnInit(){this.loadNotifications(),this.profilePhotoUrl=this.adminSettingsService.getProfilePhoto()}loadNotifications(){this.notificationService.getNotifications().subscribe(t=>{this.notifications=t})}get unreadCount(){return this.notifications.filter(t=>!t.read).length}toggleNotificationDropdown(){this.isNotificationDropdownOpen=!this.isNotificationDropdownOpen,this.isNotificationDropdownOpen&&this.markAllAsRead()}markAsRead(t){t.read||(this.notificationService.markAsRead(t.id),t.read=!0)}markAllAsRead(){this.notificationService.markAllAsRead(),this.notifications.forEach(t=>t.read=!0)}logout(){this.authService.logout(),this.router.navigate(["/"])}goToProfileSecurity(){this.router.navigate(["/admin/settings"],{queryParams:{open:"profile"}})}static \u0275fac=function(e){return new(e||r)(C(Se),C(re),C(M),C(ae))};static \u0275cmp=k({type:r,selectors:[["app-admin-top-nav"]],decls:15,vars:4,consts:[["defaultIcon",""],[1,"top-nav"],[1,"logo-section"],["src","assets/toolbox.png","alt","Store Logo",1,"store-logo"],[1,"admin-label"],[1,"nav-actions"],["class","notification-bell","tabindex","0","aria-label","Notifications",3,"click",4,"ngIf"],["tabindex","0","aria-label","Admin Profile",1,"profile",3,"click"],["alt","Profile Photo","class","profile-photo",3,"src",4,"ngIf","ngIfElse"],[1,"admin-name"],["aria-label","Logout",1,"logout-btn",3,"click"],["tabindex","0","aria-label","Notifications",1,"notification-bell",3,"click"],[1,"fa-solid","fa-bell","bell-icon"],["class","notification-count",4,"ngIf"],["class","notification-dropdown",4,"ngIf"],[1,"notification-count"],[1,"notification-dropdown"],[1,"mark-all-btn",3,"click"],[3,"unread","click",4,"ngFor","ngForOf"],[3,"click"],["alt","Profile Photo",1,"profile-photo",3,"src"],[1,"fa-solid","fa-user","profile-icon"]],template:function(e,n){if(e&1){let a=h();i(0,"header",1)(1,"div",2),g(2,"img",3),i(3,"span",4),s(4,"Admin Panel"),o()(),i(5,"div",5),_(6,ft,4,2,"div",6),i(7,"div",7),p("click",function(){return u(a),f(n.goToProfileSecurity())}),_(8,_t,1,1,"img",8)(9,xt,1,0,"ng-template",null,0,ue),i(11,"span",9),s(12),o(),i(13,"button",10),p("click",function(v){return u(a),n.logout(),f(v.stopPropagation())}),s(14,"Logout"),o()()()()}if(e&2){let a=J(10);l(6),m("ngIf",n.showNotifications),l(2),m("ngIf",n.profilePhotoUrl)("ngIfElse",a),l(4),b(n.adminName)}},dependencies:[P,I,A],styles:[".top-nav[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background-color:var(--primary-dark);font-family:var(--primary-font);color:var(--white);padding:10px 20px}.logo-section[_ngcontent-%COMP%]{display:flex;align-items:center}.store-logo[_ngcontent-%COMP%]{height:40px;margin-right:10px}.admin-label[_ngcontent-%COMP%]{font-size:1.2em;font-weight:700}.nav-actions[_ngcontent-%COMP%]{display:flex;align-items:center}.notification-bell[_ngcontent-%COMP%]{position:relative;cursor:pointer;margin-right:20px}.bell-icon[_ngcontent-%COMP%]{font-size:1.5em;color:#fff}.notification-count[_ngcontent-%COMP%]{position:absolute;top:-5px;right:-10px;background-color:red;color:#fff;font-size:.75em;padding:2px 6px;border-radius:50%;font-weight:700}.notification-dropdown[_ngcontent-%COMP%]{position:absolute;right:0;top:30px;background-color:#fff;color:#000;width:300px;max-height:400px;overflow-y:auto;box-shadow:0 2px 8px #0000004d;border-radius:4px;z-index:1000}.notification-dropdown[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0}.notification-dropdown[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px;border-bottom:1px solid #ddd;cursor:pointer}.notification-dropdown[_ngcontent-%COMP%]   li.unread[_ngcontent-%COMP%]{font-weight:700;background-color:#f0f8ff}.notification-dropdown[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#e6f7ff}.mark-all-btn[_ngcontent-%COMP%]{display:block;width:100%;padding:8px 10px;background-color:#3498db;color:#fff;border:none;cursor:pointer;font-weight:700;border-radius:0 0 4px 4px;text-align:center}.mark-all-btn[_ngcontent-%COMP%]:hover{background-color:#2980b9}.profile[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer}.profile-photo[_ngcontent-%COMP%]{height:32px;width:32px;border-radius:50%;margin-right:8px}.profile-icon[_ngcontent-%COMP%]{font-size:1.5em;margin-right:8px}.admin-name[_ngcontent-%COMP%]{margin-right:10px;font-weight:700}.logout-btn[_ngcontent-%COMP%]{background-color:transparent;border:none;color:#fff;cursor:pointer;font-weight:700;font-family:var(--primary-font)}.logout-btn[_ngcontent-%COMP%]:hover{text-decoration:underline}"]})};function vt(r,t){if(r&1&&(i(0,"span",9),s(1),o()),r&2){let e=c().$implicit;l(),b(e.title)}}function ht(r,t){if(r&1&&(i(0,"li")(1,"a",12),s(2),o()()),r&2){let e=t.$implicit;l(),m("routerLink",e.route),l(),b(e.label)}}function bt(r,t){if(r&1&&(i(0,"ul",10),_(1,ht,3,2,"li",11),o()),r&2){let e=c().$implicit;l(),m("ngForOf",e.links)}}function Ct(r,t){if(r&1&&(i(0,"li",5)(1,"div",6),g(2,"i"),_(3,vt,2,1,"span",7),o(),_(4,bt,2,1,"ul",8),o()),r&2){let e=t.$implicit,n=c();l(2),Je(e.icon),l(),m("ngIf",!n.isCollapsed),l(),m("ngIf",!n.isCollapsed)}}var we=class r{isCollapsed=!1;sidebarToggle=new He;toggleSidebar(){this.isCollapsed=!this.isCollapsed,this.sidebarToggle.emit(this.isCollapsed)}menuSections=[{title:"Orders",icon:"fa-solid fa-receipt",links:[{label:"View All Orders",route:"/admin/orders"}]},{title:"Products",icon:"fa-solid fa-box",links:[{label:"Product List",route:"/admin/products"}]},{title:"Customers",icon:"fa-solid fa-users",links:[{label:"View Registered Users",route:"/admin/users"}]},{title:"Inventory Management",icon:"fa-solid fa-toolbox",links:[{label:"Stock Levels",route:"/admin/inventory"}]},{title:"Categories Management",icon:"fa-solid fa-tags",links:[{label:"Manage Categories",route:"/admin/categories"}]},{title:"Admin Settings",icon:"fa-solid fa-shield-alt",links:[{label:"Settings",route:"/admin/settings"}]}];static \u0275fac=function(e){return new(e||r)};static \u0275cmp=k({type:r,selectors:[["app-admin-sidebar"]],outputs:{sidebarToggle:"sidebarToggle"},decls:5,vars:3,consts:[[1,"sidebar"],["aria-label","Toggle Sidebar",1,"toggle-btn",3,"click"],[1,"fa-solid","fa-bars"],[1,"menu-sections"],["class","menu-section",4,"ngFor","ngForOf"],[1,"menu-section"],[1,"section-title"],["class","section-label",4,"ngIf"],["class","section-links",4,"ngIf"],[1,"section-label"],[1,"section-links"],[4,"ngFor","ngForOf"],[3,"routerLink"]],template:function(e,n){e&1&&(i(0,"nav",0)(1,"button",1),p("click",function(){return n.toggleSidebar()}),g(2,"i",2),o(),i(3,"ul",3),_(4,Ct,5,4,"li",4),o()()),e&2&&(T("collapsed",n.isCollapsed),l(4),m("ngForOf",n.menuSections))},dependencies:[K,$e,P,I,A],styles:[".sidebar[_ngcontent-%COMP%]{width:250px;background-color:var(--primary-dark);color:var(--white);height:100vh;position:fixed;top:0;left:0;overflow-y:auto;transition:width .3s ease;font-family:var(--primary-font);padding-top:60px;box-sizing:border-box;z-index:999}.sidebar.collapsed[_ngcontent-%COMP%]{width:60px}.toggle-btn[_ngcontent-%COMP%]{position:fixed;top:10px;left:10px;background-color:var(--primary-color);border:none;color:var(--white);font-size:1.5rem;padding:5px 10px;cursor:pointer;border-radius:5px;z-index:1000}.menu-sections[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.menu-section[_ngcontent-%COMP%]{margin-bottom:20px}.section-title[_ngcontent-%COMP%]{display:flex;align-items:center;padding:10px 20px;font-weight:600;font-size:1rem;cursor:default;gap:12px}.section-icon[_ngcontent-%COMP%]{margin-right:0;font-size:1.3rem;display:flex;align-items:center}.section-links[_ngcontent-%COMP%]{list-style:none;padding-left:30px;margin-top:5px}.section-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px}.section-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--white);text-decoration:none;font-size:.9rem;display:block;padding:5px 10px;border-radius:5px;transition:background-color .2s ease}.section-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:var(--primary-color)}@media (max-width: 768px){.sidebar[_ngcontent-%COMP%]{position:fixed;height:100%;z-index:1000;width:60px}.sidebar.collapsed[_ngcontent-%COMP%]{width:0}.toggle-btn[_ngcontent-%COMP%]{top:10px;left:10px}}"]})};var se=class r{constructor(){}getRegisteredUsers(){let t=JSON.parse(localStorage.getItem("users")||"[]");console.log("Users data from localStorage:",t);let e=t.map((n,a)=>({id:a+1,name:n.username||n.name||n.email||"",email:n.email||""}));return X(e)}deleteUser(t){let e=JSON.parse(localStorage.getItem("users")||"[]");return t<1||t>e.length?X(!1):(e.splice(t-1,1),localStorage.setItem("users",JSON.stringify(e)),X(!0))}static \u0275fac=function(e){return new(e||r)};static \u0275prov=V({token:r,factory:r.\u0275fac,providedIn:"root"})};var Pe=class r{constructor(t,e,n,a){this.router=t;this.productService=e;this.orderService=n;this.userListService=a}sidebarCollapsed=!1;totalProducts=0;totalSalesThisMonth=0;newOrdersToday=0;lowStockAlerts=0;newUsers=0;subscriptions=new Ue;ngOnInit(){this.loadDashboardData()}onSidebarToggle(t){this.sidebarCollapsed=t}loadDashboardData(){let t=this.productService.getProducts();this.totalProducts=t.length,this.lowStockAlerts=t.filter(v=>v.stock!==void 0&&v.stock<=5).length;let e=this.orderService.getOrders(),n=new Date,a=new Date(n.getFullYear(),n.getMonth(),1),d=new Date(n.getFullYear(),n.getMonth(),n.getDate());this.totalSalesThisMonth=e.filter(v=>{let E=new Date(v.orderDate);return E>=a&&E<=n}).reduce((v,E)=>v+E.totalPrice,0),this.newOrdersToday=e.filter(v=>{let E=new Date(v.orderDate);return E>=d&&E<=n}).length,this.subscriptions.add(this.userListService.getRegisteredUsers().subscribe(v=>{this.newUsers=v.length}))}navigateToSection(t){switch(console.log("navigateToSection called with section:",t),t){case"products":this.router.navigate(["admin","products"]);break;case"sales":this.router.navigate(["admin","orders"]);break;case"orders":this.router.navigate(["admin","orders"]);break;case"stock":this.router.navigate(["admin","inventory"]);break;case"users":this.router.navigate(["admin","users"]);break;default:this.router.navigate(["admin"]);break}}ngOnDestroy(){this.subscriptions.unsubscribe()}static \u0275fac=function(e){return new(e||r)(C(M),C(oe),C(ne),C(se))};static \u0275cmp=k({type:r,selectors:[["app-dashboard"]],decls:43,vars:10,consts:[[1,"dashboard-container"],[3,"sidebarToggle"],[1,"dashboard-main"],[1,"summary-cards"],["tabindex","0","role","button","aria-label","Total Products",1,"summary-card",3,"click"],[1,"fa-solid","fa-box"],[1,"summary-info"],[1,"summary-number"],[1,"summary-label"],["tabindex","0","role","button","aria-label","Total Sales This Month",1,"summary-card",3,"click"],[1,"fa-solid","fa-chart-line"],["tabindex","0","role","button","aria-label","New Orders Today",1,"summary-card",3,"click"],[1,"fa-solid","fa-receipt"],["tabindex","0","role","button","aria-label","Low Stock Alerts",1,"summary-card",3,"click"],[1,"fa-solid","fa-bell"],["tabindex","0","role","button","aria-label","New Users",1,"summary-card",3,"click"],[1,"fa-solid","fa-users"]],template:function(e,n){e&1&&(i(0,"div",0),g(1,"app-admin-top-nav"),i(2,"app-admin-sidebar",1),p("sidebarToggle",function(d){return n.onSidebarToggle(d)}),o(),i(3,"main",2)(4,"h1"),s(5,"Dashboard Summary"),o(),i(6,"div",3)(7,"div",4),p("click",function(){return n.navigateToSection("products")}),g(8,"i",5),i(9,"div",6)(10,"span",7),s(11),o(),i(12,"span",8),s(13,"Total Products"),o()()(),i(14,"div",9),p("click",function(){return n.navigateToSection("sales")}),g(15,"i",10),i(16,"div",6)(17,"span",7),s(18),L(19,"currency"),o(),i(20,"span",8),s(21,"Total Sales This Month"),o()()(),i(22,"div",11),p("click",function(){return n.navigateToSection("orders")}),g(23,"i",12),i(24,"div",6)(25,"span",7),s(26),o(),i(27,"span",8),s(28,"New Orders Today"),o()()(),i(29,"div",13),p("click",function(){return n.navigateToSection("stock")}),g(30,"i",14),i(31,"div",6)(32,"span",7),s(33),o(),i(34,"span",8),s(35,"Low Stock Alerts"),o()()(),i(36,"div",15),p("click",function(){return n.navigateToSection("users")}),g(37,"i",16),i(38,"div",6)(39,"span",7),s(40),o(),i(41,"span",8),s(42,"New Users"),o()()()()()()),e&2&&(T("sidebar-collapsed",n.sidebarCollapsed),l(11),b(n.totalProducts),l(7),b(H(19,7,n.totalSalesThisMonth,"PHP")),l(8),b(n.newOrdersToday),l(7),b(n.lowStockAlerts),l(7),b(n.newUsers))},dependencies:[P,_e,ye,we,K],styles:[".dashboard-container[_ngcontent-%COMP%]{display:flex;height:100vh;flex-direction:column}app-admin-top-nav[_ngcontent-%COMP%]{flex-shrink:0}.dashboard-main[_ngcontent-%COMP%]{flex-grow:1;padding:1rem;padding-top:60px;transition:margin-left .3s ease;margin-left:250px}.sidebar-collapsed[_ngcontent-%COMP%]   .dashboard-main[_ngcontent-%COMP%]{margin-left:60px}.summary-cards[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1rem;margin-top:1rem}.summary-card[_ngcontent-%COMP%]{background-color:var(--accent-color);color:var(--white);flex:1 1 180px;display:flex;align-items:center;padding:1rem;border-radius:8px;box-shadow:0 2px 6px #0003;cursor:pointer}.summary-card[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2.5rem;margin-right:1rem;color:var(--primary-color)}.summary-info[_ngcontent-%COMP%]{display:flex;flex-direction:column}.summary-number[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700}.summary-label[_ngcontent-%COMP%]{font-size:1rem;opacity:.8}@media (max-width: 768px){.dashboard-main[_ngcontent-%COMP%]{margin-left:0!important;padding:1rem .5rem}.summary-cards[_ngcontent-%COMP%]{flex-direction:column}}"]})};var ke=class r{constructor(t){this.productService=t}searchProducts(t){return this.productService.searchProducts(t)}getProductsByCategory(t){return t.trim()?this.productService.getProductsByCategory(t):this.productService.getProducts()}createProduct(t){let e=this.productService.getProducts();return e.push(t),this.productService.updateProducts(e),t}updateProduct(t){let e=this.productService.getProducts(),n=e.findIndex(a=>a.id===t.id);return n===-1?!1:(e[n]=le(q({},t),{lastUpdated:new Date}),this.productService.updateProducts(e),!0)}deleteProduct(t){let e=this.productService.getProducts(),n=e.findIndex(a=>a.id===t);return n===-1?!1:(e.splice(n,1),this.productService.updateProducts(e),!0)}bulkDelete(t){let e=0,n=this.productService.getProducts();return t.forEach(a=>{let d=n.findIndex(v=>v.id===a);d!==-1&&(n.splice(d,1),e++)}),this.productService.updateProducts(n),e}bulkStatusChange(t,e){let n=0,a=this.productService.getProducts();return t.forEach(d=>{let v=a.find(E=>E.id===d);v&&(v.status=e,v.lastUpdated=new Date,n++)}),this.productService.updateProducts(a),n}bulkCategoryMove(t,e){let n=0,a=this.productService.getProducts();return t.forEach(d=>{let v=a.find(E=>E.id===d);v&&(v.category=e,v.lastUpdated=new Date,n++)}),this.productService.updateProducts(a),n}static \u0275fac=function(e){return new(e||r)(qe(oe))};static \u0275prov=V({token:r,factory:r.\u0275fac,providedIn:"root"})};var Me=class r{productDetailsMap=new Map;constructor(){}getProductDetails(t){return this.productDetailsMap.get(t)}setProductDetails(t,e,n){this.productDetailsMap.set(t,{detailsText:e,detailsList:n})}static \u0275fac=function(e){return new(e||r)};static \u0275prov=V({token:r,factory:r.\u0275fac,providedIn:"root"})};function wt(r,t){if(r&1&&(i(0,"option",28),s(1),o()),r&2){let e=t.$implicit,n=t.index,a=c();m("value",a.categoryValues[n]),l(),b(e)}}function Pt(r,t){if(r&1&&(i(0,"option",28),s(1),o()),r&2){let e=t.$implicit,n=t.index,a=c(2);m("value",a.categoryValues[n]),l(),b(e)}}function kt(r,t){if(r&1){let e=h();i(0,"div",29)(1,"button",30),p("click",function(){u(e);let a=c();return f(a.deleteSelected())}),g(2,"i",31),s(3," Delete Selected"),o(),i(4,"button",7),p("click",function(){u(e);let a=c();return f(a.changeStatusSelected(!0))}),g(5,"i",32),s(6," Activate Selected"),o(),i(7,"button",7),p("click",function(){u(e);let a=c();return f(a.changeStatusSelected(!1))}),g(8,"i",33),s(9," Deactivate Selected"),o(),i(10,"select",34,0)(12,"option",35),s(13,"Move to Category"),o(),_(14,Pt,2,2,"option",12),o(),i(15,"button",7),p("click",function(){u(e);let a=J(11),d=c();return f(d.moveCategorySelected(a.value))}),s(16,"Move"),o()()}if(r&2){let e=c();l(14),m("ngForOf",e.categories)}}function Mt(r,t){r&1&&(i(0,"span",50),g(1,"i",51),s(2," Out of Stock"),o())}function Ot(r,t){if(r&1){let e=h();i(0,"tr")(1,"td")(2,"input",37),p("change",function(){let a=u(e).$implicit,d=c(2);return f(d.toggleSelectProduct(a.id))}),o()(),i(3,"td"),g(4,"img",40),o(),i(5,"td"),s(6),o(),i(7,"td"),s(8),o(),i(9,"td"),s(10),L(11,"currency"),o(),i(12,"td"),s(13),o(),i(14,"td")(15,"select",41),w("ngModelChange",function(a){let d=u(e).$implicit;return y(d.status,a)||(d.status=a),f(a)}),p("change",function(){let a=u(e).$implicit,d=c(2);return f(d.onStatusChange(a))}),i(16,"option",42),s(17,"Active"),o(),i(18,"option",42),s(19,"Inactive"),o(),i(20,"option",42),s(21,"Out of Stock"),o()()(),i(22,"td"),s(23),L(24,"date"),o(),i(25,"td")(26,"select",43),w("ngModelChange",function(a){let d=u(e).$implicit;return y(d.badgeSelection,a)||(d.badgeSelection=a),f(a)}),p("change",function(){let a=u(e).$implicit,d=c(2);return f(d.onBadgeChange(a))}),i(27,"option",44),s(28,"None"),o(),i(29,"option",45),s(30,"New"),o(),i(31,"option",46),s(32,"Promo"),o(),i(33,"option",47),s(34,"Trending"),o()(),_(35,Mt,3,0,"span",48),o(),i(36,"td")(37,"button",7),p("click",function(){let a=u(e).$implicit,d=c(2);return f(d.editProduct(a))}),g(38,"i",49),s(39," Edit"),o()()()}if(r&2){let e=t.$implicit,n=c(2);l(2),m("checked",n.isSelected(e.id)),l(2),We("alt",e.name),m("src",e.image,z),l(2),b(e.name),l(2),b(e.category),l(2),b(je(11,16,e.price,"PHP","symbol","1.2-2")),l(2),T("low-stock",e.stock<=5),l(),b(e.stock),l(2),S("ngModel",e.status),l(),m("ngValue",!0),l(2),m("ngValue",!1),l(2),m("ngValue",null),l(3),b(H(24,21,e.lastUpdated,"mediumDate")),l(3),S("ngModel",e.badgeSelection),l(9),m("ngIf",e.stock===0)}}function Et(r,t){if(r&1){let e=h();i(0,"table",36)(1,"thead")(2,"tr")(3,"th")(4,"input",37),p("change",function(a){u(e);let d=c();return f(d.selectAll(a.target.checked))}),o()(),i(5,"th"),s(6,"Image"),o(),i(7,"th",38),p("click",function(){u(e);let a=c();return f(a.changeSort("name"))}),s(8,"Name"),o(),i(9,"th",38),p("click",function(){u(e);let a=c();return f(a.changeSort("category"))}),s(10,"Category"),o(),i(11,"th",38),p("click",function(){u(e);let a=c();return f(a.changeSort("price"))}),s(12,"Price"),o(),i(13,"th",38),p("click",function(){u(e);let a=c();return f(a.changeSort("stock"))}),s(14,"Stock"),o(),i(15,"th"),s(16,"Status"),o(),i(17,"th",38),p("click",function(){u(e);let a=c();return f(a.changeSort("lastUpdated"))}),s(18,"Last Updated"),o(),i(19,"th"),s(20,"Badges"),o(),i(21,"th"),s(22,"Edit"),o()()(),i(23,"tbody"),_(24,Ot,40,24,"tr",39),o()()}if(r&2){let e=c();l(4),m("checked",e.areAllSelected()),l(20),m("ngForOf",e.pagedProducts)}}function It(r,t){r&1&&(i(0,"span",59),s(1,"New"),o())}function Tt(r,t){r&1&&(i(0,"span",50),s(1,"Out of Stock"),o())}function At(r,t){r&1&&(i(0,"span",60),s(1,"Promo"),o())}function Nt(r,t){if(r&1){let e=h();i(0,"div",54),g(1,"img",40),i(2,"div",55)(3,"h3"),s(4),o(),i(5,"p")(6,"strong"),s(7,"Category:"),o(),s(8),o(),i(9,"p")(10,"strong"),s(11,"Price:"),o(),s(12),L(13,"currency"),o(),i(14,"p")(15,"strong"),s(16,"Stock:"),o(),s(17),o(),i(18,"p")(19,"strong"),s(20,"Status:"),o(),i(21,"span"),s(22),o()(),i(23,"p")(24,"strong"),s(25,"Last Updated:"),o(),s(26),L(27,"date"),o(),i(28,"div",56),_(29,It,2,0,"span",57)(30,Tt,2,0,"span",48)(31,At,2,0,"span",58),o(),i(32,"button",7),p("click",function(){let a=u(e).$implicit,d=c(2);return f(d.editProduct(a))}),s(33,"\u270F\uFE0F Edit"),o()()()}if(r&2){let e=t.$implicit;l(),We("alt",e.name),m("src",e.image,z),l(3),b(e.name),l(4),x(" ",e.category,""),l(4),x(" ",je(13,17,e.price,"PHP","symbol","1.2-2"),""),l(2),T("low-stock",e.stock<=5),l(3),x(" ",e.stock,""),l(4),T("active-status",e.status)("inactive-status",!e.status),l(),x(" ",e.status?"Active":"Inactive"," "),l(4),x(" ",H(27,22,e.lastUpdated,"mediumDate"),""),l(3),m("ngIf",e.isNew),l(),m("ngIf",e.stock===0),l(),m("ngIf",e.isPromo)}}function Vt(r,t){if(r&1&&(i(0,"div",52),_(1,Nt,34,25,"div",53),o()),r&2){let e=c();l(),m("ngForOf",e.pagedProducts)}}function Ft(r,t){if(r&1&&(i(0,"option",28),s(1),o()),r&2){let e=t.$implicit,n=t.index,a=c(2);m("value",a.categoryValues[n]),l(),b(e)}}function Dt(r,t){if(r&1){let e=h();i(0,"div",61),p("click",function(){u(e);let a=c();return f(a.cancelEdit())}),i(1,"div",62),p("click",function(a){return u(e),f(a.stopPropagation())}),i(2,"h2"),s(3),o(),i(4,"form",63),p("ngSubmit",function(){u(e);let a=c();return f(a.saveProduct())}),i(5,"label"),s(6," Name: "),i(7,"input",64),w("ngModelChange",function(a){u(e);let d=c();return y(d.productForm.name,a)||(d.productForm.name=a),f(a)}),o()(),i(8,"label"),s(9," Description: "),i(10,"textarea",65),w("ngModelChange",function(a){u(e);let d=c();return y(d.productForm.description,a)||(d.productForm.description=a),f(a)}),o()(),i(11,"label"),s(12," Price: "),i(13,"input",66),w("ngModelChange",function(a){u(e);let d=c();return y(d.productForm.price,a)||(d.productForm.price=a),f(a)}),o()(),i(14,"label"),s(15," Category: "),i(16,"select",67),w("ngModelChange",function(a){u(e);let d=c();return y(d.productForm.category,a)||(d.productForm.category=a),f(a)}),i(17,"option",68),s(18,"Select category"),o(),_(19,Ft,2,2,"option",12),o()(),i(20,"label"),s(21," Image URL: "),i(22,"input",69),w("ngModelChange",function(a){u(e);let d=c();return y(d.productForm.image,a)||(d.productForm.image=a),f(a)}),o()(),i(23,"label"),s(24," Stock: "),i(25,"input",70),w("ngModelChange",function(a){u(e);let d=c();return y(d.productForm.stock,a)||(d.productForm.stock=a),f(a)}),o()(),i(26,"label"),s(27," New Product: "),i(28,"input",71),w("ngModelChange",function(a){u(e);let d=c();return y(d.productForm.isNew,a)||(d.productForm.isNew=a),f(a)}),o()(),i(29,"div",72)(30,"button",73),s(31),o(),i(32,"button",74),p("click",function(){u(e);let a=c();return f(a.cancelEdit())}),s(33,"Cancel"),o()()()()()}if(r&2){let e=c();l(3),b(e.isEditMode?"Edit Product":"Add New Product"),l(4),S("ngModel",e.productForm.name),l(3),S("ngModel",e.productForm.description),l(3),S("ngModel",e.productForm.price),l(3),S("ngModel",e.productForm.category),l(3),m("ngForOf",e.categories),l(3),S("ngModel",e.productForm.image),l(3),S("ngModel",e.productForm.stock),l(3),S("ngModel",e.productForm.isNew),l(3),b(e.isEditMode?"Save Changes":"Add Product")}}var de=class r{constructor(t,e,n){this.adminProductService=t;this.adminProductDetailsService=e;this.router=n}products=[];filteredProducts=[];searchQuery="";filterCategory="";filterStatus="";selectedProductIds=new Set;currentPage=1;pageSize=10;totalPages=1;sortColumn="name";sortDirection="asc";categories=this.getCategories();categoryValues=this.categories.map(t=>t.toLowerCase().replace(/ /g,"-"));showProductForm=!1;isEditMode=!1;productForm={id:0,name:"",description:"",price:0,category:"",image:"",stock:0,status:!0,lastUpdated:new Date,isNew:!1,isPromo:!1};badgeSelection="none";openModal(){this.showProductForm=!0}onBadgeChange(t){t.badgeSelection==="new"?(t.isNew=!0,t.isPromo=!1):t.badgeSelection==="promo"?(t.isNew=!1,t.isPromo=!0):(t.isNew=!1,t.isPromo=!1),this.adminProductService.updateProduct(t),this.loadProducts()}addNewProduct(){this.isEditMode=!1,this.productForm={id:0,name:"",description:"",price:0,category:"",image:"",stock:0,status:!0,lastUpdated:new Date,isNew:!1,isPromo:!1},this.badgeSelection="none",this.openModal()}editProduct(t){this.isEditMode=!0,this.productForm=q({},t),t.isNew?this.badgeSelection="new":t.isPromo?this.badgeSelection="promo":this.badgeSelection="none",this.openModal()}saveProduct(){this.productForm.isNew=this.badgeSelection==="new",this.productForm.isPromo=this.badgeSelection==="promo",this.productForm.stock=Number(this.productForm.stock),this.isEditMode?(this.adminProductService.updateProduct(this.productForm),alert("Changes saved successfully.")):(this.adminProductService.createProduct(this.productForm),alert("Product added successfully.")),this.showProductForm=!1,this.loadProducts()}cancelEdit(){this.showProductForm=!1}ngOnInit(){this.loadProducts()}back(){this.router.navigate(["/admin"])}getCategories(){return["Power Tools","Hand Tools","Electrical Materials","Building Materials","Gardening Tools","Paint & Supplies","Plumbing Supplies","Safety Tools"]}loadProducts(){this.products=this.adminProductService.getProductsByCategory(this.filterCategory),this.applyFilters()}applyFilters(){let t=this.products;this.filterCategory&&(t=t.filter(e=>e.category.toLowerCase()===this.filterCategory.toLowerCase())),this.searchQuery.trim()&&(t=t.filter(e=>e.name.toLowerCase().includes(this.searchQuery.toLowerCase())||e.category.toLowerCase().includes(this.searchQuery.toLowerCase()))),this.filterStatus&&(t=t.filter(e=>this.filterStatus==="active"?e.status===!0:this.filterStatus==="inactive"?e.status===!1:this.filterStatus==="out-of-stock"?e.stock===0:!0)),this.filteredProducts=this.sortProducts(t),this.totalPages=Math.ceil(this.filteredProducts.length/this.pageSize),this.currentPage=1}sortProducts(t){return t.sort((e,n)=>{let a=e[this.sortColumn],d=n[this.sortColumn];return a==null?1:d==null?-1:a===d?0:this.sortDirection==="asc"?a>d?1:-1:a<d?1:-1})}changeSort(t){this.sortColumn===t?this.sortDirection=this.sortDirection==="asc"?"desc":"asc":(this.sortColumn=t,this.sortDirection="asc"),this.applyFilters()}isMobileView(){return window.innerWidth<=768}toggleSelectProduct(t){this.selectedProductIds.has(t)?this.selectedProductIds.delete(t):this.selectedProductIds.add(t)}isSelected(t){return this.selectedProductIds.has(t)}selectAll(t){t?this.filteredProducts.forEach(e=>this.selectedProductIds.add(e.id)):this.selectedProductIds.clear()}deselectAll(){this.selectedProductIds.clear()}areAllSelected(){return this.filteredProducts.length>0&&this.filteredProducts.every(t=>this.selectedProductIds.has(t.id))}deleteSelected(){let t=Array.from(this.selectedProductIds);this.adminProductService.bulkDelete(t),this.selectedProductIds.clear(),this.loadProducts()}changeStatusSelected(t){let e=Array.from(this.selectedProductIds);this.adminProductService.bulkStatusChange(e,t),this.loadProducts()}moveCategorySelected(t){let e=Array.from(this.selectedProductIds);this.adminProductService.bulkCategoryMove(e,t),this.loadProducts()}get pagedProducts(){let t=(this.currentPage-1)*this.pageSize;return this.filteredProducts.slice(t,t+this.pageSize)}goToPage(t){t<1||t>this.totalPages||(this.currentPage=t)}onStatusChange(t){t.status===null?(t.status=!1,t.stock=0):t.status===!0?t.stock===0&&(t.stock=1):t.status,this.adminProductService.updateProduct(t),this.loadProducts()}static \u0275fac=function(e){return new(e||r)(C(ke),C(Me),C(M))};static \u0275cmp=k({type:r,selectors:[["app-products"]],decls:50,vars:14,consts:[["categorySelect",""],[1,"page-container"],[1,"top-nav"],[1,"back-btn",3,"click"],[1,"fas","fa-arrow-left"],[1,"fas","fa-box"],[1,"actions"],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-plus"],["type","text","placeholder","Search: Name",1,"search-input",3,"ngModelChange","input","ngModel"],[1,"filter-select",3,"ngModelChange","change","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["value","active"],["value","inactive"],["value","out-of-stock"],["value","name"],["value","price"],["value","stock"],["value","lastUpdated"],["value","asc"],["value","desc"],["class","bulk-actions",4,"ngIf"],["class","product-table",4,"ngIf"],["class","mobile-card",4,"ngIf"],[1,"pagination"],[1,"btn",3,"click","disabled"],["class","modal",3,"click",4,"ngIf"],[3,"value"],[1,"bulk-actions"],[1,"btn","btn-danger",3,"click"],[1,"fas","fa-trash"],[1,"fas","fa-check-circle"],[1,"fas","fa-times-circle"],[1,"filter-select"],["value","","disabled","","selected",""],[1,"product-table"],["type","checkbox",3,"change","checked"],[3,"click"],[4,"ngFor","ngForOf"],[1,"product-image",3,"src","alt"],[1,"status-select",3,"ngModelChange","change","ngModel"],[3,"ngValue"],[1,"badge-dropdown",3,"ngModelChange","change","ngModel"],["value","none"],["value","new"],["value","promo"],["value","trending"],["class","badge out-of-stock-badge",4,"ngIf"],[1,"fas","fa-edit"],[1,"badge","out-of-stock-badge"],[1,"fas","fa-ban"],[1,"mobile-card"],["class","product-card",4,"ngFor","ngForOf"],[1,"product-card"],[1,"product-info"],[1,"badges"],["class","badge new-badge",4,"ngIf"],["class","badge promo-badge",4,"ngIf"],[1,"badge","new-badge"],[1,"badge","promo-badge"],[1,"modal",3,"click"],[1,"modal-content",3,"click"],[3,"ngSubmit"],["type","text","name","name","required","",3,"ngModelChange","ngModel"],["name","description","required","",3,"ngModelChange","ngModel"],["type","number","name","price","required","","min","0","step","0.01",3,"ngModelChange","ngModel"],["name","category","required","",3,"ngModelChange","ngModel"],["value","","disabled",""],["type","text","name","image",3,"ngModelChange","ngModel"],["type","number","name","stock","required","","min","0",3,"ngModelChange","ngModel"],["type","checkbox","name","isNew",3,"ngModelChange","ngModel"],[1,"form-actions"],["type","submit",1,"btn","btn-primary"],["type","button",1,"btn",3,"click"]],template:function(e,n){e&1&&(i(0,"div",1)(1,"div",2)(2,"button",3),p("click",function(){return n.back()}),g(3,"i",4),o(),i(4,"h1"),g(5,"i",5),s(6," Product List"),o(),i(7,"div",6)(8,"button",7),p("click",function(){return n.addNewProduct()}),g(9,"i",8),s(10," Add Product"),o(),i(11,"input",9),w("ngModelChange",function(d){return y(n.searchQuery,d)||(n.searchQuery=d),d}),p("input",function(){return n.applyFilters()}),o(),i(12,"select",10),w("ngModelChange",function(d){return y(n.filterCategory,d)||(n.filterCategory=d),d}),p("change",function(){return n.applyFilters()}),i(13,"option",11),s(14,"All Categories"),o(),_(15,wt,2,2,"option",12),o(),i(16,"select",10),w("ngModelChange",function(d){return y(n.filterStatus,d)||(n.filterStatus=d),d}),p("change",function(){return n.applyFilters()}),i(17,"option",11),s(18,"All Statuses"),o(),i(19,"option",13),s(20,"Active"),o(),i(21,"option",14),s(22,"Inactive"),o(),i(23,"option",15),s(24,"Out of Stock"),o()(),i(25,"select",10),w("ngModelChange",function(d){return y(n.sortColumn,d)||(n.sortColumn=d),d}),p("change",function(){return n.applyFilters()}),i(26,"option",16),s(27,"Sort by Name"),o(),i(28,"option",17),s(29,"Sort by Price"),o(),i(30,"option",18),s(31,"Sort by Stock"),o(),i(32,"option",19),s(33,"Sort by Last Updated"),o()(),i(34,"select",10),w("ngModelChange",function(d){return y(n.sortDirection,d)||(n.sortDirection=d),d}),p("change",function(){return n.applyFilters()}),i(35,"option",20),s(36,"Ascending"),o(),i(37,"option",21),s(38,"Descending"),o()()()(),_(39,kt,17,1,"div",22)(40,Et,25,2,"table",23),o(),_(41,Vt,2,1,"div",24),i(42,"div",25)(43,"button",26),p("click",function(){return n.goToPage(n.currentPage-1)}),s(44,"Previous"),o(),i(45,"span"),s(46),o(),i(47,"button",26),p("click",function(){return n.goToPage(n.currentPage+1)}),s(48,"Next"),o()(),_(49,Dt,34,10,"div",27)),e&2&&(l(11),S("ngModel",n.searchQuery),l(),S("ngModel",n.filterCategory),l(3),m("ngForOf",n.categories),l(),S("ngModel",n.filterStatus),l(9),S("ngModel",n.sortColumn),l(9),S("ngModel",n.sortDirection),l(5),m("ngIf",n.selectedProductIds.size>0),l(),m("ngIf",!n.isMobileView()),l(),m("ngIf",n.isMobileView()),l(2),m("disabled",n.currentPage===1),l(3),ge("Page ",n.currentPage," of ",n.totalPages,""),l(),m("disabled",n.currentPage===n.totalPages),l(2),m("ngIf",n.showProductForm))},dependencies:[P,I,A,_e,fe,N,Y,be,Ce,W,ee,ve,he,R,Q,ie,te,j,$],styles:[`.page-container{max-width:1200px;margin:auto;padding:20px;font-family:var(--primary-font);color:var(--text-color)}.top-nav{display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:1rem;margin-bottom:1.5rem}.top-nav h1{margin:0;font-size:1.75rem;font-weight:600;line-height:1;color:var(--primary-dark)}.actions,.bulk-actions{display:flex;flex-wrap:wrap;gap:10px;align-items:center;margin-bottom:20px}.search-input,.filter-select,.status-select,.badge-dropdown{padding:6px 10px;min-width:160px;border:1px solid #ccc;border-radius:var(--border-radius);font-size:14px}.product-table{width:100%;border-collapse:collapse;background-color:#fff;border:1px solid #ddd;border-radius:var(--border-radius);overflow:hidden}.product-table th,.product-table td{padding:12px;text-align:left;border-bottom:1px solid #eee}.product-table th{background-color:var(--primary-color);font-weight:700}.product-table img.product-image{width:50px;height:50px;object-fit:cover;border-radius:4px}.badge{display:inline-block;padding:4px 8px;font-size:12px;border-radius:4px;color:#fff}.new-badge{background-color:var(--accent-green)}.out-of-stock-badge{background-color:var(--danger-color)}.promo-badge{background-color:var(--accent-yellow);color:#000}.low-stock{color:var(--danger-color);font-weight:700}.btn{padding:6px 12px;font-size:.9rem;border:none;border-radius:var(--border-radius);cursor:pointer}.btn-primary{background-color:var(--primary-color);color:#fff}.btn-secondary{background-color:#6c757d;color:#fff}.btn-danger{background-color:var(--danger-color);color:#fff}.back-btn{display:inline-flex;align-items:center;gap:.5rem;font-size:1rem;font-weight:500;color:var(--primary-dark);background:transparent;border:none;padding:6px 12px;border-radius:var(--border-radius);cursor:pointer;transition:background-color .2s ease,color .2s ease;text-decoration:none;line-height:1}.back-btn i{font-size:1.25rem;line-height:1}.back-btn:hover{background-color:#0000000d;color:var(--primary-color)}.pagination{margin-top:20px;display:flex;justify-content:center;gap:10px;align-items:center}.modal{position:fixed;inset:0;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000;padding:20px;overflow-y:auto}.modal-content{background-color:#fff;padding:30px 35px;border-radius:12px;max-width:500px;width:100%;box-shadow:0 10px 25px #00000026;font-family:var(--primary-font);color:var(--text-color);transition:transform .3s ease}.modal-content form label{display:block;margin:15px 0 6px;font-weight:600;color:var(--primary-dark);font-size:15px}.modal-content input,.modal-content textarea,.modal-content select{width:100%;padding:10px 12px;border:1.5px solid #ccc;border-radius:var(--border-radius);font-size:15px;font-family:inherit;transition:border-color .25s ease;box-sizing:border-box}.modal-content input:focus,.modal-content textarea:focus,.modal-content select:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 6px var(--primary-color)}.modal-content textarea{resize:vertical;min-height:80px}.form-actions{display:flex;justify-content:flex-end;gap:12px;margin-top:25px}.form-actions .btn{padding:8px 18px;font-size:1rem;border-radius:var(--border-radius);transition:background-color .3s ease}.form-actions .btn:hover{filter:brightness(.9);box-shadow:0 2px 8px #00000026}.mobile-card{display:none}@media screen and (max-width: 768px){.product-table{display:none}.mobile-card{display:block}.product-card{background:#fff;border:1px solid #ddd;border-radius:var(--border-radius);padding:12px;margin-bottom:15px}.product-image{width:100%;max-height:200px;object-fit:cover;border-radius:var(--border-radius);margin-bottom:10px}}
`],encapsulation:2})};function Lt(r,t){if(r&1){let e=h();i(0,"tr")(1,"td"),s(2),o(),i(3,"td"),s(4),o(),i(5,"td"),s(6),o(),i(7,"td")(8,"button",4),p("click",function(){let a=u(e).$implicit,d=c();return f(d.deleteUser(a.id))}),s(9,"Delete"),o()()()}if(r&2){let e=t.$implicit;l(2),b(e.id),l(2),b(e.name),l(2),b(e.email)}}var Ee=class r{constructor(t,e){this.userListService=t;this.router=e}users=[];ngOnInit(){this.loadUsers()}loadUsers(){this.userListService.getRegisteredUsers().subscribe(t=>{this.users=t})}goBack(){this.router.navigate(["/admin"])}deleteUser(t){confirm("Are you sure you want to delete this user?")&&this.userListService.deleteUser(t).subscribe(e=>{e?this.loadUsers():alert("Failed to delete user.")})}static \u0275fac=function(e){return new(e||r)(C(se),C(M))};static \u0275cmp=k({type:r,selectors:[["app-users"]],decls:16,vars:1,consts:[[1,"table-container"],[1,"back-btn",3,"click"],[1,"fas","fa-arrow-left"],[4,"ngFor","ngForOf"],[1,"delete-btn",3,"click"]],template:function(e,n){e&1&&(i(0,"div",0)(1,"button",1),p("click",function(){return n.goBack()}),g(2,"i",2),o(),i(3,"table")(4,"thead")(5,"tr")(6,"th"),s(7,"ID"),o(),i(8,"th"),s(9,"Name"),o(),i(10,"th"),s(11,"Email"),o(),i(12,"th"),s(13,"Actions"),o()()(),i(14,"tbody"),_(15,Lt,10,3,"tr",3),o()()()),e&2&&(l(15),m("ngForOf",n.users))},dependencies:[P,I],styles:['.table-container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:16px}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;background-color:var(--neutral-light, #fff);box-shadow:0 2px 8px #0000000d;border-radius:12px;overflow:hidden;font-family:var(--primary-font, "Poppins", sans-serif)}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:12px 16px;text-align:left;border-bottom:1px solid #eee;color:var(--text-color, #333)}th[_ngcontent-%COMP%]{background-color:var(--primary-color, #ffa726);color:#fff;font-weight:600;text-transform:uppercase;font-size:14px}tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{border-bottom:none}tr[_ngcontent-%COMP%]:hover{background-color:#fdf5ec;transition:background-color .3s ease}.back-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;color:var(--primary-dark);background:none;border:none;font-size:1.25rem;cursor:pointer;padding:6px 10px;margin-left:10px;margin-top:20px;border-radius:6px;transition:background-color .3s ease;text-decoration:none}.back-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem}.back-btn[_ngcontent-%COMP%]:hover{background-color:var(--white)}.delete-btn[_ngcontent-%COMP%]{background-color:#e53935;color:#fff;border:none;padding:6px 12px;border-radius:6px;cursor:pointer;font-weight:600;transition:background-color .3s ease}.delete-btn[_ngcontent-%COMP%]:hover{background-color:#b71c1c}']})};function zt(r,t){if(r&1&&(i(0,"div",17),s(1),o()),r&2){let e=c();l(),x(" ",e.errorMessage," ")}}var Ie=class r{constructor(t,e){this.router=t;this.authService=e}email="";password="";errorMessage="";loading=!1;showPassword=!1;togglePasswordVisibility(){this.showPassword=!this.showPassword}login(){this.errorMessage="",this.loading=!0;try{this.authService.login(this.email,this.password)?this.router.navigate(["/admin"]):this.errorMessage="Invalid email or password"}catch{this.errorMessage="An unexpected error occurred. Please try again later."}finally{this.loading=!1}}close(){this.router.navigate(["/"])}static \u0275fac=function(e){return new(e||r)(C(M),C(re))};static \u0275cmp=k({type:r,selectors:[["app-admin-login"]],decls:22,vars:6,consts:[["loginForm","ngForm"],[1,"login-wrapper"],[1,"login-card"],[1,"fa","fa-times","close-icon",3,"click"],["src","assets/toolbox.png","alt","Toolbox",1,"login-image"],[1,"welcome-text"],["novalidate","",3,"ngSubmit"],[1,"input-group"],["for","email"],[1,"fa-solid","fa-user","input-icon"],["type","email","id","email","required","","name","email","placeholder","Enter your email",3,"ngModelChange","ngModel"],["for","password"],[1,"fa-solid","fa-lock","input-icon"],["id","password","required","","name","password","placeholder","Enter your password",3,"ngModelChange","type","ngModel"],[1,"fa-solid","fa-eye","toggle-password",2,"cursor","pointer",3,"click","ngClass"],["class","error-message",4,"ngIf"],["type","submit",1,"login-btn",3,"disabled"],[1,"error-message"]],template:function(e,n){if(e&1){let a=h();i(0,"div",1)(1,"div",2)(2,"div",3),p("click",function(){return u(a),f(n.close())}),o(),g(3,"img",4),i(4,"h2",5),s(5,"Admin Login"),o(),i(6,"form",6,0),p("ngSubmit",function(){return u(a),f(n.login())}),i(8,"div",7)(9,"label",8),s(10,"Email:"),o(),g(11,"i",9),i(12,"input",10),w("ngModelChange",function(v){return u(a),y(n.email,v)||(n.email=v),f(v)}),o()(),i(13,"div",7)(14,"label",11),s(15,"Password:"),o(),g(16,"i",12),i(17,"input",13),w("ngModelChange",function(v){return u(a),y(n.password,v)||(n.password=v),f(v)}),o(),i(18,"i",14),p("click",function(){return u(a),f(n.togglePasswordVisibility())}),o()(),_(19,zt,2,1,"div",15),i(20,"button",16),s(21,"Login"),o()()()()}if(e&2){let a=J(7);l(12),S("ngModel",n.email),l(5),m("type",n.showPassword?"text":"password"),S("ngModel",n.password),l(),m("ngClass",n.showPassword?"fa-eye-slash":"fa-eye"),l(),m("ngIf",n.errorMessage),l(),m("disabled",!a.form.valid||n.loading)}},dependencies:[N,Y,W,R,Q,ie,j,$,P,Ke,A],styles:[".login-wrapper[_ngcontent-%COMP%]{height:100vh;display:flex;justify-content:center;align-items:center;background-color:#2ec4b6;padding:20px;box-sizing:border-box;font-family:var(--primary-font);font-weight:400}.login-card[_ngcontent-%COMP%]{position:relative;background-color:var(--primary-light);padding:40px 30px;max-width:400px;width:100%;border-radius:20px;text-align:center;color:var(--primary-dark);box-shadow:0 8px 24px #00000014}.welcome-text[_ngcontent-%COMP%]{font-size:24px;font-weight:700;margin-bottom:10px;color:#044f48}.input-group[_ngcontent-%COMP%]{position:relative;margin-bottom:20px;text-align:left}.input-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;color:var(--text-primary);font-weight:600}.input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:12px 38px;height:45px;line-height:21px;border:1px solid #b2e0d9;border-radius:10px;font-size:16px;color:#044f48;background-color:#fff;box-sizing:border-box}.input-icon[_ngcontent-%COMP%]{position:absolute;left:12px;top:60%;transform:translateY(-1%);color:#7abfb3;font-size:16px;height:16px;pointer-events:none}.toggle-password[_ngcontent-%COMP%]{position:absolute;right:12px;top:60%;transform:translateY(-1%);color:#7abfb3;font-size:16px;cursor:pointer}.error-message[_ngcontent-%COMP%]{color:red;font-size:.9rem;margin:5px 0 10px}.login-btn[_ngcontent-%COMP%]{width:100%;padding:12px;background-color:#f76c6c;border:none;border-radius:30px;color:#fff;font-weight:700;font-size:16px;cursor:pointer;transition:background-color .3s ease}.login-btn[_ngcontent-%COMP%]:hover{background-color:#e75959}@media (max-width: 768px){.login-wrapper[_ngcontent-%COMP%]{padding:10px}.login-card[_ngcontent-%COMP%]{padding:30px 20px;max-width:100%}.welcome-text[_ngcontent-%COMP%]{font-size:20px}.login-btn[_ngcontent-%COMP%]{font-size:14px;padding:10px}}@media (max-width: 480px){.login-wrapper[_ngcontent-%COMP%]{padding:5px}.login-card[_ngcontent-%COMP%]{padding:20px 15px}.welcome-text[_ngcontent-%COMP%]{font-size:18px}.login-btn[_ngcontent-%COMP%]{font-size:12px;padding:8px}}"]})};function Wt(r,t){if(r&1){let e=h();i(0,"tr")(1,"td"),s(2),o(),i(3,"td"),s(4),o(),i(5,"td"),s(6),o(),i(7,"td")(8,"div",5)(9,"input",6),w("ngModelChange",function(a){let d=u(e).$implicit;return y(d.stock,a)||(d.stock=a),f(a)}),o(),i(10,"button",7),p("click",function(){let a=u(e).$implicit,d=c();return f(d.updateStock(a))}),g(11,"i",8),s(12," Update "),o()()()()}if(r&2){let e=t.$implicit;l(2),b(e.name),l(2),b(e.category),l(2),b(e.stock),l(3),S("ngModel",e.stock)}}var Te=class r{constructor(t,e){this.productService=t;this.router=e}products=[];ngOnInit(){this.loadProducts()}loadProducts(){this.products=this.productService.getProducts()}updateStock(t){if(t.stock!==void 0&&t.stock>=0){let e=this.productService.getProducts(),n=e.findIndex(a=>a.id===t.id);n!==-1&&(e[n].stock=t.stock,e[n].status=t.stock>0,e[n].lastUpdated=new Date,this.productService.updateProducts(e),alert(`Stock updated for ${t.name}`))}else alert("Invalid stock value")}goBack(){this.router.navigate(["/admin"])}static \u0275fac=function(e){return new(e||r)(C(oe),C(M))};static \u0275cmp=k({type:r,selectors:[["app-inventory"]],decls:18,vars:1,consts:[[1,"inventory-container"],[1,"back-btn",3,"click"],[1,"fas","fa-arrow-left"],[1,"inventory-table"],[4,"ngFor","ngForOf"],[1,"stock-actions"],["type","number","min","0",3,"ngModelChange","ngModel"],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-sync-alt"]],template:function(e,n){e&1&&(i(0,"div",0)(1,"button",1),p("click",function(){return n.goBack()}),g(2,"i",2),o(),i(3,"h2"),s(4,"Inventory Management"),o(),i(5,"table",3)(6,"thead")(7,"tr")(8,"th"),s(9,"Product Name"),o(),i(10,"th"),s(11,"Category"),o(),i(12,"th"),s(13,"Stock"),o(),i(14,"th"),s(15,"Update Stock"),o()()(),i(16,"tbody"),_(17,Wt,13,4,"tr",4),o()()()),e&2&&(l(17),m("ngForOf",n.products))},dependencies:[P,I,N,W,ee,R,te,j],styles:['.inventory-container[_ngcontent-%COMP%]{max-width:900px;margin:40px auto;padding:24px;background-color:var(--neutral-light, #fff);border-radius:12px;box-shadow:0 2px 12px #0000000f;font-family:var(--primary-font, "Poppins", sans-serif)}.inventory-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:20px;color:var(--primary-dark, #fb8c00);text-align:center}.inventory-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;background:#fff;border-radius:8px;overflow:hidden}.inventory-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .inventory-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 16px;border-bottom:1px solid #eee;text-align:left}.inventory-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:var(--primary-color, #ffa726);color:#fff;text-transform:uppercase;font-size:14px}.inventory-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#fff8f0}.stock-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.stock-actions[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]{width:80px;padding:6px 8px;border:1px solid #ccc;border-radius:6px}.btn[_ngcontent-%COMP%]{padding:6px 12px;border:none;border-radius:6px;cursor:pointer;font-weight:600}.btn-primary[_ngcontent-%COMP%]{background-color:var(--primary-color, #ffa726);color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background-color:var(--primary-dark, #fb8c00)}.back-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;color:var(--primary-dark);background:none;border:none;font-size:1.25rem;cursor:pointer;padding:6px 10px;margin-left:10px;margin-top:20px;border-radius:6px;transition:background-color .3s ease;text-decoration:none}.back-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem}.back-btn[_ngcontent-%COMP%]:hover{background-color:var(--white)}']})};var Ae=class r{categories=[{id:1,name:"Power Tools",image:"assets/power tools.jpg",caption:"100+ items",altText:"Power Tools"},{id:2,name:"Hand Tools",image:"assets/hand-tools.jpg",caption:"DIY essentials",altText:"Hand Tools"},{id:3,name:"Electrical Materials",image:"assets/electrical.jpg",caption:"Wide selection",altText:"Electrical Materials"},{id:4,name:"Building Materials",image:"assets/building-materials.jpg",caption:"Quality supplies",altText:"Building Materials"},{id:5,name:"Gardening Tools",image:"assets/garden-tools.jpg",caption:"For your garden",altText:"Gardening Tools"},{id:6,name:"Paint & Supplies",image:"assets/painting-supplies.jpg",caption:"Colors and more",altText:"Paint and Supplies"},{id:7,name:"Plumbing Supplies",image:"assets/plumbing-tools.jpg",caption:"Pipes and fittings",altText:"Plumbing Supplies"},{id:8,name:"Safety Tools",image:"assets/safety-tools.jpg",caption:"Protective gear and more",altText:"Safety Tools"}];categoriesSubject=new Ge(this.categories);constructor(){}getCategories(){return this.categoriesSubject.asObservable()}addCategory(t){t.id=this.generateId(),this.categories.push(t),this.categoriesSubject.next(this.categories)}updateCategory(t){let e=this.categories.findIndex(n=>n.id===t.id);e!==-1&&(this.categories[e]=t,this.categoriesSubject.next(this.categories))}deleteCategory(t){this.categories=this.categories.filter(e=>e.id!==t),this.categoriesSubject.next(this.categories)}generateId(){return this.categories.length>0?Math.max(...this.categories.map(t=>t.id))+1:1}static \u0275fac=function(e){return new(e||r)};static \u0275prov=V({token:r,factory:r.\u0275fac,providedIn:"root"})};function jt(r,t){if(r&1&&(i(0,"td"),s(1),o()),r&2){let e=c().$implicit;l(),b(e.name)}}function Bt(r,t){if(r&1){let e=h();i(0,"input",16),w("ngModelChange",function(a){u(e);let d=c(3);return y(d.editCategory.name,a)||(d.editCategory.name=a),f(a)}),o()}if(r&2){let e=c(3);S("ngModel",e.editCategory.name)}}function Ut(r,t){if(r&1&&(i(0,"td"),_(1,Bt,1,1,"input",15),o()),r&2){let e=c(2);l(),m("ngIf",e.editCategory)}}function Gt(r,t){if(r&1&&(i(0,"td"),g(1,"img",17),o()),r&2){let e=c().$implicit;l(),m("src",e==null?null:e.image,z)("alt",e==null?null:e.altText)}}function qt(r,t){if(r&1){let e=h();i(0,"input",16),w("ngModelChange",function(a){u(e);let d=c(3);return y(d.editCategory.image,a)||(d.editCategory.image=a),f(a)}),o()}if(r&2){let e=c(3);S("ngModel",e.editCategory.image)}}function Ht(r,t){if(r&1&&(i(0,"td"),_(1,qt,1,1,"input",15),o()),r&2){let e=c(2);l(),m("ngIf",e.editCategory)}}function Jt(r,t){if(r&1&&(i(0,"td"),s(1),o()),r&2){let e=c().$implicit;l(),b(e==null?null:e.caption)}}function Qt(r,t){if(r&1){let e=h();i(0,"input",16),w("ngModelChange",function(a){u(e);let d=c(3);return y(d.editCategory.caption,a)||(d.editCategory.caption=a),f(a)}),o()}if(r&2){let e=c(3);S("ngModel",e.editCategory.caption)}}function Yt(r,t){if(r&1&&(i(0,"td"),_(1,Qt,1,1,"input",15),o()),r&2){let e=c(2);l(),m("ngIf",e.editCategory)}}function Kt(r,t){if(r&1&&(i(0,"td"),s(1),o()),r&2){let e=c().$implicit;l(),b(e==null?null:e.altText)}}function Xt(r,t){if(r&1){let e=h();i(0,"input",16),w("ngModelChange",function(a){u(e);let d=c(3);return y(d.editCategory.altText,a)||(d.editCategory.altText=a),f(a)}),o()}if(r&2){let e=c(3);S("ngModel",e.editCategory.altText)}}function Zt(r,t){if(r&1&&(i(0,"td"),_(1,Xt,1,1,"input",15),o()),r&2){let e=c(2);l(),m("ngIf",e.editCategory)}}function $t(r,t){if(r&1){let e=h();i(0,"button",14),p("click",function(){u(e);let a=c().$implicit,d=c();return f(d.startEdit(a))}),s(1,"Edit"),o()}}function ei(r,t){if(r&1){let e=h();i(0,"button",14),p("click",function(){u(e);let a=c(2);return f(a.saveEdit())}),s(1,"Save"),o()}}function ti(r,t){if(r&1){let e=h();i(0,"button",14),p("click",function(){u(e);let a=c(2);return f(a.cancelEdit())}),s(1,"Cancel"),o()}}function ii(r,t){if(r&1){let e=h();i(0,"tr"),_(1,jt,2,1,"td",12)(2,Ut,2,1,"td",12)(3,Gt,2,2,"td",12)(4,Ht,2,1,"td",12)(5,Jt,2,1,"td",12)(6,Yt,2,1,"td",12)(7,Kt,2,1,"td",12)(8,Zt,2,1,"td",12),i(9,"td"),_(10,$t,2,0,"button",13)(11,ei,2,0,"button",13)(12,ti,2,0,"button",13),i(13,"button",14),p("click",function(){let a=u(e).$implicit,d=c();return f(d.deleteCategory(a.id))}),s(14,"Delete"),o()()()}if(r&2){let e=t.$implicit,n=c();l(),m("ngIf",(n.editCategory==null?null:n.editCategory.id)!==e.id),l(),m("ngIf",(n.editCategory==null?null:n.editCategory.id)===e.id),l(),m("ngIf",(n.editCategory==null?null:n.editCategory.id)!==e.id),l(),m("ngIf",(n.editCategory==null?null:n.editCategory.id)===e.id),l(),m("ngIf",(n.editCategory==null?null:n.editCategory.id)!==e.id),l(),m("ngIf",(n.editCategory==null?null:n.editCategory.id)===e.id),l(),m("ngIf",(n.editCategory==null?null:n.editCategory.id)!==e.id),l(),m("ngIf",(n.editCategory==null?null:n.editCategory.id)===e.id),l(2),m("ngIf",(n.editCategory==null?null:n.editCategory.id)!==e.id),l(),m("ngIf",(n.editCategory==null?null:n.editCategory.id)===e.id),l(),m("ngIf",(n.editCategory==null?null:n.editCategory.id)===e.id)}}var Ne=class r{constructor(t,e){this.categoriesService=t;this.router=e}categories=[];newCategory=this.resetCategory();editCategory=null;isEditing=!1;ngOnInit(){this.categoriesService.getCategories().subscribe(t=>{this.categories=t})}resetCategory(){return{id:0,name:"",image:"",caption:"",altText:""}}addCategory(){this.newCategory.name.trim()&&this.newCategory.image.trim()&&(this.categoriesService.addCategory(this.newCategory),this.newCategory=this.resetCategory())}startEdit(t){this.editCategory=q({},t),this.isEditing=!0}saveEdit(){this.editCategory&&(this.categoriesService.updateCategory(this.editCategory),this.editCategory=null,this.isEditing=!1)}cancelEdit(){this.editCategory=null,this.isEditing=!1}deleteCategory(t){this.categoriesService.deleteCategory(t)}goBack(){this.router.navigate(["/admin"])}static \u0275fac=function(e){return new(e||r)(C(Ae),C(M))};static \u0275cmp=k({type:r,selectors:[["app-admin-categories"]],decls:41,vars:5,consts:[[1,"categories-container"],[1,"back-btn",3,"click"],[1,"fas","fa-arrow-left"],[1,"add-category-form"],[3,"ngSubmit"],["type","text","name","name","required","",3,"ngModelChange","ngModel"],["type","text","name","image","required","",3,"ngModelChange","ngModel"],["type","text","name","caption",3,"ngModelChange","ngModel"],["type","text","name","altText",3,"ngModelChange","ngModel"],["type","submit"],[1,"categories-list"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"click",4,"ngIf"],[3,"click"],[3,"ngModel","ngModelChange",4,"ngIf"],[3,"ngModelChange","ngModel"],[1,"category-image",3,"src","alt"]],template:function(e,n){e&1&&(i(0,"div",0)(1,"button",1),p("click",function(){return n.goBack()}),g(2,"i",2),o(),i(3,"h2"),s(4,"Admin Categories Management"),o(),i(5,"div",3)(6,"h3"),s(7,"Add New Category"),o(),i(8,"form",4),p("ngSubmit",function(){return n.addCategory()}),i(9,"label"),s(10," Name: "),i(11,"input",5),w("ngModelChange",function(d){return y(n.newCategory.name,d)||(n.newCategory.name=d),d}),o()(),i(12,"label"),s(13," Image URL: "),i(14,"input",6),w("ngModelChange",function(d){return y(n.newCategory.image,d)||(n.newCategory.image=d),d}),o()(),i(15,"label"),s(16," Caption: "),i(17,"input",7),w("ngModelChange",function(d){return y(n.newCategory.caption,d)||(n.newCategory.caption=d),d}),o()(),i(18,"label"),s(19," Alt Text: "),i(20,"input",8),w("ngModelChange",function(d){return y(n.newCategory.altText,d)||(n.newCategory.altText=d),d}),o()(),i(21,"button",9),s(22,"Add Category"),o()()(),i(23,"div",10)(24,"h3"),s(25,"Existing Categories"),o(),i(26,"table")(27,"thead")(28,"tr")(29,"th"),s(30,"Name"),o(),i(31,"th"),s(32,"Image"),o(),i(33,"th"),s(34,"Caption"),o(),i(35,"th"),s(36,"Alt Text"),o(),i(37,"th"),s(38,"Actions"),o()()(),i(39,"tbody"),_(40,ii,15,11,"tr",11),o()()()()),e&2&&(l(11),S("ngModel",n.newCategory.name),l(3),S("ngModel",n.newCategory.image),l(3),S("ngModel",n.newCategory.caption),l(3),S("ngModel",n.newCategory.altText),l(20),m("ngForOf",n.categories))},dependencies:[P,I,A,N,Y,W,R,Q,ie,j,$],styles:[".categories-container[_ngcontent-%COMP%]{padding:40px 20px;max-width:1000px;margin:auto;font-family:var(--primary-font);color:var(--text-color)}.categories-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:28px;margin-bottom:25px;color:var(--primary-dark);text-align:center}.categories-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;margin-bottom:15px;color:var(--primary-color)}.add-category-form[_ngcontent-%COMP%]{background:#f9f9f9;padding:25px 30px;border-radius:var(--border-radius);box-shadow:0 4px 15px #0000000d;margin-bottom:40px}.add-category-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:12px;font-weight:600;color:#333}.add-category-form[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:100%;padding:10px;margin-top:6px;border-radius:var(--border-radius);border:1px solid #ccc;font-size:15px;box-sizing:border-box}.add-category-form[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{margin-top:15px;padding:10px 18px;font-size:15px;background-color:var(--primary-color);color:#fff;border:none;border-radius:var(--border-radius);cursor:pointer;transition:background-color .3s ease}.add-category-form[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:hover{background-color:var(--primary-dark)}.categories-list[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;background:#fff;box-shadow:0 2px 10px #0000000d;border-radius:var(--border-radius);overflow:hidden}.categories-list[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:var(--primary-color);color:#fff}.categories-list[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .categories-list[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 15px;text-align:left;border-bottom:1px solid #e0e0e0;vertical-align:middle}.categories-list[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.category-image[_ngcontent-%COMP%]{width:60px;height:60px;object-fit:cover;border-radius:6px}.categories-list[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:100%;padding:8px;border:1px solid #ccc;border-radius:var(--border-radius);font-size:14px;box-sizing:border-box}.categories-list[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:6px 12px;margin-right:5px;font-size:13px;border:none;border-radius:6px;cursor:pointer;transition:background-color .25s ease,transform .1s ease;color:#fff}.categories-list[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-child(1){background-color:#007bff}.categories-list[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-child(2){background-color:#28a745}.categories-list[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-child(3){background-color:#6c757d}.categories-list[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-child(4){background-color:#dc3545}.categories-list[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:.9;transform:scale(1.02)}.back-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;color:var(--primary-dark);background:none;border:none;font-size:1.25rem;cursor:pointer;padding:6px 10px;margin-left:10px;margin-top:20px;border-radius:6px;transition:background-color .3s ease;text-decoration:none}.back-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem}.back-btn[_ngcontent-%COMP%]:hover{background-color:var(--white)}@media (max-width: 768px){.categories-list[_ngcontent-%COMP%]   table[_ngcontent-%COMP%], .categories-list[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], .categories-list[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .categories-list[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .categories-list[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .categories-list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:block}.categories-list[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{display:none}.categories-list[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px;position:relative;border:none;border-bottom:1px solid #ddd}.categories-list[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{content:attr(data-label);font-weight:700;display:block;margin-bottom:5px;color:#555}.category-image[_ngcontent-%COMP%]{width:100%;height:auto}}"]})};function ni(r,t){if(r&1&&(i(0,"span",30),s(1),o()),r&2){let e=c(3);l(),b(e.profilePhotoName)}}function oi(r,t){if(r&1&&g(0,"img",31),r&2){let e=c(3);m("src",e.profilePhoto,z)}}function ri(r,t){r&1&&(i(0,"p"),s(1,"No profile photo selected"),o())}function ai(r,t){if(r&1&&(i(0,"div",32)(1,"label"),s(2,"Current Password: "),g(3,"input",33),o(),i(4,"label"),s(5,"New Password: "),g(6,"input",34),o()()),r&2){let e=c(3);m("formGroup",e.passwordChangeGroup)}}function si(r,t){if(r&1){let e=h();i(0,"form",17),p("ngSubmit",function(){u(e);let a=c(2);return f(a.onSubmit())}),i(1,"h3"),s(2,"Profile & Security"),o(),i(3,"label"),s(4,"Name: "),g(5,"input",18),o(),i(6,"label"),s(7,"Email: "),g(8,"input",19),o(),i(9,"label"),s(10,"Contact Number: "),g(11,"input",20),o(),i(12,"div")(13,"label",21),s(14,"Profile Photo:"),o(),i(15,"input",22),p("change",function(a){u(e);let d=c(2);return f(d.onFileChange(a,"profile.profilePhoto"))}),o(),i(16,"label",23),s(17,"Choose File"),o(),_(18,ni,2,1,"span",24),i(19,"div",25),_(20,oi,1,1,"img",26)(21,ri,2,0,"p",16),o()(),_(22,ai,7,1,"div",27),i(23,"label"),s(24,"Enable 2FA: "),g(25,"input",28),o(),i(26,"button",29),s(27,"Save Settings"),o()()}if(r&2){let e=c(2);m("formGroup",e.profileFormGroup),l(18),m("ngIf",e.profilePhotoName),l(2),m("ngIf",e.profilePhoto),l(),m("ngIf",!e.profilePhoto),l(),m("ngIf",e.passwordChangeGroup),l(4),m("disabled",e.profileFormGroup.invalid)}}function li(r,t){if(r&1&&g(0,"img",47),r&2){let e,n=c(4);m("src",n.storeConfigFormGroup==null||(e=n.storeConfigFormGroup.get("storeLogo"))==null?null:e.value,z)}}function di(r,t){r&1&&(i(0,"p"),s(1,"No store logo selected"),o())}function ci(r,t){if(r&1){let e=h();F(0),i(1,"h3"),s(2,"Store Configuration"),o(),i(3,"label"),s(4,"Store Name: "),g(5,"input",37),o(),i(6,"label"),s(7,"Store Description: "),g(8,"textarea",38),o(),i(9,"div")(10,"label",39),s(11,"Store Logo:"),o(),i(12,"input",40),p("change",function(a){u(e);let d=c(3);return f(d.onFileChange(a,"storeConfig.storeLogo"))}),o(),i(13,"label",41),s(14,"Choose File"),o(),i(15,"div",42),_(16,li,1,1,"img",43)(17,di,2,0,"p",16),o()(),i(18,"label"),s(19,"Phone Number: "),g(20,"input",44),o(),i(21,"label"),s(22,"Support Email: "),g(23,"input",45),o(),i(24,"label"),s(25,"Social Links: "),g(26,"textarea",46),o(),D()}if(r&2){let e,n,a=c(3);l(5),m("placeholder",a.currentAppInfo.storeConfig.storeName),l(3),m("placeholder",a.currentAppInfo.storeConfig.storeDescription),l(8),m("ngIf",a.storeConfigFormGroup==null||(e=a.storeConfigFormGroup.get("storeLogo"))==null?null:e.value),l(),m("ngIf",!(!(a.storeConfigFormGroup==null||(n=a.storeConfigFormGroup.get("storeLogo"))==null)&&n.value))}}function mi(r,t){r&1&&(F(0),i(1,"h3"),s(2,"Shipping & Delivery"),o(),i(3,"label"),s(4,"Free Shipping: "),g(5,"input",48),o(),i(6,"label"),s(7,"Flat Rate Shipping: "),g(8,"input",49),o(),i(9,"label"),s(10,"Delivery Range: "),g(11,"input",50),o(),i(12,"label"),s(13,"Estimated Delivery Time: "),g(14,"input",51),o(),D())}function pi(r,t){r&1&&(F(0),i(1,"h3"),s(2,"Payment Setup"),o(),i(3,"label"),s(4,"COD: "),g(5,"input",52),o(),i(6,"label"),s(7,"GCash: "),g(8,"input",53),o(),i(9,"label"),s(10,"Payment Instructions: "),g(11,"textarea",54),o(),D())}function gi(r,t){r&1&&(F(0),i(1,"h3"),s(2,"Notifications"),o(),i(3,"label"),s(4,"Order Confirmation Emails: "),g(5,"input",55),o(),i(6,"label"),s(7,"Low Stock Alerts: "),g(8,"input",56),o(),i(9,"label"),s(10,"Customer Inquiry Alerts: "),g(11,"input",57),o(),D())}function ui(r,t){if(r&1){let e=h();i(0,"form",17),p("ngSubmit",function(){u(e);let a=c(2);return f(a.onSubmit())}),F(1,35),_(2,ci,27,4,"ng-container",36)(3,mi,15,0,"ng-container",36)(4,pi,12,0,"ng-container",36)(5,gi,12,0,"ng-container",36),D(),i(6,"button",29),s(7,"Save Settings"),o()()}if(r&2){let e,n,a=c(2);m("formGroup",a.getFormGroupForSetting((e=a.selectedSetting)!==null&&e!==void 0?e:"profile")),l(),m("ngSwitch",(n=a.selectedSetting)!==null&&n!==void 0?n:"profile"),l(),m("ngSwitchCase","storeConfig"),l(),m("ngSwitchCase","shippingDelivery"),l(),m("ngSwitchCase","paymentSetup"),l(),m("ngSwitchCase","notifications"),l(),m("disabled",a.getFormGroupForSetting(a.selectedSetting).invalid)}}function fi(r,t){if(r&1){let e=h();i(0,"li"),s(1),i(2,"button",62),p("click",function(){let a=u(e).index,d=c(3);return f(d.removeAdmin(a))}),s(3,"Remove"),o(),i(4,"select",63),w("ngModelChange",function(a){let d=u(e).$implicit;return y(d.accessLevel,a)||(d.accessLevel=a),f(a)}),p("change",function(){let a=u(e),d=a.$implicit,v=a.index,E=c(3);return f(E.updateAccessLevel(v,d.accessLevel))}),i(5,"option",64),s(6,"Super Admin"),o(),i(7,"option",65),s(8,"Admin"),o(),i(9,"option",66),s(10,"Viewer"),o()()()}if(r&2){let e=t.$implicit;l(),ge(" ",e.email," - Access: ",e.accessLevel," "),l(3),S("ngModel",e.accessLevel)}}function _i(r,t){if(r&1){let e=h();i(0,"div")(1,"h3"),s(2,"Admin Management"),o(),i(3,"div")(4,"label"),s(5,"New Admin Email: "),i(6,"input",58),w("ngModelChange",function(a){u(e);let d=c(2);return y(d.newAdminEmail,a)||(d.newAdminEmail=a),f(a)}),o()(),i(7,"label"),s(8,"New Admin Password: "),i(9,"input",59),w("ngModelChange",function(a){u(e);let d=c(2);return y(d.newAdminPassword,a)||(d.newAdminPassword=a),f(a)}),o()(),i(10,"button",60),p("click",function(){u(e);let a=c(2);return f(a.addAdmin())}),s(11,"Add New Admin"),o()(),i(12,"div")(13,"h4"),s(14,"Existing Admins"),o(),i(15,"ul"),_(16,fi,11,3,"li",61),o()()()}if(r&2){let e=c(2);l(6),S("ngModel",e.newAdminEmail),l(3),S("ngModel",e.newAdminPassword),l(7),m("ngForOf",e.admins)}}function xi(r,t){if(r&1){let e=h();i(0,"div",12)(1,"div",13)(2,"i",14),p("click",function(){u(e);let a=c();return f(a.closeModal())}),o(),_(3,si,28,6,"form",15)(4,ui,8,7,"form",15)(5,_i,17,3,"div",16),o()()}if(r&2){let e=c();l(3),m("ngIf",e.selectedSetting==="profile"&&e.profileFormGroup),l(),m("ngIf",e.selectedSetting!=="profile"&&e.selectedSetting!=="adminManagement"),l(),m("ngIf",e.selectedSetting==="adminManagement")}}var Ve=class r{constructor(t,e,n,a){this.fb=t;this.router=e;this.route=n;this.adminSettingsService=a}adminSettingsForm;newAdminEmail="";newAdminPassword="";admins=[];modalOpen=!1;selectedSetting=null;profilePhotoName="";currentAppInfo={profile:{name:"John Doe",email:"john.doe@example.com",contactNumber:"+63 912 345 6789",twoFactorAuth:!0},storeConfig:{storeName:"HardwareHub",storeDescription:"Your ultimate hardware store On-the-Go",storePhone:"+63 912 345 6789",supportEmail:"support@hardwarehub.com",socialLinks:"https://www.facebook.com/HardwareHub, https://www.instagram.com/HardwareHub, https://www.tiktok.com/@hardwarehubshop"},shippingDelivery:{freeShipping:!0,flatRate:50,deliveryRange:"Local area",estimatedDeliveryTime:"3-5 days"},paymentSetup:{cod:!0,gcash:!0,paymentInstructions:"Please pay upon delivery or use GCash."},notifications:{orderConfirmationEmails:!0,lowStockAlerts:!0,customerInquiryAlerts:!0}};ngOnInit(){this.adminSettingsForm=this.fb.group({profile:this.fb.group({name:[this.currentAppInfo.profile.name,Z.required],email:[this.currentAppInfo.profile.email,[Z.required,Z.email]],contactNumber:[this.currentAppInfo.profile.contactNumber],profilePhoto:[null],passwordChange:this.fb.group({currentPassword:[""],newPassword:[""]}),twoFactorAuth:[this.currentAppInfo.profile.twoFactorAuth]}),storeConfig:this.fb.group({storeName:[this.currentAppInfo.storeConfig.storeName,Z.required],storeDescription:[this.currentAppInfo.storeConfig.storeDescription],storePhone:[this.currentAppInfo.storeConfig.storePhone],supportEmail:[this.currentAppInfo.storeConfig.supportEmail,Z.email],socialLinks:[this.currentAppInfo.storeConfig.socialLinks],storeLogo:["assets/toolbox.png"]}),shippingDelivery:this.fb.group({freeShipping:[!1],flatRate:[0],deliveryRange:[""],estimatedDeliveryTime:[""]}),paymentSetup:this.fb.group({cod:[!1],gcash:[!1],paymentInstructions:[""]}),notifications:this.fb.group({orderConfirmationEmails:[!1],lowStockAlerts:[!1],customerInquiryAlerts:[!1]}),adminManagement:this.fb.group({})});let t=this.adminSettingsService.getAllSettings();if(t){t.profile&&this.adminSettingsForm.get("profile")?.patchValue(t.profile),t.storeConfig&&(this.adminSettingsForm.get("storeConfig")?.patchValue(t.storeConfig),t.storeConfig.storeLogo||this.adminSettingsForm.get("storeConfig")?.get("storeLogo")?.setValue("assets/toolbox.png")),t.shippingDelivery&&this.adminSettingsForm.get("shippingDelivery")?.patchValue(t.shippingDelivery),t.paymentSetup&&this.adminSettingsForm.get("paymentSetup")?.patchValue(t.paymentSetup),t.notifications&&this.adminSettingsForm.get("notifications")?.patchValue(t.notifications),t.admins?this.admins=t.admins:(this.admins=[{email:"scatorccio@gmail.com",password:"antlerqueen",accessLevel:"superadmin"}],this.adminSettingsService.saveStoredSettings(le(q({},t),{admins:this.admins})));let e=this.adminSettingsService.getProfilePhoto();e&&this.adminSettingsForm.get("profile")?.get("profilePhoto")?.setValue(e);let n=this.adminSettingsService.getStoreLogo();if(n){let a=this.adminSettingsForm.get("storeConfig");a&&a.get("storeLogo")?.setValue(n)}}this.route.queryParams.subscribe(e=>{e.open==="profile"&&this.openModal("profile")})}onFileChange(t,e){let n=t.target.files[0];if(n){if(!n.type.startsWith("image/")){alert("Please select a valid image file for the profile photo."),t.target.value="";return}let a=2;if(n.size>a*1024*1024){alert(`Profile photo must be smaller than ${a}MB.`),t.target.value="";return}this.profilePhotoName=n.name;let d=new FileReader;d.onload=()=>{let v=d.result,E=e.split("."),ce=this.adminSettingsForm;for(let ze=0;ze<E.length-1;ze++)if(ce=ce.get(E[ze]),!ce)return;ce.get(E[E.length-1])?.setValue(v)},d.readAsDataURL(n)}}get profileFormGroup(){return this.getFormGroup("profile")}get passwordChangeGroup(){let t=this.profileFormGroup?.get("passwordChange");return t instanceof Be?t:null}get storeConfigFormGroup(){return this.getFormGroup("storeConfig")}get shippingDeliveryFormGroup(){return this.getFormGroup("shippingDelivery")}get paymentSetupFormGroup(){return this.getFormGroup("paymentSetup")}get notificationsFormGroup(){return this.getFormGroup("notifications")}openModal(t){if(this.selectedSetting=t,this.modalOpen=!0,document.body.classList.add("modal-open"),t==="profile"){let e=this.adminSettingsService.getProfilePhoto();e&&this.adminSettingsForm.get("profile")?.get("profilePhoto")?.setValue(e)}}closeModal(){this.modalOpen=!1,this.selectedSetting=null,document.body.classList.remove("modal-open")}logout(){alert("Logout clicked")}saveAdmins(){let t=this.adminSettingsService.getAllSettings();this.adminSettingsService.saveStoredSettings(le(q({},t),{admins:this.admins}))}addAdmin(){this.newAdminEmail&&this.newAdminPassword?(this.adminSettingsService.addAdmin(this.newAdminEmail,this.newAdminPassword),this.admins=this.adminSettingsService.getAdmins(),this.saveAdmins(),this.newAdminEmail="",this.newAdminPassword="",alert("New admin added successfully!")):alert("Please enter both email and password for the new admin.")}removeAdmin(t){let e=this.admins[t].email;this.adminSettingsService.removeAdmin(e),this.admins=this.adminSettingsService.getAdmins(),this.saveAdmins(),alert("Admin removed successfully!")}updateAccessLevel(t,e){let n=this.admins[t].email;this.adminSettingsService.updateAdminAccessLevel(n,e),this.admins=this.adminSettingsService.getAdmins(),this.saveAdmins(),alert("Admin access level updated successfully!")}getFormGroup(t){let e=this.adminSettingsForm.get(t);return e instanceof Be?e:null}getFormGroupForSetting(t){let e=t||"";return this.getFormGroup(e)||this.fb.group({})}onSubmit(){let t=this.selectedSetting?this.getFormGroup(this.selectedSetting):null;if(t&&t.valid){switch(this.selectedSetting){case"profile":this.adminSettingsService.saveProfile(t.value);let e=this.adminSettingsService.getProfilePhoto();e&&this.adminSettingsForm.get("profile")?.get("profilePhoto")?.setValue(e);break;case"storeConfig":this.adminSettingsService.saveStoreConfig(t.value);break;case"shippingDelivery":this.adminSettingsService.saveShippingDelivery(t.value);break;case"paymentSetup":this.adminSettingsService.savePaymentSetup(t.value);break;case"notifications":this.adminSettingsService.saveNotifications(t.value);break}alert("Settings saved successfully!"),this.closeModal()}}navigateBack(){this.router.navigate(["/admin"])}get profilePhoto(){return this.adminSettingsForm.get("profile.profilePhoto")?.value??null}static \u0275fac=function(e){return new(e||r)(C(it),C(M),C(xe),C(ae))};static \u0275cmp=k({type:r,selectors:[["app-admin-settings"]],decls:31,vars:1,consts:[[1,"admin-settings-container"],[1,"back-to-admin",3,"click"],[1,"fas","fa-arrow-left"],[1,"settings-grid"],[1,"setting-card",3,"click"],[1,"fas","fa-user"],[1,"fas","fa-store"],[1,"fas","fa-shipping-fast"],[1,"fas","fa-credit-card"],[1,"fas","fa-bell"],[1,"fas","fa-users-cog"],["class","modal",4,"ngIf"],[1,"modal"],[1,"modal-content"],[1,"fas","fa-times","close-icon",3,"click"],[3,"formGroup","ngSubmit",4,"ngIf"],[4,"ngIf"],[3,"ngSubmit","formGroup"],["formControlName","name","type","text"],["formControlName","email","type","email"],["formControlName","contactNumber","type","tel"],["for","profilePhotoInput"],["type","file","id","profilePhotoInput",3,"change"],["for","profilePhotoInput",1,"custom-file-label"],["class","file-name",4,"ngIf"],[1,"profile-photo-preview-container"],["alt","Profile Photo","class","profile-photo-preview",3,"src",4,"ngIf"],[3,"formGroup",4,"ngIf"],["formControlName","twoFactorAuth","type","checkbox"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"file-name"],["alt","Profile Photo",1,"profile-photo-preview",3,"src"],[3,"formGroup"],["formControlName","currentPassword","type","password"],["formControlName","newPassword","type","password"],[3,"ngSwitch"],[4,"ngSwitchCase"],["formControlName","storeName","type","text",3,"placeholder"],["formControlName","storeDescription",3,"placeholder"],["for","storeLogoInput"],["type","file","id","storeLogoInput",3,"change"],["for","storeLogoInput",1,"custom-file-label"],[1,"store-logo-preview-container"],["class","store-logo-preview",3,"src",4,"ngIf"],["formControlName","storePhone","type","tel"],["formControlName","supportEmail","type","email"],["formControlName","socialLinks"],[1,"store-logo-preview",3,"src"],["formControlName","freeShipping","type","checkbox"],["formControlName","flatRate","type","number","min","0"],["formControlName","deliveryRange","type","text"],["formControlName","estimatedDeliveryTime","type","text"],["formControlName","cod","type","checkbox"],["formControlName","gcash","type","checkbox"],["formControlName","paymentInstructions"],["formControlName","orderConfirmationEmails","type","checkbox"],["formControlName","lowStockAlerts","type","checkbox"],["formControlName","customerInquiryAlerts","type","checkbox"],["type","email",3,"ngModelChange","ngModel"],["type","password",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-primary",3,"click"],[4,"ngFor","ngForOf"],["type","button",1,"btn","btn-danger",3,"click"],[3,"ngModelChange","change","ngModel"],["value","superadmin"],["value","admin"],["value","viewer"]],template:function(e,n){e&1&&(i(0,"div",0)(1,"button",1),p("click",function(){return n.navigateBack()}),g(2,"i",2),o(),i(3,"h2"),s(4,"Admin Settings"),o(),i(5,"div",3)(6,"div",4),p("click",function(){return n.openModal("profile")}),g(7,"i",5),i(8,"h3"),s(9,"Profile & Security"),o()(),i(10,"div",4),p("click",function(){return n.openModal("storeConfig")}),g(11,"i",6),i(12,"h3"),s(13,"Store Configuration"),o()(),i(14,"div",4),p("click",function(){return n.openModal("shippingDelivery")}),g(15,"i",7),i(16,"h3"),s(17,"Shipping & Delivery"),o()(),i(18,"div",4),p("click",function(){return n.openModal("paymentSetup")}),g(19,"i",8),i(20,"h3"),s(21,"Payment Setup"),o()(),i(22,"div",4),p("click",function(){return n.openModal("notifications")}),g(23,"i",9),i(24,"h3"),s(25,"Notifications"),o()(),i(26,"div",4),p("click",function(){return n.openModal("adminManagement")}),g(27,"i",10),i(28,"h3"),s(29,"Admin Management"),o()()(),_(30,xi,6,3,"div",11),o()),e&2&&(l(30),m("ngIf",n.modalOpen))},dependencies:[P,I,A,Xe,Ze,nt,Y,be,Ce,W,ee,ve,he,R,Q,te,et,tt,N,j],styles:[".settings-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:1rem;margin-bottom:1.5rem}.setting-card[_ngcontent-%COMP%]{background:var(--neutral-light);border-radius:.5rem;box-shadow:0 2px 6px #00000026;padding:1.25rem;text-align:center;cursor:pointer;transition:box-shadow .3s ease,transform .3s ease;-webkit-user-select:none;user-select:none;font-family:var(--primary-font);color:var(--text-primary)}.setting-card[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2.25rem;margin-bottom:.75rem;color:var(--primary-color)}.setting-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.25rem;color:var(--text-primary)}.setting-card[_ngcontent-%COMP%]:hover{box-shadow:0 6px 12px #00000040;transform:translateY(-.25rem)}.back-to-admin[_ngcontent-%COMP%]{color:var(--primary-dark);background:none;border:none;font-size:2rem;cursor:pointer;padding:.25rem .5rem;border-radius:6px;transition:background-color .3s ease}.admin-settings-container[_ngcontent-%COMP%]   button.back-to-admin[_ngcontent-%COMP%]:hover{background-color:var(--neutral-light)}.modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:var(--neutral-light);border-radius:.5rem;padding:1.5rem;width:90%;max-width:600px;max-height:calc(100vh - 6rem);overflow-y:auto;position:relative;font-family:var(--primary-font);color:var(--text-primary)}.close[_ngcontent-%COMP%]{position:absolute;top:.75rem;right:1rem;font-size:1.75rem;font-weight:700;color:var(--text-primary);cursor:pointer}label[_ngcontent-%COMP%]{display:block;margin-bottom:.75rem;font-weight:600;color:var(--text-primary);font-family:var(--primary-font)}input[type=text][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], input[type=tel][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:100%;padding:.5rem .625rem;margin-top:.25rem;border:1px solid var(--border-color);border-radius:.25rem;font-size:1rem;box-sizing:border-box;font-family:var(--primary-font);color:var(--text-primary);background-color:var(--neutral-light)}body.modal-open[_ngcontent-%COMP%]{overflow:hidden}[_nghost-%COMP%]{min-height:100vh;overflow-y:hidden;padding:2rem 1.5rem;max-width:1200px;margin:0 auto}.admin-settings-container[_ngcontent-%COMP%]{padding:1rem 1.5rem;max-width:1350px;margin:0 auto}h2[_ngcontent-%COMP%]{font-family:var(--primary-font);font-weight:700;font-size:2rem}.btn[_ngcontent-%COMP%]{font-family:var(--primary-font);font-size:1rem;padding:.5rem 1rem;border-radius:.375rem;border:none;cursor:pointer;transition:background-color .3s ease,color .3s ease;-webkit-user-select:none;user-select:none;display:inline-block;text-align:center;text-decoration:none}.btn-primary[_ngcontent-%COMP%]{background-color:var(--primary-color);color:var(--neutral-light)}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:var(--primary-dark)}.btn-danger[_ngcontent-%COMP%]{background-color:var(--danger-color, #dc3545);color:var(--neutral-light)}.btn-danger[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#b02a37}.btn[_ngcontent-%COMP%]:disabled, .btn[disabled][_ngcontent-%COMP%]{opacity:.6;cursor:not-allowed}input[type=file][_ngcontent-%COMP%]{display:none}.custom-file-label[_ngcontent-%COMP%]{display:inline-block;font-family:var(--primary-font);font-size:1rem;padding:.5rem 1rem;border-radius:.375rem;background-color:var(--primary-color);color:var(--neutral-light);cursor:pointer;-webkit-user-select:none;user-select:none;transition:background-color .3s ease}.custom-file-label[_ngcontent-%COMP%]:hover{background-color:var(--primary-dark)}.profile-photo-preview[_ngcontent-%COMP%]{width:150px;height:150px;object-fit:cover;border-radius:50%}.store-logo-preview[_ngcontent-%COMP%]{width:200px;height:auto}"]})};function vi(r,t){r&1&&(i(0,"div",9),s(1," No pending orders. "),o())}function hi(r,t){if(r&1){let e=h();i(0,"div",10)(1,"strong"),s(2),o(),g(3,"br"),s(4),g(5,"br"),i(6,"span")(7,"strong"),s(8,"Payment Method:"),o(),s(9),o(),g(10,"br"),i(11,"span")(12,"strong"),s(13,"Total Price:"),o(),s(14),o(),g(15,"br"),i(16,"div",11)(17,"button",4),p("click",function(){let a=u(e).$implicit,d=c(2);return f(d.markAsProcessing(a.orderId))}),s(18,"Mark as Processing"),o(),i(19,"button",4),p("click",function(){let a=u(e).$implicit,d=c(2);return f(d.cancelOrder(a.orderId))}),s(20,"Cancel"),o(),i(21,"button",4),p("click",function(){let a=u(e).$implicit,d=c(2);return f(d.viewOrderDetails(a.orderId))}),s(22,"View"),o()()()}if(r&2){let e=t.$implicit,n=c(2);l(2),x("Order #",e.orderId,""),l(2),x(" ",n.getOrderSummary(e),""),l(5),x(" ",e.paymentMethod||"N/A",""),l(5),x(" \u20B1",e.totalPrice||"N/A","")}}function bi(r,t){if(r&1&&(F(0),_(1,vi,2,0,"div",7)(2,hi,23,4,"div",8),D()),r&2){let e=c();l(),m("ngIf",e.pendingOrders.length===0),l(),m("ngForOf",e.pendingOrders)}}function Ci(r,t){r&1&&(i(0,"div",9),s(1," No processing orders. "),o())}function Si(r,t){if(r&1){let e=h();i(0,"div",10)(1,"strong"),s(2),o(),g(3,"br"),s(4),g(5,"br"),i(6,"span")(7,"strong"),s(8,"Payment Method:"),o(),s(9),o(),g(10,"br"),i(11,"span")(12,"strong"),s(13,"Total Price:"),o(),s(14),o(),g(15,"br"),i(16,"div",11)(17,"button",4),p("click",function(){let a=u(e).$implicit,d=c(2);return f(d.markAsShipped(a.orderId))}),s(18,"Mark as Shipped"),o(),i(19,"button",4),p("click",function(){let a=u(e).$implicit,d=c(2);return f(d.viewOrderDetails(a.orderId))}),s(20,"View"),o()()()}if(r&2){let e=t.$implicit,n=c(2);l(2),x("Order #",e.orderId,""),l(2),x(" ",n.getOrderSummary(e),""),l(5),x(" ",e.paymentMethod||"N/A",""),l(5),x(" \u20B1",e.totalPrice||"N/A","")}}function yi(r,t){if(r&1&&(F(0),_(1,Ci,2,0,"div",7)(2,Si,21,4,"div",8),D()),r&2){let e=c();l(),m("ngIf",e.processingOrders.length===0),l(),m("ngForOf",e.processingOrders)}}function wi(r,t){r&1&&(i(0,"div",9),s(1," No shipped orders. "),o())}function Pi(r,t){if(r&1){let e=h();i(0,"div",10)(1,"strong"),s(2),o(),g(3,"br"),s(4),g(5,"br"),i(6,"span")(7,"strong"),s(8,"Payment Method:"),o(),s(9),o(),g(10,"br"),i(11,"span")(12,"strong"),s(13,"Total Price:"),o(),s(14),o(),g(15,"br"),i(16,"div",11)(17,"button",4),p("click",function(){let a=u(e).$implicit,d=c(2);return f(d.markAsDelivered(a.orderId))}),s(18,"Mark as Delivered"),o(),i(19,"button",4),p("click",function(){let a=u(e).$implicit,d=c(2);return f(d.viewOrderDetails(a.orderId))}),s(20,"View"),o()()()}if(r&2){let e=t.$implicit,n=c(2);l(2),x("Order #",e.orderId,""),l(2),x(" ",n.getOrderSummary(e),""),l(5),x(" ",e.paymentMethod||"N/A",""),l(5),x(" \u20B1",e.totalPrice||"N/A","")}}function ki(r,t){if(r&1&&(F(0),_(1,wi,2,0,"div",7)(2,Pi,21,4,"div",8),D()),r&2){let e=c();l(),m("ngIf",e.shippedOrders.length===0),l(),m("ngForOf",e.shippedOrders)}}function Mi(r,t){r&1&&(i(0,"div",9),s(1," No delivered orders. "),o())}function Oi(r,t){if(r&1){let e=h();i(0,"div",10)(1,"strong"),s(2),o(),g(3,"br"),s(4),g(5,"br"),i(6,"span")(7,"strong"),s(8,"Payment Method:"),o(),s(9),o(),g(10,"br"),i(11,"span")(12,"strong"),s(13,"Total Price:"),o(),s(14),o(),g(15,"br"),i(16,"div",11)(17,"button",4),p("click",function(){let a=u(e).$implicit,d=c(2);return f(d.viewOrderDetails(a.orderId))}),s(18,"View"),o()()()}if(r&2){let e=t.$implicit,n=c(2);l(2),x("Order #",e.orderId,""),l(2),x(" ",n.getOrderSummary(e),""),l(5),x(" ",e.paymentMethod||"N/A",""),l(5),x(" \u20B1",e.totalPrice||"N/A","")}}function Ei(r,t){if(r&1&&(F(0),_(1,Mi,2,0,"div",7)(2,Oi,19,4,"div",8),D()),r&2){let e=c();l(),m("ngIf",e.deliveredOrders.length===0),l(),m("ngForOf",e.deliveredOrders)}}function Ii(r,t){r&1&&(i(0,"div",9),s(1," No cancelled orders. "),o())}function Ti(r,t){if(r&1){let e=h();i(0,"div",10)(1,"strong"),s(2),o(),g(3,"br"),s(4),g(5,"br"),i(6,"span")(7,"strong"),s(8,"Payment Method:"),o(),s(9),o(),g(10,"br"),i(11,"span")(12,"strong"),s(13,"Total Price:"),o(),s(14),o(),g(15,"br"),i(16,"div",11)(17,"button",4),p("click",function(){let a=u(e).$implicit,d=c(2);return f(d.deleteOrder(a.orderId))}),s(18,"Delete"),o(),i(19,"button",4),p("click",function(){let a=u(e).$implicit,d=c(2);return f(d.viewOrderDetails(a.orderId))}),s(20,"View"),o()()()}if(r&2){let e=t.$implicit,n=c(2);l(2),x("Order #",e.orderId,""),l(2),x(" ",n.getOrderSummary(e),""),l(5),x(" ",e.paymentMethod||"N/A",""),l(5),x(" \u20B1",e.totalPrice||"N/A","")}}function Ai(r,t){if(r&1&&(F(0),_(1,Ii,2,0,"div",7)(2,Ti,21,4,"div",8),D()),r&2){let e=c();l(),m("ngIf",e.cancelledOrders.length===0),l(),m("ngForOf",e.cancelledOrders)}}var Fe=class r{constructor(t,e){this.orderService=t;this.router=e}orders=[];pendingOrders=[];processingOrders=[];shippedOrders=[];deliveredOrders=[];cancelledOrders=[];activeTab="Pending";ngOnInit(){this.loadOrders()}loadOrders(){this.orders=this.orderService.getOrders(),this.pendingOrders=this.orders.filter(t=>t.status==="Pending"),this.processingOrders=this.orders.filter(t=>t.status==="Processing"),this.shippedOrders=this.orders.filter(t=>t.status==="Shipped"),this.deliveredOrders=this.orders.filter(t=>t.status==="Delivered"),this.cancelledOrders=this.orders.filter(t=>t.status==="Cancelled")}getOrderSummary(t){if(!t.items)return"";let e=t.items.map(n=>n.name).filter(Boolean);return`${t.items.length} items \u2013 ${e.join(", ")}`}updateManualNote(t,e){this.orderService.updateManualNote(t,e??""),this.loadOrders()}updateCourierInfo(t,e){this.orderService.updateCourierInfo(t,e??""),this.loadOrders()}updateCancelReason(t,e){this.orderService.updateCancelReason(t,e??""),this.loadOrders()}updateStatus(t,e){this.orderService.updateOrderStatus(t,e),this.loadOrders()}markAsProcessing(t){this.updateStatus(t,"Processing")}markAsShipped(t){this.updateStatus(t,"Shipped")}markAsDelivered(t){this.updateStatus(t,"Delivered")}cancelOrder(t){this.updateStatus(t,"Cancelled")}deleteOrder(t){confirm("Are you sure you want to delete this order? This action cannot be undone.")&&(this.orderService.deleteOrder(t),this.loadOrders())}viewOrderDetails(t){this.router.navigate(["/admin/orders",t])}goBack(){this.router.navigate(["/admin"])}confirmCancelOrder(t){confirm("Are you sure you want to cancel this order?")&&this.cancelOrder(t)}static \u0275fac=function(e){return new(e||r)(C(ne),C(M))};static \u0275cmp=k({type:r,selectors:[["app-admin-orders"]],decls:20,vars:15,consts:[[1,"back-button-container"],[1,"back-btn",3,"click"],[1,"fas","fa-arrow-left"],[1,"tabs"],[3,"click"],[1,"orders-list"],[4,"ngIf"],["class","no-pending-message",4,"ngIf"],["class","order-card",4,"ngFor","ngForOf"],[1,"no-pending-message"],[1,"order-card"],[1,"actions"]],template:function(e,n){e&1&&(i(0,"div",0)(1,"button",1),p("click",function(){return n.goBack()}),g(2,"i",2),o()(),i(3,"div",3)(4,"button",4),p("click",function(){return n.activeTab="Pending"}),s(5,"Pending"),o(),i(6,"button",4),p("click",function(){return n.activeTab="Processing"}),s(7,"Processing"),o(),i(8,"button",4),p("click",function(){return n.activeTab="Shipped"}),s(9,"Shipped"),o(),i(10,"button",4),p("click",function(){return n.activeTab="Delivered"}),s(11,"Delivered"),o(),i(12,"button",4),p("click",function(){return n.activeTab="Cancelled"}),s(13,"Cancelled"),o()(),i(14,"div",5),_(15,bi,3,2,"ng-container",6)(16,yi,3,2,"ng-container",6)(17,ki,3,2,"ng-container",6)(18,Ei,3,2,"ng-container",6)(19,Ai,3,2,"ng-container",6),o()),e&2&&(l(4),T("active",n.activeTab==="Pending"),l(2),T("active",n.activeTab==="Processing"),l(2),T("active",n.activeTab==="Shipped"),l(2),T("active",n.activeTab==="Delivered"),l(2),T("active",n.activeTab==="Cancelled"),l(3),m("ngIf",n.activeTab==="Pending"),l(),m("ngIf",n.activeTab==="Processing"),l(),m("ngIf",n.activeTab==="Shipped"),l(),m("ngIf",n.activeTab==="Delivered"),l(),m("ngIf",n.activeTab==="Cancelled"))},dependencies:[P,I,A,N],styles:[`*{font-family:var(--primary-font)}.container{max-width:800px;margin:20px auto;padding:50px 30px;font-family:var(--primary-font, "Poppins", sans-serif);color:var(--text-primary, #333);background-color:var(--primary-light, #f9f9f9)}.orders-list{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:24px;justify-items:center}.back-btn{display:inline-flex;align-items:center;gap:8px;color:var(--primary-dark);background:none;border:none;font-size:1.25rem;cursor:pointer;padding:6px 10px;margin-left:10px;margin-top:20px;border-radius:6px;transition:background-color .3s ease;text-decoration:none}.back-btn i{font-size:1.5rem}.back-btn:hover{background-color:var(--white)}.tabs{display:flex;justify-content:center;margin-bottom:20px;gap:10px;flex-wrap:nowrap;overflow-x:auto;scrollbar-width:thin;scrollbar-color:var(--primary-color) transparent}.tabs::-webkit-scrollbar{height:6px}.tabs::-webkit-scrollbar-track{background:transparent}.tabs::-webkit-scrollbar-thumb{background-color:var(--primary-color);border-radius:3px}.tabs button{background-color:var(--primary-light, #edf3ed);border:none;padding:10px 20px;cursor:pointer;font-weight:700;border-radius:6px;transition:background-color .3s ease;color:var(--text-primary, #333);font-size:1rem}.tabs button.active,.tabs button:hover,.tabs button:focus-visible{background-color:var(--primary-color, #22c7a9);color:var(--neutral-light, #fff);box-shadow:none;outline:none}.order-card{border:1px solid var(--border-color, #ccc);border-radius:12px;padding:20px;margin:0 auto 24px;box-shadow:0 4px 10px #00000014;background-color:var(--neutral-light, #fff);max-width:400px;width:100%;display:flex;flex-direction:column;gap:16px;transition:transform .2s ease,box-shadow .2s ease}.order-card:hover,.order-card:focus-within{transform:none;box-shadow:0 2px 5px #0000001a;outline:none}.status-badge{padding:4px 10px;border-radius:12px;color:var(--neutral-light, #fff);font-weight:600;text-transform:uppercase;font-size:.85em;display:inline-block;text-align:center;max-width:fit-content}.status-badge.pending{background-color:#ffc107;color:#212529}.status-badge.processing{background-color:#fd7e14}.status-badge.shipped{background-color:var(--primary-color, #22c7a9)}.status-badge.cancelled{background-color:#dc3545}.actions{display:flex;flex-wrap:nowrap;gap:14px;margin-top:16px;justify-content:center;align-items:center;overflow-x:auto;padding-bottom:8px;-webkit-overflow-scrolling:touch}button{background-color:var(--primary-color, #22c7a9);color:var(--neutral-light, #fff);border:none;padding:10px 18px;border-radius:5px;font-size:.95rem;font-weight:700;cursor:pointer;transition:background-color .3s ease;width:auto;max-width:180px;text-align:center;box-shadow:none;white-space:nowrap;flex-shrink:0}button:hover,button:focus-visible{background-color:var(--primary-dark, #1aa18c);outline:none;box-shadow:none;transform:none}input[type=text]{padding:12px 16px;border:1.5px solid var(--border-color, #ccc);border-radius:6px;font-size:16px;width:100%;max-width:320px;font-family:inherit;color:var(--text-primary, #444);transition:border-color .3s ease,box-shadow .3s ease}input[type=text]:focus,input[type=text]:focus-visible{outline:none;border-color:var(--primary-color, #22c7a9);box-shadow:0 0 8px #22c7a966}@media screen and (max-width: 768px){.tabs{flex-direction:row;gap:10px}.order-card{padding:16px}.actions{flex-direction:column;gap:14px}button{width:100%;max-width:none}input[type=text]{max-width:100%;margin-bottom:12px}}.back-btn:focus-visible,.tabs button:focus-visible,button:focus-visible,input[type=text]:focus-visible{outline:2px solid var(--primary-color, #22c7a9);outline-offset:2px}
`],encapsulation:2})};var Ni=()=>[],dt=(r,t,e,n,a,d)=>[r,t,e,n,a,d];function Vi(r,t){if(r&1&&(i(0,"span"),s(1),o()),r&2){let e=c(2);l(),x(" ",e.filterTruthy(Re(1,dt,e.order.shippingDetails.street1,e.order.shippingDetails.street2,e.order.shippingDetails.barangay,e.order.shippingDetails.town,e.order.shippingDetails.city,e.order.shippingDetails.zip)).join(", ")," ")}}function Fi(r,t){if(r&1&&s(0),r&2){let e=c(2);x(" ",e.filterTruthy(Re(1,dt,e.order.billingDetails==null?null:e.order.billingDetails.street1,e.order.billingDetails==null?null:e.order.billingDetails.street2,e.order.billingDetails==null?null:e.order.billingDetails.barangay,e.order.billingDetails==null?null:e.order.billingDetails.town,e.order.billingDetails==null?null:e.order.billingDetails.city,e.order.billingDetails==null?null:e.order.billingDetails.zip)).join(", ")," ")}}function Di(r,t){if(r&1&&(i(0,"li",9)(1,"div")(2,"strong"),s(3),o()(),i(4,"div"),s(5),o(),i(6,"div"),s(7),o(),i(8,"div"),s(9),o()()),r&2){let e=t.$implicit;l(3),b(e.name),l(2),x("Quantity: ",e.quantity,""),l(2),x("Price: \u20B1",e.price,""),l(2),x("Subtotal: \u20B1",e.subtotal,"")}}function Li(r,t){if(r&1&&(i(0,"li"),s(1),L(2,"date"),o()),r&2){let e=t.$implicit;l(),Qe(" ",H(2,3,e.date,"medium")," - ",e.status," - ",e.note||""," ")}}function zi(r,t){if(r&1){let e=h();i(0,"div",2)(1,"button",3),p("click",function(){u(e);let a=c();return f(a.goBack())}),g(2,"i",4),o(),i(3,"h2"),s(4),o(),i(5,"p")(6,"strong"),s(7,"User Name:"),o(),s(8),o(),i(9,"p")(10,"strong"),s(11,"Contact Number:"),o(),s(12),o(),i(13,"p")(14,"strong"),s(15,"Status:"),o(),s(16),o(),i(17,"p")(18,"strong"),s(19,"Order Date:"),o(),s(20),L(21,"date"),o(),i(22,"p")(23,"strong"),s(24,"Delivery Date:"),o(),s(25),L(26,"date"),o(),i(27,"p")(28,"strong"),s(29,"Estimated Delivery:"),o(),s(30),o(),i(31,"p")(32,"strong"),s(33,"Tracking Number:"),o(),s(34),o(),i(35,"p")(36,"strong"),s(37,"Shipping Address:"),o(),_(38,Vi,2,8,"span",5)(39,Fi,1,8,"ng-template",null,0,ue),o(),i(41,"h3"),s(42,"Products:"),o(),i(43,"ul",6),_(44,Di,10,4,"li",7),o(),i(45,"p")(46,"strong"),s(47,"Total Price:"),o(),s(48),o(),i(49,"h3"),s(50,"Payment Information"),o(),i(51,"p")(52,"strong"),s(53,"Payment Method:"),o(),s(54),o(),i(55,"h3"),s(56,"Order History"),o(),i(57,"ul"),_(58,Li,3,6,"li",8),o()()}if(r&2){let e=J(40),n=c();l(4),x("Order Details - ",n.order.orderId,""),l(4),x(" ",n.order.userName,""),l(4),x(" ",(n.order.billingDetails==null?null:n.order.billingDetails.phone)||"Not provided",""),l(4),x(" ",n.order.status,""),l(4),x(" ",H(21,14,n.order.orderDate,"medium"),""),l(5),x(" ",H(26,17,n.order.deliveryDate,"mediumDate"),""),l(5),x(" ",n.order.estimatedDelivery||"N/A",""),l(4),x(" ",n.order.trackingNumber||"N/A",""),l(4),m("ngIf",n.order.shippingDetails)("ngIfElse",e),l(6),m("ngForOf",n.order.items),l(4),x(" \u20B1",n.order.totalPrice,""),l(6),x(" ",n.order.paymentMethod||"Not available",""),l(4),m("ngForOf",n.order.history||Ye(20,Ni))}}var De=class r{constructor(t,e,n){this.route=t;this.orderService=e;this.router=n}orderId="";order;newStatus="Pending";ngOnInit(){this.orderId=this.route.snapshot.paramMap.get("id")||"",this.orderId&&(this.order=this.orderService.getOrderById(this.orderId),this.order&&(this.newStatus=this.order.status,this.order.history||(this.order.history=[]))),this.order||(alert("Order not found."),this.router.navigate(["/admin/orders"]))}updateStatus(){if(this.order){let t={date:new Date().toISOString(),status:this.newStatus,note:`Status changed to ${this.newStatus}`};this.order.history=this.order.history||[],this.order.history.push(t),this.orderService.updateOrderStatus(this.order.orderId,this.newStatus),alert("Order status updated."),this.router.navigate(["/admin/orders"])}}goBack(){this.router.navigate(["/admin/orders"])}filterTruthy(t){return t.filter(e=>!!e)}static \u0275fac=function(e){return new(e||r)(C(xe),C(ne),C(M))};static \u0275cmp=k({type:r,selectors:[["app-admin-order-details"]],decls:1,vars:1,consts:[["billingAddress",""],["class","admin-order-details-container",4,"ngIf"],[1,"admin-order-details-container"],[1,"back-btn",3,"click"],[1,"fas","fa-arrow-left"],[4,"ngIf","ngIfElse"],[1,"order-items"],["class","order-item",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"order-item"]],template:function(e,n){e&1&&_(0,zi,59,21,"div",1),e&2&&m("ngIf",n.order)},dependencies:[P,I,A,fe,N],styles:[`*{font-family:var(--primary-font)}.admin-order-details-container{max-width:700px;width:100%;margin:20px auto;padding:15px;border:1px solid #ccc;border-bottom:1px solid #ccc;background-color:#f9f9f9;border-radius:5px;box-sizing:border-box;overflow:visible}.admin-order-details-container h2{text-align:center;margin-bottom:20px}.admin-order-details-container ul{list-style-type:none;padding:0}.admin-order-details-container li{padding:8px 0;border-bottom:1px solid #eee}.admin-order-details-container select{padding:4px;margin-left:10px}.admin-order-details-container button{padding:8px 14px;background-color:var(--primary-color);border:none;color:#fff;border-radius:5px;font-weight:700;cursor:pointer;display:flex;align-items:center;gap:6px;transition:background-color .3s ease}.admin-order-details-container button:hover{background-color:var(--primary-dark)}.order-items{list-style:none;padding:5px;margin:0;display:flex;flex-direction:column;gap:12px}.order-items li{padding-left:12px}.order-item{background-color:#fdfdfd;padding:12px 16px;border-radius:8px;border:1px solid #ddd;box-shadow:0 2px 6px #0000000d;font-size:15px;color:#444;line-height:1.5}h3{font-size:18px;font-weight:600;margin-top:24px;margin-bottom:12px;color:var(--primary-dark, #333)}textarea{width:100%;min-height:100px;padding:12px 16px;font-size:16px;font-family:inherit;border:1.5px solid #ccc;border-radius:8px;resize:vertical;transition:border-color .3s ease,box-shadow .3s ease;box-sizing:border-box}textarea:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 8px #ffa7264d}button{margin-top:16px}
`],encapsulation:2})};var Wi=[{path:"login",component:Ie},{path:"",component:Pe},{path:"products",component:de},{path:"products/add",component:de},{path:"orders",component:Fe},{path:"orders/:id",component:De},{path:"users",component:Ee},{path:"inventory",component:Te},{path:"categories",component:Ne},{path:"settings",component:Ve}],Le=class r{static \u0275fac=function(e){return new(e||r)};static \u0275mod=pe({type:r});static \u0275inj=me({imports:[K.forChild(Wi),K]})};var ct=class r{static \u0275fac=function(e){return new(e||r)};static \u0275mod=pe({type:r});static \u0275inj=me({imports:[P,N,Le]})};export{ct as AdminModule};
