import{A as F,Aa as q,B as V,Ba as X,C as S,Ca as Z,D as u,E as c,Ea as $e,F as Re,Fa as et,Ga as he,Ha as xe,Ia as be,J as B,K as o,Ka as $,L as x,La as Se,M as v,Ma as tt,N as me,Na as N,O as Qe,Oa as it,P as C,Q as y,R as w,Sa as ee,T as Je,Ua as te,V as ze,Va as nt,W as L,Y as z,Z as We,_ as pe,a as Q,b as oe,ba as Ke,c as je,ca as I,d as le,da as T,ea as Ye,f as D,fa as Xe,g as de,h as Ge,i as g,ia as ue,j as f,k as qe,ka as ge,l as U,la as k,n as l,na as fe,o as b,p as P,pa as A,q as ce,qa as Ze,r as _,sa as J,t as m,ta as _e,ua as j,v as O,va as K,w as He,wa as G,x as i,xa as Y,y as n,ya as Ue,z as p,za as ve}from"./chunk-GGBNVZWR.js";var Ce=class s{notifications=[{id:1,message:"New order received",read:!1},{id:2,message:"Low stock alert: Product XYZ",read:!1}];constructor(){}getNotifications(){return le(this.notifications)}markAsRead(t){let e=this.notifications.find(r=>r.id===t);e&&(e.read=!0)}markAllAsRead(){this.notifications.forEach(t=>t.read=!0)}static \u0275fac=function(e){return new(e||s)};static \u0275prov=D({token:s,factory:s.\u0275fac,providedIn:"root"})};var ie=class s{defaultAdmins=[{email:"scatorccio@gmail.com",password:"antlerqueen",accessLevel:"superadmin"},{email:"taylor@gmail.com",password:"jackiefruit",accessLevel:"admin"},{email:"admin@gmail.com",password:"admin123",accessLevel:"superadmin"}];constructor(){}isLoggedIn(){return!!localStorage.getItem("user")}isAdmin(){return JSON.parse(localStorage.getItem("user")||"{}")?.role==="admin"}getUser(){return JSON.parse(localStorage.getItem("user")||"{}")}logout(){localStorage.removeItem("user")}login(t,e){let r=localStorage.getItem("adminSettings"),a=[];r&&(a=JSON.parse(r).admins||[]);let d=a.find(h=>h.email===t&&h.password===e);return d||(d=this.defaultAdmins.find(h=>h.email===t&&h.password===e)),d?(localStorage.setItem("user",JSON.stringify({email:d.email,role:"admin",accessLevel:d.accessLevel})),!0):!1}static \u0275fac=function(e){return new(e||s)};static \u0275prov=D({token:s,factory:s.\u0275fac,providedIn:"root"})};var ne=class s{storageKey="adminSettings";constructor(){}getStoredSettings(){let t=localStorage.getItem(this.storageKey);return t?JSON.parse(t):{}}getAllSettings(){return this.getStoredSettings()}saveStoredSettings(t){localStorage.setItem(this.storageKey,JSON.stringify(t))}saveProfile(t){let e=this.getStoredSettings();e.profile=t,this.saveStoredSettings(e)}saveStoreConfig(t){let e=this.getStoredSettings();e.storeConfig=t,this.saveStoredSettings(e)}saveShippingDelivery(t){let e=this.getStoredSettings();e.shippingDelivery=t,this.saveStoredSettings(e)}savePaymentSetup(t){let e=this.getStoredSettings();e.paymentSetup=t,this.saveStoredSettings(e)}saveNotifications(t){let e=this.getStoredSettings();e.notifications=t,this.saveStoredSettings(e)}saveSystemPreferences(t){let e=this.getStoredSettings();e.systemPreferences=t,this.saveStoredSettings(e)}getAdmins(){return this.getStoredSettings().admins||[]}getProfilePhoto(){let t=this.getStoredSettings();if(t.profile&&t.profile.profilePhoto){let e=t.profile.profilePhoto;if(typeof e=="string")return e;if(e.name)return e.name}return null}getStoreLogo(){let t=this.getStoredSettings();if(t.storeConfig&&t.storeConfig.storeLogo){let e=t.storeConfig.storeLogo;if(typeof e=="string")return e;if(e.name)return e.name}return null}addAdmin(t,e){let r=this.getStoredSettings();r.admins||(r.admins=[]),r.admins.push({email:t,password:e,accessLevel:"viewer"}),this.saveStoredSettings(r)}removeAdmin(t){let e=this.getStoredSettings();e.admins&&(e.admins=e.admins.filter(r=>r.email!==t),this.saveStoredSettings(e))}updateAdminAccessLevel(t,e){let r=this.getStoredSettings();if(r.admins){let a=r.admins.find(d=>d.email===t);a&&(a.accessLevel=e,this.saveStoredSettings(r))}}updateAdminPassword(t,e){let r=this.getStoredSettings();if(r.admins){let a=r.admins.find(d=>d.email===t);a&&(a.password=e,this.saveStoredSettings(r))}}static \u0275fac=function(e){return new(e||s)};static \u0275prov=D({token:s,factory:s.\u0275fac,providedIn:"root"})};function pt(s,t){if(s&1&&(i(0,"span",15),o(1),n()),s&2){let e=c(2);l(),x(e.unreadCount)}}function ut(s,t){if(s&1){let e=S();i(0,"li",19),u("click",function(){let a=g(e).$implicit,d=c(3);return f(d.markAsRead(a))}),o(1),n()}if(s&2){let e=t.$implicit;O("unread",!e.read),l(),v(" ",e.message," ")}}function gt(s,t){if(s&1){let e=S();i(0,"div",16)(1,"button",17),u("click",function(a){return g(e),c(2).markAllAsRead(),f(a.stopPropagation())}),o(2,"Mark all as read"),n(),i(3,"ul"),_(4,ut,2,3,"li",18),n()()}if(s&2){let e=c(2);l(4),m("ngForOf",e.notifications)}}function ft(s,t){if(s&1){let e=S();i(0,"div",11),u("click",function(){g(e);let a=c();return f(a.toggleNotificationDropdown())}),p(1,"i",12),_(2,pt,2,1,"span",13)(3,gt,5,1,"div",14),n()}if(s&2){let e=c();l(2),m("ngIf",e.unreadCount>0),l(),m("ngIf",e.isNotificationDropdownOpen&&e.notifications.length>0)}}function _t(s,t){if(s&1&&p(0,"img",20),s&2){let e=c();m("src",e.profilePhotoUrl,U)}}function vt(s,t){s&1&&p(0,"i",21)}var ye=class s{constructor(t,e,r,a){this.notificationService=t;this.authService=e;this.router=r;this.adminSettingsService=a}adminName="Admin";showNotifications=!0;notifications=[];isNotificationDropdownOpen=!1;profilePhotoUrl=null;ngOnInit(){this.loadNotifications(),this.profilePhotoUrl=this.adminSettingsService.getProfilePhoto()}loadNotifications(){this.notificationService.getNotifications().subscribe(t=>{this.notifications=t})}get unreadCount(){return this.notifications.filter(t=>!t.read).length}toggleNotificationDropdown(){this.isNotificationDropdownOpen=!this.isNotificationDropdownOpen,this.isNotificationDropdownOpen&&this.markAllAsRead()}markAsRead(t){t.read||(this.notificationService.markAsRead(t.id),t.read=!0)}markAllAsRead(){this.notificationService.markAllAsRead(),this.notifications.forEach(t=>t.read=!0)}logout(){this.authService.logout(),this.router.navigate(["/"])}goToProfileSecurity(){this.router.navigate(["/admin/settings"],{queryParams:{open:"profile"}})}static \u0275fac=function(e){return new(e||s)(b(Ce),b(ie),b(A),b(ne))};static \u0275cmp=P({type:s,selectors:[["app-admin-top-nav"]],decls:15,vars:4,consts:[["defaultIcon",""],[1,"top-nav"],[1,"logo-section"],["src","assets/toolbox.png","alt","Store Logo",1,"store-logo"],[1,"admin-label"],[1,"nav-actions"],["class","notification-bell","tabindex","0","aria-label","Notifications",3,"click",4,"ngIf"],["tabindex","0","aria-label","Admin Profile",1,"profile",3,"click"],["alt","Profile Photo","class","profile-photo",3,"src",4,"ngIf","ngIfElse"],[1,"admin-name"],["aria-label","Logout",1,"logout-btn",3,"click"],["tabindex","0","aria-label","Notifications",1,"notification-bell",3,"click"],[1,"fa-solid","fa-bell","bell-icon"],["class","notification-count",4,"ngIf"],["class","notification-dropdown",4,"ngIf"],[1,"notification-count"],[1,"notification-dropdown"],[1,"mark-all-btn",3,"click"],[3,"unread","click",4,"ngFor","ngForOf"],[3,"click"],["alt","Profile Photo",1,"profile-photo",3,"src"],[1,"fa-solid","fa-user","profile-icon"]],template:function(e,r){if(e&1){let a=S();i(0,"header",1)(1,"div",2),p(2,"img",3),i(3,"span",4),o(4,"Admin Panel"),n()(),i(5,"div",5),_(6,ft,4,2,"div",6),i(7,"div",7),u("click",function(){return g(a),f(r.goToProfileSecurity())}),_(8,_t,1,1,"img",8)(9,vt,1,0,"ng-template",null,0,pe),i(11,"span",9),o(12),n(),i(13,"button",10),u("click",function(h){return g(a),r.logout(),f(h.stopPropagation())}),o(14,"Logout"),n()()()()}if(e&2){let a=B(10);l(6),m("ngIf",r.showNotifications),l(2),m("ngIf",r.profilePhotoUrl)("ngIfElse",a),l(4),x(r.adminName)}},dependencies:[k,I,T],styles:[".top-nav[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background-color:var(--primary-dark);font-family:var(--primary-font);color:var(--white);padding:10px 20px}.logo-section[_ngcontent-%COMP%]{display:flex;align-items:center}.store-logo[_ngcontent-%COMP%]{height:40px;margin-right:10px}.admin-label[_ngcontent-%COMP%]{font-size:1.2em;font-weight:700}.nav-actions[_ngcontent-%COMP%]{display:flex;align-items:center}.notification-bell[_ngcontent-%COMP%]{position:relative;cursor:pointer;margin-right:20px}.bell-icon[_ngcontent-%COMP%]{font-size:1.5em;color:#fff}.notification-count[_ngcontent-%COMP%]{position:absolute;top:-5px;right:-10px;background-color:red;color:#fff;font-size:.75em;padding:2px 6px;border-radius:50%;font-weight:700}.notification-dropdown[_ngcontent-%COMP%]{position:absolute;right:0;top:30px;background-color:#fff;color:#000;width:300px;max-height:400px;overflow-y:auto;box-shadow:0 2px 8px #0000004d;border-radius:4px;z-index:1000}.notification-dropdown[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0}.notification-dropdown[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px;border-bottom:1px solid #ddd;cursor:pointer}.notification-dropdown[_ngcontent-%COMP%]   li.unread[_ngcontent-%COMP%]{font-weight:700;background-color:#f0f8ff}.notification-dropdown[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#e6f7ff}.mark-all-btn[_ngcontent-%COMP%]{display:block;width:100%;padding:8px 10px;background-color:#3498db;color:#fff;border:none;cursor:pointer;font-weight:700;border-radius:0 0 4px 4px;text-align:center}.mark-all-btn[_ngcontent-%COMP%]:hover{background-color:#2980b9}.profile[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer}.profile-photo[_ngcontent-%COMP%]{height:32px;width:32px;border-radius:50%;margin-right:8px}.profile-icon[_ngcontent-%COMP%]{font-size:1.5em;margin-right:8px}.admin-name[_ngcontent-%COMP%]{margin-right:10px;font-weight:700}.logout-btn[_ngcontent-%COMP%]{background-color:transparent;border:none;color:#fff;cursor:pointer;font-weight:700;font-family:var(--primary-font)}.logout-btn[_ngcontent-%COMP%]:hover{text-decoration:underline}"]})};function ht(s,t){if(s&1&&(i(0,"span",9),o(1),n()),s&2){let e=c().$implicit;l(),x(e.title)}}function xt(s,t){if(s&1&&(i(0,"li")(1,"a",12),o(2),n()()),s&2){let e=t.$implicit;l(),m("routerLink",e.route),l(),x(e.label)}}function bt(s,t){if(s&1&&(i(0,"ul",10),_(1,xt,3,2,"li",11),n()),s&2){let e=c().$implicit;l(),m("ngForOf",e.links)}}function St(s,t){if(s&1&&(i(0,"li",5)(1,"div",6),p(2,"i"),_(3,ht,2,1,"span",7),n(),_(4,bt,2,1,"ul",8),n()),s&2){let e=t.$implicit,r=c();l(2),He(e.icon),l(),m("ngIf",!r.isCollapsed),l(),m("ngIf",!r.isCollapsed)}}var we=class s{isCollapsed=!1;sidebarToggle=new qe;toggleSidebar(){this.isCollapsed=!this.isCollapsed,this.sidebarToggle.emit(this.isCollapsed)}menuSections=[{title:"Orders",icon:"fa-solid fa-receipt",links:[{label:"View All Orders",route:"/admin/orders"}]},{title:"Products",icon:"fa-solid fa-box",links:[{label:"Product List",route:"/admin/products"}]},{title:"Customers",icon:"fa-solid fa-users",links:[{label:"View Registered Users",route:"/admin/users"}]},{title:"Inventory Management",icon:"fa-solid fa-toolbox",links:[{label:"Stock Levels",route:"/admin/inventory"}]},{title:"Categories Management",icon:"fa-solid fa-tags",links:[{label:"Manage Categories",route:"/admin/categories"}]},{title:"Promotions & Coupons",icon:"fa-solid fa-bullhorn",links:[{label:"Manage Promotions",route:"/admin/promotions"}]},{title:"Admin Settings",icon:"fa-solid fa-shield-alt",links:[{label:"Settings",route:"/admin/settings"}]}];static \u0275fac=function(e){return new(e||s)};static \u0275cmp=P({type:s,selectors:[["app-admin-sidebar"]],outputs:{sidebarToggle:"sidebarToggle"},decls:5,vars:3,consts:[[1,"sidebar"],["aria-label","Toggle Sidebar",1,"toggle-btn",3,"click"],[1,"fa-solid","fa-bars"],[1,"menu-sections"],["class","menu-section",4,"ngFor","ngForOf"],[1,"menu-section"],[1,"section-title"],["class","section-label",4,"ngIf"],["class","section-links",4,"ngIf"],[1,"section-label"],[1,"section-links"],[4,"ngFor","ngForOf"],[3,"routerLink"]],template:function(e,r){e&1&&(i(0,"nav",0)(1,"button",1),u("click",function(){return r.toggleSidebar()}),p(2,"i",2),n(),i(3,"ul",3),_(4,St,5,4,"li",4),n()()),e&2&&(O("collapsed",r.isCollapsed),l(4),m("ngForOf",r.menuSections))},dependencies:[J,Ze,k,I,T],styles:[".sidebar[_ngcontent-%COMP%]{width:250px;background-color:var(--primary-dark);color:var(--white);height:100vh;position:fixed;top:0;left:0;overflow-y:auto;transition:width .3s ease;font-family:var(--primary-font);padding-top:60px;box-sizing:border-box;z-index:999}.sidebar.collapsed[_ngcontent-%COMP%]{width:60px}.toggle-btn[_ngcontent-%COMP%]{position:fixed;top:10px;left:10px;background-color:var(--primary-color);border:none;color:var(--white);font-size:1.5rem;padding:5px 10px;cursor:pointer;border-radius:5px;z-index:1000}.menu-sections[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.menu-section[_ngcontent-%COMP%]{margin-bottom:20px}.section-title[_ngcontent-%COMP%]{display:flex;align-items:center;padding:10px 20px;font-weight:600;font-size:1rem;cursor:default;gap:12px}.section-icon[_ngcontent-%COMP%]{margin-right:0;font-size:1.3rem;display:flex;align-items:center}.section-links[_ngcontent-%COMP%]{list-style:none;padding-left:30px;margin-top:5px}.section-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px}.section-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--white);text-decoration:none;font-size:.9rem;display:block;padding:5px 10px;border-radius:5px;transition:background-color .2s ease}.section-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:var(--primary-color)}@media (max-width: 768px){.sidebar[_ngcontent-%COMP%]{position:fixed;height:100%;z-index:1000;width:60px}.sidebar.collapsed[_ngcontent-%COMP%]{width:0}.toggle-btn[_ngcontent-%COMP%]{top:10px;left:10px}}"]})};var re=class s{constructor(){}getRegisteredUsers(){let t=JSON.parse(localStorage.getItem("users")||"[]");console.log("Users data from localStorage:",t);let e=t.map((r,a)=>({id:a+1,name:r.username||r.name||r.email||"",email:r.email||""}));return le(e)}static \u0275fac=function(e){return new(e||s)};static \u0275prov=D({token:s,factory:s.\u0275fac,providedIn:"root"})};var Pe=class s{constructor(t,e,r,a){this.router=t;this.productService=e;this.orderService=r;this.userListService=a}sidebarCollapsed=!1;totalProducts=0;totalSalesThisMonth=0;newOrdersToday=0;lowStockAlerts=0;newUsers=0;subscriptions=new je;ngOnInit(){this.loadDashboardData()}onSidebarToggle(t){this.sidebarCollapsed=t}loadDashboardData(){let t=this.productService.getProducts();this.totalProducts=t.length,this.lowStockAlerts=t.filter(h=>h.stock!==void 0&&h.stock<=5).length;let e=this.orderService.getOrders(),r=new Date,a=new Date(r.getFullYear(),r.getMonth(),1),d=new Date(r.getFullYear(),r.getMonth(),r.getDate());this.totalSalesThisMonth=e.filter(h=>{let E=new Date(h.orderDate);return E>=a&&E<=r}).reduce((h,E)=>h+E.totalPrice,0),this.newOrdersToday=e.filter(h=>{let E=new Date(h.orderDate);return E>=d&&E<=r}).length,this.subscriptions.add(this.userListService.getRegisteredUsers().subscribe(h=>{this.newUsers=h.length}))}navigateToSection(t){switch(console.log("navigateToSection called with section:",t),t){case"products":this.router.navigate(["admin","products"]);break;case"sales":this.router.navigate(["admin","orders"]);break;case"orders":this.router.navigate(["admin","orders"]);break;case"stock":this.router.navigate(["admin","inventory"]);break;case"users":this.router.navigate(["admin","users"]);break;default:this.router.navigate(["admin"]);break}}ngOnDestroy(){this.subscriptions.unsubscribe()}static \u0275fac=function(e){return new(e||s)(b(A),b(te),b(ee),b(re))};static \u0275cmp=P({type:s,selectors:[["app-dashboard"]],decls:43,vars:10,consts:[[1,"dashboard-container"],[3,"sidebarToggle"],[1,"dashboard-main"],[1,"summary-cards"],["tabindex","0","role","button","aria-label","Total Products",1,"summary-card",3,"click"],[1,"fa-solid","fa-box"],[1,"summary-info"],[1,"summary-number"],[1,"summary-label"],["tabindex","0","role","button","aria-label","Total Sales This Month",1,"summary-card",3,"click"],[1,"fa-solid","fa-chart-line"],["tabindex","0","role","button","aria-label","New Orders Today",1,"summary-card",3,"click"],[1,"fa-solid","fa-receipt"],["tabindex","0","role","button","aria-label","Low Stock Alerts",1,"summary-card",3,"click"],[1,"fa-solid","fa-bell"],["tabindex","0","role","button","aria-label","New Users",1,"summary-card",3,"click"],[1,"fa-solid","fa-users"]],template:function(e,r){e&1&&(i(0,"div",0),p(1,"app-admin-top-nav"),i(2,"app-admin-sidebar",1),u("sidebarToggle",function(d){return r.onSidebarToggle(d)}),n(),i(3,"main",2)(4,"h1"),o(5,"Dashboard Summary"),n(),i(6,"div",3)(7,"div",4),u("click",function(){return r.navigateToSection("products")}),p(8,"i",5),i(9,"div",6)(10,"span",7),o(11),n(),i(12,"span",8),o(13,"Total Products"),n()()(),i(14,"div",9),u("click",function(){return r.navigateToSection("sales")}),p(15,"i",10),i(16,"div",6)(17,"span",7),o(18),L(19,"currency"),n(),i(20,"span",8),o(21,"Total Sales This Month"),n()()(),i(22,"div",11),u("click",function(){return r.navigateToSection("orders")}),p(23,"i",12),i(24,"div",6)(25,"span",7),o(26),n(),i(27,"span",8),o(28,"New Orders Today"),n()()(),i(29,"div",13),u("click",function(){return r.navigateToSection("stock")}),p(30,"i",14),i(31,"div",6)(32,"span",7),o(33),n(),i(34,"span",8),o(35,"Low Stock Alerts"),n()()(),i(36,"div",15),u("click",function(){return r.navigateToSection("users")}),p(37,"i",16),i(38,"div",6)(39,"span",7),o(40),n(),i(41,"span",8),o(42,"New Users"),n()()()()()()),e&2&&(O("sidebar-collapsed",r.sidebarCollapsed),l(11),x(r.totalProducts),l(7),x(z(19,7,r.totalSalesThisMonth,"PHP")),l(8),x(r.newOrdersToday),l(7),x(r.lowStockAlerts),l(7),x(r.newUsers))},dependencies:[k,ge,ye,we,J],styles:[".dashboard-container[_ngcontent-%COMP%]{display:flex;height:100vh;flex-direction:column}app-admin-top-nav[_ngcontent-%COMP%]{flex-shrink:0}.dashboard-main[_ngcontent-%COMP%]{flex-grow:1;padding:1rem;padding-top:60px;transition:margin-left .3s ease;margin-left:250px}.sidebar-collapsed[_ngcontent-%COMP%]   .dashboard-main[_ngcontent-%COMP%]{margin-left:60px}.summary-cards[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1rem;margin-top:1rem}.summary-card[_ngcontent-%COMP%]{background-color:var(--accent-color);color:var(--white);flex:1 1 180px;display:flex;align-items:center;padding:1rem;border-radius:8px;box-shadow:0 2px 6px #0003;cursor:pointer}.summary-card[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2.5rem;margin-right:1rem;color:var(--primary-color)}.summary-info[_ngcontent-%COMP%]{display:flex;flex-direction:column}.summary-number[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700}.summary-label[_ngcontent-%COMP%]{font-size:1rem;opacity:.8}@media (max-width: 768px){.dashboard-main[_ngcontent-%COMP%]{margin-left:0!important;padding:1rem .5rem}.summary-cards[_ngcontent-%COMP%]{flex-direction:column}}"]})};var ke=class s{constructor(t){this.productService=t}searchProducts(t){return this.productService.searchProducts(t)}getProductsByCategory(t){return t.trim()?this.productService.getProductsByCategory(t):this.productService.getProducts()}createProduct(t){let e=this.productService.getProducts();return e.push(t),this.productService.updateProducts(e),t}updateProduct(t){let e=this.productService.getProducts(),r=e.findIndex(a=>a.id===t.id);return r===-1?!1:(e[r]=oe(Q({},t),{lastUpdated:new Date}),this.productService.updateProducts(e),!0)}deleteProduct(t){let e=this.productService.getProducts(),r=e.findIndex(a=>a.id===t);return r===-1?!1:(e.splice(r,1),this.productService.updateProducts(e),!0)}bulkDelete(t){let e=0,r=this.productService.getProducts();return t.forEach(a=>{let d=r.findIndex(h=>h.id===a);d!==-1&&(r.splice(d,1),e++)}),this.productService.updateProducts(r),e}bulkStatusChange(t,e){let r=0,a=this.productService.getProducts();return t.forEach(d=>{let h=a.find(E=>E.id===d);h&&(h.status=e,h.lastUpdated=new Date,r++)}),this.productService.updateProducts(a),r}bulkCategoryMove(t,e){let r=0,a=this.productService.getProducts();return t.forEach(d=>{let h=a.find(E=>E.id===d);h&&(h.category=e,h.lastUpdated=new Date,r++)}),this.productService.updateProducts(a),r}static \u0275fac=function(e){return new(e||s)(Ge(te))};static \u0275prov=D({token:s,factory:s.\u0275fac,providedIn:"root"})};var Me=class s{productDetailsMap=new Map;constructor(){}getProductDetails(t){return this.productDetailsMap.get(t)}setProductDetails(t,e,r){this.productDetailsMap.set(t,{detailsText:e,detailsList:r})}static \u0275fac=function(e){return new(e||s)};static \u0275prov=D({token:s,factory:s.\u0275fac,providedIn:"root"})};function wt(s,t){if(s&1&&(i(0,"option",28),o(1),n()),s&2){let e=t.$implicit,r=t.index,a=c();m("value",a.categoryValues[r]),l(),x(e)}}function Pt(s,t){if(s&1&&(i(0,"option",28),o(1),n()),s&2){let e=t.$implicit,r=t.index,a=c(2);m("value",a.categoryValues[r]),l(),x(e)}}function kt(s,t){if(s&1){let e=S();i(0,"div",29)(1,"button",30),u("click",function(){g(e);let a=c();return f(a.deleteSelected())}),p(2,"i",31),o(3," Delete Selected"),n(),i(4,"button",7),u("click",function(){g(e);let a=c();return f(a.changeStatusSelected(!0))}),p(5,"i",32),o(6," Activate Selected"),n(),i(7,"button",7),u("click",function(){g(e);let a=c();return f(a.changeStatusSelected(!1))}),p(8,"i",33),o(9," Deactivate Selected"),n(),i(10,"select",34,0)(12,"option",35),o(13,"Move to Category"),n(),_(14,Pt,2,2,"option",12),n(),i(15,"button",7),u("click",function(){g(e);let a=B(11),d=c();return f(d.moveCategorySelected(a.value))}),o(16,"Move"),n()()}if(s&2){let e=c();l(14),m("ngForOf",e.categories)}}function Mt(s,t){s&1&&(i(0,"span",50),p(1,"i",51),o(2," Out of Stock"),n())}function Et(s,t){if(s&1){let e=S();i(0,"tr")(1,"td")(2,"input",37),u("change",function(){let a=g(e).$implicit,d=c(2);return f(d.toggleSelectProduct(a.id))}),n()(),i(3,"td"),p(4,"img",40),n(),i(5,"td"),o(6),n(),i(7,"td"),o(8),n(),i(9,"td"),o(10),n(),i(11,"td"),o(12),L(13,"currency"),n(),i(14,"td"),o(15),n(),i(16,"td")(17,"select",41),w("ngModelChange",function(a){let d=g(e).$implicit;return y(d.status,a)||(d.status=a),f(a)}),u("change",function(){let a=g(e).$implicit,d=c(2);return f(d.onStatusChange(a))}),i(18,"option",42),o(19,"Active"),n(),i(20,"option",42),o(21,"Inactive"),n(),i(22,"option",42),o(23,"Out of Stock"),n()()(),i(24,"td"),o(25),L(26,"date"),n(),i(27,"td")(28,"select",43),w("ngModelChange",function(a){let d=g(e).$implicit;return y(d.badgeSelection,a)||(d.badgeSelection=a),f(a)}),u("change",function(){let a=g(e).$implicit,d=c(2);return f(d.onBadgeChange(a))}),i(29,"option",44),o(30,"None"),n(),i(31,"option",45),o(32,"New"),n(),i(33,"option",46),o(34,"Promo"),n(),i(35,"option",47),o(36,"Trending"),n()(),_(37,Mt,3,0,"span",48),n(),i(38,"td")(39,"button",7),u("click",function(){let a=g(e).$implicit,d=c(2);return f(d.editProduct(a))}),p(40,"i",49),o(41," Edit"),n()()()}if(s&2){let e=t.$implicit,r=c(2);l(2),m("checked",r.isSelected(e.id)),l(2),Re("alt",e.name),m("src",e.image,U),l(2),x(e.sku),l(2),x(e.name),l(2),x(e.category),l(2),x(We(13,17,e.price,"PHP","symbol","1.2-2")),l(2),O("low-stock",e.stock<=5),l(),x(e.stock),l(2),C("ngModel",e.status),l(),m("ngValue",!0),l(2),m("ngValue",!1),l(2),m("ngValue",null),l(3),x(z(26,22,e.lastUpdated,"mediumDate")),l(3),C("ngModel",e.badgeSelection),l(9),m("ngIf",e.stock===0)}}function Ot(s,t){if(s&1){let e=S();i(0,"table",36)(1,"thead")(2,"tr")(3,"th")(4,"input",37),u("change",function(a){g(e);let d=c();return f(d.selectAll(a.target.checked))}),n()(),i(5,"th"),o(6,"Image"),n(),i(7,"th",38),u("click",function(){g(e);let a=c();return f(a.changeSort("sku"))}),o(8,"SKU"),n(),i(9,"th",38),u("click",function(){g(e);let a=c();return f(a.changeSort("name"))}),o(10,"Name"),n(),i(11,"th",38),u("click",function(){g(e);let a=c();return f(a.changeSort("category"))}),o(12,"Category"),n(),i(13,"th",38),u("click",function(){g(e);let a=c();return f(a.changeSort("price"))}),o(14,"Price"),n(),i(15,"th",38),u("click",function(){g(e);let a=c();return f(a.changeSort("stock"))}),o(16,"Stock"),n(),i(17,"th"),o(18,"Status"),n(),i(19,"th",38),u("click",function(){g(e);let a=c();return f(a.changeSort("lastUpdated"))}),o(20,"Last Updated"),n(),i(21,"th"),o(22,"Badges"),n(),i(23,"th"),o(24,"Edit"),n()()(),i(25,"tbody"),_(26,Et,42,25,"tr",39),n()()}if(s&2){let e=c();l(4),m("checked",e.areAllSelected()),l(22),m("ngForOf",e.pagedProducts)}}function It(s,t){s&1&&(i(0,"span",59),o(1,"New"),n())}function At(s,t){s&1&&(i(0,"span",50),o(1,"Out of Stock"),n())}function Tt(s,t){s&1&&(i(0,"span",60),o(1,"Promo"),n())}function Nt(s,t){if(s&1){let e=S();i(0,"div",54),p(1,"img",40),i(2,"div",55)(3,"h3"),o(4),n(),i(5,"p")(6,"strong"),o(7,"SKU:"),n(),o(8),n(),i(9,"p")(10,"strong"),o(11,"Category:"),n(),o(12),n(),i(13,"p")(14,"strong"),o(15,"Price:"),n(),o(16),L(17,"currency"),n(),i(18,"p")(19,"strong"),o(20,"Stock:"),n(),o(21),n(),i(22,"p")(23,"strong"),o(24,"Status:"),n(),i(25,"span"),o(26),n()(),i(27,"p")(28,"strong"),o(29,"Last Updated:"),n(),o(30),L(31,"date"),n(),i(32,"div",56),_(33,It,2,0,"span",57)(34,At,2,0,"span",48)(35,Tt,2,0,"span",58),n(),i(36,"button",7),u("click",function(){let a=g(e).$implicit,d=c(2);return f(d.editProduct(a))}),o(37,"\u270F\uFE0F Edit"),n()()()}if(s&2){let e=t.$implicit;l(),Re("alt",e.name),m("src",e.image,U),l(3),x(e.name),l(4),v(" ",e.sku,""),l(4),v(" ",e.category,""),l(4),v(" ",We(17,18,e.price,"PHP","symbol","1.2-2"),""),l(2),O("low-stock",e.stock<=5),l(3),v(" ",e.stock,""),l(4),O("active-status",e.status)("inactive-status",!e.status),l(),v(" ",e.status?"Active":"Inactive"," "),l(4),v(" ",z(31,23,e.lastUpdated,"mediumDate"),""),l(3),m("ngIf",e.isNew),l(),m("ngIf",e.stock===0),l(),m("ngIf",e.isPromo)}}function Ft(s,t){if(s&1&&(i(0,"div",52),_(1,Nt,38,26,"div",53),n()),s&2){let e=c();l(),m("ngForOf",e.pagedProducts)}}function Vt(s,t){if(s&1&&(i(0,"option",28),o(1),n()),s&2){let e=t.$implicit,r=t.index,a=c(2);m("value",a.categoryValues[r]),l(),x(e)}}function Dt(s,t){if(s&1){let e=S();i(0,"div",61),u("click",function(){g(e);let a=c();return f(a.cancelEdit())}),i(1,"div",62),u("click",function(a){return g(e),f(a.stopPropagation())}),i(2,"h2"),o(3),n(),i(4,"form",63),u("ngSubmit",function(){g(e);let a=c();return f(a.saveProduct())}),i(5,"label"),o(6," SKU: "),i(7,"input",64),w("ngModelChange",function(a){g(e);let d=c();return y(d.productForm.sku,a)||(d.productForm.sku=a),f(a)}),n()(),i(8,"label"),o(9," Name: "),i(10,"input",65),w("ngModelChange",function(a){g(e);let d=c();return y(d.productForm.name,a)||(d.productForm.name=a),f(a)}),n()(),i(11,"label"),o(12," Description: "),i(13,"textarea",66),w("ngModelChange",function(a){g(e);let d=c();return y(d.productForm.description,a)||(d.productForm.description=a),f(a)}),n()(),i(14,"label"),o(15," Price: "),i(16,"input",67),w("ngModelChange",function(a){g(e);let d=c();return y(d.productForm.price,a)||(d.productForm.price=a),f(a)}),n()(),i(17,"label"),o(18," Category: "),i(19,"select",68),w("ngModelChange",function(a){g(e);let d=c();return y(d.productForm.category,a)||(d.productForm.category=a),f(a)}),i(20,"option",69),o(21,"Select category"),n(),_(22,Vt,2,2,"option",12),n()(),i(23,"label"),o(24," Image URL: "),i(25,"input",70),w("ngModelChange",function(a){g(e);let d=c();return y(d.productForm.image,a)||(d.productForm.image=a),f(a)}),n()(),i(26,"label"),o(27," Stock: "),i(28,"input",71),w("ngModelChange",function(a){g(e);let d=c();return y(d.productForm.stock,a)||(d.productForm.stock=a),f(a)}),n()(),i(29,"label"),o(30," Status: "),i(31,"input",72),w("ngModelChange",function(a){g(e);let d=c();return y(d.productForm.status,a)||(d.productForm.status=a),f(a)}),n()(),i(32,"label"),o(33," New Product: "),i(34,"input",73),w("ngModelChange",function(a){g(e);let d=c();return y(d.productForm.isNew,a)||(d.productForm.isNew=a),f(a)}),n()(),i(35,"label"),o(36," Promotional Product: "),i(37,"input",74),w("ngModelChange",function(a){g(e);let d=c();return y(d.productForm.isPromo,a)||(d.productForm.isPromo=a),f(a)}),n()(),i(38,"div",75)(39,"button",76),o(40),n(),i(41,"button",77),u("click",function(){g(e);let a=c();return f(a.cancelEdit())}),o(42,"Cancel"),n()()()()()}if(s&2){let e=c();l(3),x(e.isEditMode?"Edit Product":"Add New Product"),l(4),C("ngModel",e.productForm.sku),l(3),C("ngModel",e.productForm.name),l(3),C("ngModel",e.productForm.description),l(3),C("ngModel",e.productForm.price),l(3),C("ngModel",e.productForm.category),l(3),m("ngForOf",e.categories),l(3),C("ngModel",e.productForm.image),l(3),C("ngModel",e.productForm.stock),l(3),C("ngModel",e.productForm.status),l(3),C("ngModel",e.productForm.isNew),l(3),C("ngModel",e.productForm.isPromo),l(3),x(e.isEditMode?"Save Changes":"Add Product")}}var ae=class s{constructor(t,e,r){this.adminProductService=t;this.adminProductDetailsService=e;this.router=r}products=[];filteredProducts=[];searchQuery="";filterCategory="";filterStatus="";selectedProductIds=new Set;currentPage=1;pageSize=10;totalPages=1;sortColumn="name";sortDirection="asc";categories=this.getCategories();categoryValues=this.categories.map(t=>t.toLowerCase().replace(/ /g,"-"));showProductForm=!1;isEditMode=!1;productForm={id:0,sku:"",name:"",description:"",price:0,category:"",image:"",stock:0,status:!0,lastUpdated:new Date,isNew:!1,isPromo:!1};badgeSelection="none";openModal(){this.showProductForm=!0}onBadgeChange(t){t.badgeSelection==="new"?(t.isNew=!0,t.isPromo=!1):t.badgeSelection==="promo"?(t.isNew=!1,t.isPromo=!0):(t.isNew=!1,t.isPromo=!1),this.adminProductService.updateProduct(t),this.loadProducts()}addNewProduct(){this.isEditMode=!1,this.productForm={id:0,sku:"",name:"",description:"",price:0,category:"",image:"",stock:0,status:!0,lastUpdated:new Date,isNew:!1,isPromo:!1},this.badgeSelection="none",this.openModal()}editProduct(t){this.isEditMode=!0,this.productForm=Q({},t),t.isNew?this.badgeSelection="new":t.isPromo?this.badgeSelection="promo":this.badgeSelection="none",this.openModal()}saveProduct(){this.productForm.isNew=this.badgeSelection==="new",this.productForm.isPromo=this.badgeSelection==="promo",this.isEditMode?this.adminProductService.updateProduct(this.productForm):this.adminProductService.createProduct(this.productForm),this.showProductForm=!1,this.loadProducts()}cancelEdit(){this.showProductForm=!1}ngOnInit(){this.loadProducts()}back(){this.router.navigate(["/admin"])}getCategories(){return["Power Tools","Hand Tools","Electrical Materials","Building Materials","Gardening Tools","Paint & Supplies","Plumbing Supplies","Safety Tools"]}loadProducts(){this.products=this.adminProductService.getProductsByCategory(this.filterCategory),this.applyFilters()}applyFilters(){let t=this.products;this.searchQuery.trim()&&(t=t.filter(e=>e.name.toLowerCase().includes(this.searchQuery.toLowerCase())||e.sku.toLowerCase().includes(this.searchQuery.toLowerCase())||e.category.toLowerCase().includes(this.searchQuery.toLowerCase()))),this.filterStatus&&(t=t.filter(e=>this.filterStatus==="active"?e.status===!0:this.filterStatus==="inactive"?e.status===!1:this.filterStatus==="out-of-stock"?e.stock===0:!0)),this.filteredProducts=this.sortProducts(t),this.totalPages=Math.ceil(this.filteredProducts.length/this.pageSize),this.currentPage=1}sortProducts(t){return t.sort((e,r)=>{let a=e[this.sortColumn],d=r[this.sortColumn];return a==null?1:d==null?-1:a===d?0:this.sortDirection==="asc"?a>d?1:-1:a<d?1:-1})}changeSort(t){this.sortColumn===t?this.sortDirection=this.sortDirection==="asc"?"desc":"asc":(this.sortColumn=t,this.sortDirection="asc"),this.applyFilters()}isMobileView(){return window.innerWidth<=768}toggleSelectProduct(t){this.selectedProductIds.has(t)?this.selectedProductIds.delete(t):this.selectedProductIds.add(t)}isSelected(t){return this.selectedProductIds.has(t)}selectAll(t){t?this.filteredProducts.forEach(e=>this.selectedProductIds.add(e.id)):this.selectedProductIds.clear()}deselectAll(){this.selectedProductIds.clear()}areAllSelected(){return this.filteredProducts.length>0&&this.filteredProducts.every(t=>this.selectedProductIds.has(t.id))}deleteSelected(){let t=Array.from(this.selectedProductIds);this.adminProductService.bulkDelete(t),this.selectedProductIds.clear(),this.loadProducts()}changeStatusSelected(t){let e=Array.from(this.selectedProductIds);this.adminProductService.bulkStatusChange(e,t),this.loadProducts()}moveCategorySelected(t){let e=Array.from(this.selectedProductIds);this.adminProductService.bulkCategoryMove(e,t),this.loadProducts()}get pagedProducts(){let t=(this.currentPage-1)*this.pageSize;return this.filteredProducts.slice(t,t+this.pageSize)}goToPage(t){t<1||t>this.totalPages||(this.currentPage=t)}onStatusChange(t){t.status===null?(t.status=!1,t.stock=0):t.status===!0?t.stock===0&&(t.stock=1):t.status,this.adminProductService.updateProduct(t),this.loadProducts()}static \u0275fac=function(e){return new(e||s)(b(ke),b(Me),b(A))};static \u0275cmp=P({type:s,selectors:[["app-products"]],decls:50,vars:14,consts:[["categorySelect",""],[1,"page-container"],[1,"top-nav"],[1,"btn","btn-primary","back-btn",3,"click"],[1,"fas","fa-arrow-left"],[1,"fas","fa-box"],[1,"actions"],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-plus"],["type","text","placeholder","Search: Name or SKU",1,"search-input",3,"ngModelChange","input","ngModel"],[1,"filter-select",3,"ngModelChange","change","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["value","active"],["value","inactive"],["value","out-of-stock"],["value","name"],["value","price"],["value","stock"],["value","lastUpdated"],["value","asc"],["value","desc"],["class","bulk-actions",4,"ngIf"],["class","product-table",4,"ngIf"],["class","mobile-card",4,"ngIf"],[1,"pagination"],[1,"btn",3,"click","disabled"],["class","modal",3,"click",4,"ngIf"],[3,"value"],[1,"bulk-actions"],[1,"btn","btn-danger",3,"click"],[1,"fas","fa-trash"],[1,"fas","fa-check-circle"],[1,"fas","fa-times-circle"],[1,"filter-select"],["value","","disabled","","selected",""],[1,"product-table"],["type","checkbox",3,"change","checked"],[3,"click"],[4,"ngFor","ngForOf"],[1,"product-image",3,"src","alt"],[1,"status-select",3,"ngModelChange","change","ngModel"],[3,"ngValue"],[1,"badge-dropdown",3,"ngModelChange","change","ngModel"],["value","none"],["value","new"],["value","promo"],["value","trending"],["class","badge out-of-stock-badge",4,"ngIf"],[1,"fas","fa-edit"],[1,"badge","out-of-stock-badge"],[1,"fas","fa-ban"],[1,"mobile-card"],["class","product-card",4,"ngFor","ngForOf"],[1,"product-card"],[1,"product-info"],[1,"badges"],["class","badge new-badge",4,"ngIf"],["class","badge promo-badge",4,"ngIf"],[1,"badge","new-badge"],[1,"badge","promo-badge"],[1,"modal",3,"click"],[1,"modal-content",3,"click"],[3,"ngSubmit"],["type","text","name","sku","required","",3,"ngModelChange","ngModel"],["type","text","name","name","required","",3,"ngModelChange","ngModel"],["name","description","required","",3,"ngModelChange","ngModel"],["type","number","name","price","required","","min","0","step","0.01",3,"ngModelChange","ngModel"],["name","category","required","",3,"ngModelChange","ngModel"],["value","","disabled",""],["type","text","name","image",3,"ngModelChange","ngModel"],["type","number","name","stock","required","","min","0",3,"ngModelChange","ngModel"],["type","checkbox","name","status",3,"ngModelChange","ngModel"],["type","checkbox","name","isNew",3,"ngModelChange","ngModel"],["type","checkbox","name","isPromo",3,"ngModelChange","ngModel"],[1,"form-actions"],["type","submit",1,"btn","btn-primary"],["type","button",1,"btn",3,"click"]],template:function(e,r){e&1&&(i(0,"div",1)(1,"div",2)(2,"button",3),u("click",function(){return r.back()}),p(3,"i",4),n(),i(4,"h1"),p(5,"i",5),o(6," Product List"),n(),i(7,"div",6)(8,"button",7),u("click",function(){return r.addNewProduct()}),p(9,"i",8),o(10," Add Product"),n(),i(11,"input",9),w("ngModelChange",function(d){return y(r.searchQuery,d)||(r.searchQuery=d),d}),u("input",function(){return r.applyFilters()}),n(),i(12,"select",10),w("ngModelChange",function(d){return y(r.filterCategory,d)||(r.filterCategory=d),d}),u("change",function(){return r.applyFilters()}),i(13,"option",11),o(14,"All Categories"),n(),_(15,wt,2,2,"option",12),n(),i(16,"select",10),w("ngModelChange",function(d){return y(r.filterStatus,d)||(r.filterStatus=d),d}),u("change",function(){return r.applyFilters()}),i(17,"option",11),o(18,"All Statuses"),n(),i(19,"option",13),o(20,"Active"),n(),i(21,"option",14),o(22,"Inactive"),n(),i(23,"option",15),o(24,"Out of Stock"),n()(),i(25,"select",10),w("ngModelChange",function(d){return y(r.sortColumn,d)||(r.sortColumn=d),d}),u("change",function(){return r.applyFilters()}),i(26,"option",16),o(27,"Sort by Name"),n(),i(28,"option",17),o(29,"Sort by Price"),n(),i(30,"option",18),o(31,"Sort by Stock"),n(),i(32,"option",19),o(33,"Sort by Last Updated"),n()(),i(34,"select",10),w("ngModelChange",function(d){return y(r.sortDirection,d)||(r.sortDirection=d),d}),u("change",function(){return r.applyFilters()}),i(35,"option",20),o(36,"Ascending"),n(),i(37,"option",21),o(38,"Descending"),n()()()(),_(39,kt,17,1,"div",22)(40,Ot,27,2,"table",23),n(),_(41,Ft,2,1,"div",24),i(42,"div",25)(43,"button",26),u("click",function(){return r.goToPage(r.currentPage-1)}),o(44,"Previous"),n(),i(45,"span"),o(46),n(),i(47,"button",26),u("click",function(){return r.goToPage(r.currentPage+1)}),o(48,"Next"),n()(),_(49,Dt,43,13,"div",27)),e&2&&(l(11),C("ngModel",r.searchQuery),l(),C("ngModel",r.filterCategory),l(3),m("ngForOf",r.categories),l(),C("ngModel",r.filterStatus),l(9),C("ngModel",r.sortColumn),l(9),C("ngModel",r.sortDirection),l(5),m("ngIf",r.selectedProductIds.size>0),l(),m("ngIf",!r.isMobileView()),l(),m("ngIf",r.isMobileView()),l(2),m("disabled",r.currentPage===1),l(3),me("Page ",r.currentPage," of ",r.totalPages,""),l(),m("disabled",r.currentPage===r.totalPages),l(2),m("ngIf",r.showProductForm))},dependencies:[k,I,T,ge,ue,N,X,xe,be,j,Z,_e,he,G,Y,Se,$,q,ve],styles:[`*{font-family:var(--primary-font)}.page-container{padding:1rem 2rem;max-width:1200px;margin:0 auto}.top-nav{display:flex;flex-wrap:wrap;justify-content:space-between;align-items:center;margin-bottom:1rem;gap:.5rem;padding:1rem 0}.top-nav h1{font-size:1.5rem;font-weight:700;color:var(--primary-dark)}.actions{display:flex;flex-wrap:wrap;gap:.5rem;align-items:center}.search-input,.filter-select{padding:.4rem .6rem;border:1px solid var(--border-color);border-radius:.25rem;font-family:var(--primary-font);font-size:1rem;color:var(--text-primary);background-color:var(--neutral-light)}.btn{font-family:var(--primary-font);font-size:1rem;padding:.5rem 1rem;border-radius:.375rem;border:none;cursor:pointer;transition:background-color .3s ease,color .3s ease;-webkit-user-select:none;user-select:none;display:inline-block;text-align:center;text-decoration:none}.btn-primary{background-color:var(--primary-color);color:var(--neutral-light)}.btn-primary:hover:not(:disabled){background-color:var(--primary-dark)}.btn-danger{background-color:var(--danger-color, #dc3545);color:var(--neutral-light)}.btn-danger:hover:not(:disabled){background-color:#b02a37}.bulk-actions{margin-bottom:1rem;display:flex;flex-wrap:wrap;gap:.5rem;align-items:center}.product-table{width:100%;border-collapse:collapse;font-family:var(--primary-font);color:var(--text-primary)}.product-table th,.product-table td{border:1px solid var(--border-color);padding:.5rem;text-align:left;vertical-align:middle}.product-table th{background-color:var(--neutral-light);cursor:pointer;-webkit-user-select:none;user-select:none}.product-image{width:50px;height:50px;object-fit:fill;border-radius:4px}.status-select,.badge-dropdown{padding:.3rem .5rem;border:1px solid var(--border-color);border-radius:.25rem;font-family:var(--primary-font);font-size:.9rem;color:var(--text-primary);background-color:var(--neutral-light);cursor:pointer;-webkit-user-select:none;user-select:none;transition:border-color .3s ease}.status-select:hover,.badge-dropdown:hover{border-color:var(--primary-color)}.status-select:focus,.badge-dropdown:focus{outline:none;border-color:var(--primary-dark);box-shadow:0 0 5px var(--primary-color)}.mobile-card{display:flex;flex-direction:column;gap:1rem}.product-card{background:var(--neutral-light);border-radius:.5rem;box-shadow:0 2px 6px #00000026;padding:1rem;display:flex;gap:1rem;font-family:var(--primary-font);color:var(--text-primary)}.product-card img.product-image{width:100px;height:100px;border-radius:6px;object-fit:cover}.product-info h3{margin:0 0 .5rem}.product-info p{margin:.2rem 0}.pagination{display:flex;justify-content:center;align-items:center;gap:1rem;margin-top:1rem}.pagination .btn{min-width:80px}.modal{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000;opacity:1;transition:opacity .3s ease}.modal-content{background-color:var(--neutral-light);padding:1.5rem;border-radius:.5rem;box-shadow:0 4px 12px #0000004d;max-width:600px;width:90%;max-height:90vh;overflow-y:auto;font-family:var(--primary-font);color:var(--text-primary);position:relative}.modal-content form label{display:block;margin-bottom:.75rem;font-weight:600;color:var(--text-primary);font-family:var(--primary-font)}.modal-content form input[type=text],.modal-content form input[type=number],.modal-content form textarea,.modal-content form select{width:100%;padding:.5rem .625rem;margin-top:.25rem;border:1px solid var(--border-color);border-radius:.25rem;font-size:1rem;box-sizing:border-box;font-family:var(--primary-font);color:var(--text-primary);background-color:var(--neutral-light)}.form-actions{margin-top:1rem;display:flex;gap:1rem;justify-content:flex-end}
`],encapsulation:2})};function Lt(s,t){if(s&1&&(i(0,"tr")(1,"td"),o(2),n(),i(3,"td"),o(4),n(),i(5,"td"),o(6),n()()),s&2){let e=t.$implicit;l(2),x(e.id),l(2),x(e.name),l(2),x(e.email)}}var Ee=class s{constructor(t){this.userListService=t}users=[];ngOnInit(){this.userListService.getRegisteredUsers().subscribe(t=>{this.users=t})}static \u0275fac=function(e){return new(e||s)(b(re))};static \u0275cmp=P({type:s,selectors:[["app-users"]],decls:11,vars:1,consts:[[4,"ngFor","ngForOf"]],template:function(e,r){e&1&&(i(0,"table")(1,"thead")(2,"tr")(3,"th"),o(4,"ID"),n(),i(5,"th"),o(6,"Name"),n(),i(7,"th"),o(8,"Email"),n()()(),i(9,"tbody"),_(10,Lt,7,3,"tr",0),n()()),e&2&&(l(10),m("ngForOf",r.users))},dependencies:[k,I],encapsulation:2})};function Rt(s,t){if(s&1&&(i(0,"div",17),o(1),n()),s&2){let e=c();l(),v(" ",e.errorMessage," ")}}var Oe=class s{constructor(t,e){this.router=t;this.authService=e}email="";password="";errorMessage="";loading=!1;showPassword=!1;togglePasswordVisibility(){this.showPassword=!this.showPassword}login(){this.errorMessage="",this.loading=!0;try{this.authService.login(this.email,this.password)?this.router.navigate(["/admin"]):this.errorMessage="Invalid email or password"}catch{this.errorMessage="An unexpected error occurred. Please try again later."}finally{this.loading=!1}}close(){this.router.navigate(["/"])}static \u0275fac=function(e){return new(e||s)(b(A),b(ie))};static \u0275cmp=P({type:s,selectors:[["app-admin-login"]],decls:22,vars:6,consts:[["loginForm","ngForm"],[1,"login-wrapper"],[1,"login-card"],[1,"fa","fa-times","close-icon",3,"click"],["src","assets/toolbox.png","alt","Toolbox",1,"login-image"],[1,"welcome-text"],["novalidate","",3,"ngSubmit"],[1,"input-group"],["for","email"],[1,"fa-solid","fa-user","input-icon"],["type","email","id","email","required","","name","email","placeholder","Enter your email",3,"ngModelChange","ngModel"],["for","password"],[1,"fa-solid","fa-lock","input-icon"],["id","password","required","","name","password","placeholder","Enter your password",3,"ngModelChange","type","ngModel"],[1,"fa-solid","fa-eye","toggle-password",2,"cursor","pointer",3,"click","ngClass"],["class","error-message",4,"ngIf"],["type","submit",1,"login-btn",3,"disabled"],[1,"error-message"]],template:function(e,r){if(e&1){let a=S();i(0,"div",1)(1,"div",2)(2,"div",3),u("click",function(){return g(a),f(r.close())}),n(),p(3,"img",4),i(4,"h2",5),o(5,"Admin Login"),n(),i(6,"form",6,0),u("ngSubmit",function(){return g(a),f(r.login())}),i(8,"div",7)(9,"label",8),o(10,"Email:"),n(),p(11,"i",9),i(12,"input",10),w("ngModelChange",function(h){return g(a),y(r.email,h)||(r.email=h),f(h)}),n()(),i(13,"div",7)(14,"label",11),o(15,"Password:"),n(),p(16,"i",12),i(17,"input",13),w("ngModelChange",function(h){return g(a),y(r.password,h)||(r.password=h),f(h)}),n(),i(18,"i",14),u("click",function(){return g(a),f(r.togglePasswordVisibility())}),n()(),_(19,Rt,2,1,"div",15),i(20,"button",16),o(21,"Login"),n()()()()}if(e&2){let a=B(7);l(12),C("ngModel",r.email),l(5),m("type",r.showPassword?"text":"password"),C("ngModel",r.password),l(),m("ngClass",r.showPassword?"fa-eye-slash":"fa-eye"),l(),m("ngIf",r.errorMessage),l(),m("disabled",!a.form.valid||r.loading)}},dependencies:[N,X,j,G,Y,Se,q,ve,k,Ke,T],styles:[".login-wrapper[_ngcontent-%COMP%]{height:100vh;display:flex;justify-content:center;align-items:center;background-color:#2ec4b6;padding:20px;box-sizing:border-box;font-family:var(--primary-font);font-weight:400}.login-card[_ngcontent-%COMP%]{position:relative;background-color:var(--primary-light);padding:40px 30px;max-width:400px;width:100%;border-radius:20px;text-align:center;color:var(--primary-dark);box-shadow:0 8px 24px #00000014}.welcome-text[_ngcontent-%COMP%]{font-size:24px;font-weight:700;margin-bottom:10px;color:#044f48}.input-group[_ngcontent-%COMP%]{position:relative;margin-bottom:20px;text-align:left}.input-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;color:var(--text-primary);font-weight:600}.input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:12px 38px;height:45px;line-height:21px;border:1px solid #b2e0d9;border-radius:10px;font-size:16px;color:#044f48;background-color:#fff;box-sizing:border-box}.input-icon[_ngcontent-%COMP%]{position:absolute;left:12px;top:60%;transform:translateY(-1%);color:#7abfb3;font-size:16px;height:16px;pointer-events:none}.toggle-password[_ngcontent-%COMP%]{position:absolute;right:12px;top:60%;transform:translateY(-1%);color:#7abfb3;font-size:16px;cursor:pointer}.error-message[_ngcontent-%COMP%]{color:red;font-size:.9rem;margin:5px 0 10px}.login-btn[_ngcontent-%COMP%]{width:100%;padding:12px;background-color:#f76c6c;border:none;border-radius:30px;color:#fff;font-weight:700;font-size:16px;cursor:pointer;transition:background-color .3s ease}.login-btn[_ngcontent-%COMP%]:hover{background-color:#e75959}@media (max-width: 768px){.login-wrapper[_ngcontent-%COMP%]{padding:10px}.login-card[_ngcontent-%COMP%]{padding:30px 20px;max-width:100%}.welcome-text[_ngcontent-%COMP%]{font-size:20px}.login-btn[_ngcontent-%COMP%]{font-size:14px;padding:10px}}@media (max-width: 480px){.login-wrapper[_ngcontent-%COMP%]{padding:5px}.login-card[_ngcontent-%COMP%]{padding:20px 15px}.welcome-text[_ngcontent-%COMP%]{font-size:18px}.login-btn[_ngcontent-%COMP%]{font-size:12px;padding:8px}}"]})};function zt(s,t){if(s&1){let e=S();i(0,"tr")(1,"td"),o(2),n(),i(3,"td"),o(4),n(),i(5,"td"),o(6),n(),i(7,"td")(8,"input",3),w("ngModelChange",function(a){let d=g(e).$implicit;return y(d.stock,a)||(d.stock=a),f(a)}),n(),i(9,"button",4),u("click",function(){let a=g(e).$implicit,d=c();return f(d.updateStock(a))}),p(10,"i",5),o(11," Update "),n()()()}if(s&2){let e=t.$implicit;l(2),x(e.name),l(2),x(e.category),l(2),x(e.stock),l(2),C("ngModel",e.stock)}}var Ie=class s{constructor(t,e){this.productService=t;this.router=e}products=[];ngOnInit(){this.loadProducts()}loadProducts(){this.products=this.productService.getProducts()}updateStock(t){if(t.stock!==void 0&&t.stock>=0){let e=this.productService.getProducts(),r=e.findIndex(a=>a.id===t.id);r!==-1&&(e[r].stock=t.stock,e[r].status=t.stock>0,e[r].lastUpdated=new Date,this.productService.updateProducts(e),alert(`Stock updated for ${t.name}`))}else alert("Invalid stock value")}goBack(){this.router.navigate(["/admin/dashboard"])}static \u0275fac=function(e){return new(e||s)(b(te),b(A))};static \u0275cmp=P({type:s,selectors:[["app-inventory"]],decls:17,vars:1,consts:[[1,"btn","btn-secondary",3,"click"],[1,"fas","fa-arrow-left"],[4,"ngFor","ngForOf"],["type","number","min","0",3,"ngModelChange","ngModel"],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-sync-alt"]],template:function(e,r){e&1&&(i(0,"button",0),u("click",function(){return r.goBack()}),p(1,"i",1),n(),i(2,"h2"),o(3,"Inventory Management"),n(),i(4,"table")(5,"thead")(6,"tr")(7,"th"),o(8,"Product Name"),n(),i(9,"th"),o(10,"Category"),n(),i(11,"th"),o(12,"Stock"),n(),i(13,"th"),o(14,"Update Stock"),n()()(),i(15,"tbody"),_(16,zt,12,4,"tr",2),n()()),e&2&&(l(16),m("ngForOf",r.products))},dependencies:[k,I,N,j,Z,G,$,q],styles:["button[_ngcontent-%COMP%]{margin-bottom:1rem;cursor:pointer}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:1rem}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:1px solid #ccc;padding:.5rem;text-align:left}input[type=number][_ngcontent-%COMP%]{width:60px}"]})};var Ae=class s{static \u0275fac=function(e){return new(e||s)};static \u0275cmp=P({type:s,selectors:[["app-categories"]],decls:1,vars:0,template:function(e,r){e&1&&p(0,"app-categories")},dependencies:[s,nt],encapsulation:2})};var Te=class s{static \u0275fac=function(e){return new(e||s)};static \u0275cmp=P({type:s,selectors:[["app-promotions"]],decls:4,vars:0,template:function(e,r){e&1&&(i(0,"h2"),o(1,"Promotions & Coupons"),n(),i(2,"p"),o(3,"Create and manage discount codes here."),n())},encapsulation:2})};function Wt(s,t){if(s&1&&(i(0,"span",31),o(1),n()),s&2){let e=c(3);l(),x(e.profilePhotoName)}}function Ut(s,t){if(s&1&&p(0,"img",32),s&2){let e=c(3);m("src",e.profilePhoto,U)}}function Bt(s,t){s&1&&(i(0,"p"),o(1,"No profile photo selected"),n())}function jt(s,t){if(s&1&&(i(0,"div",33)(1,"label"),o(2,"Current Password: "),p(3,"input",34),n(),i(4,"label"),o(5,"New Password: "),p(6,"input",35),n()()),s&2){let e=c(3);m("formGroup",e.passwordChangeGroup)}}function Gt(s,t){if(s&1){let e=S();i(0,"form",18),u("ngSubmit",function(){g(e);let a=c(2);return f(a.onSubmit())}),i(1,"h3"),o(2,"Profile & Security"),n(),i(3,"label"),o(4,"Name: "),p(5,"input",19),n(),i(6,"label"),o(7,"Email: "),p(8,"input",20),n(),i(9,"label"),o(10,"Contact Number: "),p(11,"input",21),n(),i(12,"div")(13,"label",22),o(14,"Profile Photo:"),n(),i(15,"input",23),u("change",function(a){g(e);let d=c(2);return f(d.onFileChange(a,"profile.profilePhoto"))}),n(),i(16,"label",24),o(17,"Choose File"),n(),_(18,Wt,2,1,"span",25),i(19,"div",26),_(20,Ut,1,1,"img",27)(21,Bt,2,0,"p",17),n()(),_(22,jt,7,1,"div",28),i(23,"label"),o(24,"Enable 2FA: "),p(25,"input",29),n(),i(26,"button",30),o(27,"Save Settings"),n()()}if(s&2){let e=c(2);m("formGroup",e.profileFormGroup),l(18),m("ngIf",e.profilePhotoName),l(2),m("ngIf",e.profilePhoto),l(),m("ngIf",!e.profilePhoto),l(),m("ngIf",e.passwordChangeGroup),l(4),m("disabled",e.profileFormGroup.invalid)}}function qt(s,t){if(s&1&&p(0,"img",48),s&2){let e,r=c(4);m("src",r.storeConfigFormGroup==null||(e=r.storeConfigFormGroup.get("storeLogo"))==null?null:e.value,U)}}function Ht(s,t){s&1&&(i(0,"p"),o(1,"No store logo selected"),n())}function Qt(s,t){if(s&1){let e=S();F(0),i(1,"h3"),o(2,"Store Configuration"),n(),i(3,"label"),o(4,"Store Name: "),p(5,"input",38),n(),i(6,"label"),o(7,"Store Description: "),p(8,"textarea",39),n(),i(9,"div")(10,"label",40),o(11,"Store Logo:"),n(),i(12,"input",41),u("change",function(a){g(e);let d=c(3);return f(d.onFileChange(a,"storeConfig.storeLogo"))}),n(),i(13,"label",42),o(14,"Choose File"),n(),i(15,"div",43),_(16,qt,1,1,"img",44)(17,Ht,2,0,"p",17),n()(),i(18,"label"),o(19,"Phone Number: "),p(20,"input",45),n(),i(21,"label"),o(22,"Support Email: "),p(23,"input",46),n(),i(24,"label"),o(25,"Social Links: "),p(26,"textarea",47),n(),V()}if(s&2){let e,r,a=c(3);l(5),m("placeholder",a.currentAppInfo.storeConfig.storeName),l(3),m("placeholder",a.currentAppInfo.storeConfig.storeDescription),l(8),m("ngIf",a.storeConfigFormGroup==null||(e=a.storeConfigFormGroup.get("storeLogo"))==null?null:e.value),l(),m("ngIf",!(!(a.storeConfigFormGroup==null||(r=a.storeConfigFormGroup.get("storeLogo"))==null)&&r.value))}}function Jt(s,t){s&1&&(F(0),i(1,"h3"),o(2,"Shipping & Delivery"),n(),i(3,"label"),o(4,"Free Shipping: "),p(5,"input",49),n(),i(6,"label"),o(7,"Flat Rate Shipping: "),p(8,"input",50),n(),i(9,"label"),o(10,"Delivery Range: "),p(11,"input",51),n(),i(12,"label"),o(13,"Estimated Delivery Time: "),p(14,"input",52),n(),V())}function Kt(s,t){s&1&&(F(0),i(1,"h3"),o(2,"Payment Setup"),n(),i(3,"label"),o(4,"COD: "),p(5,"input",53),n(),i(6,"label"),o(7,"GCash: "),p(8,"input",54),n(),i(9,"label"),o(10,"Payment Instructions: "),p(11,"textarea",55),n(),V())}function Yt(s,t){s&1&&(F(0),i(1,"h3"),o(2,"Notifications"),n(),i(3,"label"),o(4,"Order Confirmation Emails: "),p(5,"input",56),n(),i(6,"label"),o(7,"Low Stock Alerts: "),p(8,"input",57),n(),i(9,"label"),o(10,"Customer Inquiry Alerts: "),p(11,"input",58),n(),V())}function Xt(s,t){s&1&&(F(0),i(1,"h3"),o(2,"System Preferences"),n(),i(3,"label"),o(4," Dashboard Layout Style: "),i(5,"select",59)(6,"option",60),o(7,"Card"),n(),i(8,"option",61),o(9,"List"),n()()(),V())}function Zt(s,t){if(s&1){let e=S();i(0,"form",18),u("ngSubmit",function(){g(e);let a=c(2);return f(a.onSubmit())}),F(1,36),_(2,Qt,27,4,"ng-container",37)(3,Jt,15,0,"ng-container",37)(4,Kt,12,0,"ng-container",37)(5,Yt,12,0,"ng-container",37)(6,Xt,10,0,"ng-container",37),V(),i(7,"button",30),o(8,"Save Settings"),n()()}if(s&2){let e,r,a=c(2);m("formGroup",a.getFormGroupForSetting((e=a.selectedSetting)!==null&&e!==void 0?e:"profile")),l(),m("ngSwitch",(r=a.selectedSetting)!==null&&r!==void 0?r:"profile"),l(),m("ngSwitchCase","storeConfig"),l(),m("ngSwitchCase","shippingDelivery"),l(),m("ngSwitchCase","paymentSetup"),l(),m("ngSwitchCase","notifications"),l(),m("ngSwitchCase","systemPreferences"),l(),m("disabled",a.getFormGroupForSetting(a.selectedSetting).invalid)}}function $t(s,t){if(s&1){let e=S();i(0,"li"),o(1),i(2,"button",66),u("click",function(){let a=g(e).index,d=c(3);return f(d.removeAdmin(a))}),o(3,"Remove"),n(),i(4,"select",67),w("ngModelChange",function(a){let d=g(e).$implicit;return y(d.accessLevel,a)||(d.accessLevel=a),f(a)}),u("change",function(){let a=g(e),d=a.$implicit,h=a.index,E=c(3);return f(E.updateAccessLevel(h,d.accessLevel))}),i(5,"option",68),o(6,"Super Admin"),n(),i(7,"option",69),o(8,"Admin"),n(),i(9,"option",70),o(10,"Viewer"),n()()()}if(s&2){let e=t.$implicit;l(),me(" ",e.email," - Access: ",e.accessLevel," "),l(3),C("ngModel",e.accessLevel)}}function ei(s,t){if(s&1){let e=S();i(0,"div")(1,"h3"),o(2,"Admin Management"),n(),i(3,"div")(4,"label"),o(5,"New Admin Email: "),i(6,"input",62),w("ngModelChange",function(a){g(e);let d=c(2);return y(d.newAdminEmail,a)||(d.newAdminEmail=a),f(a)}),n()(),i(7,"label"),o(8,"New Admin Password: "),i(9,"input",63),w("ngModelChange",function(a){g(e);let d=c(2);return y(d.newAdminPassword,a)||(d.newAdminPassword=a),f(a)}),n()(),i(10,"button",64),u("click",function(){g(e);let a=c(2);return f(a.addAdmin())}),o(11,"Add New Admin"),n()(),i(12,"div")(13,"h4"),o(14,"Existing Admins"),n(),i(15,"ul"),_(16,$t,11,3,"li",65),n()()()}if(s&2){let e=c(2);l(6),C("ngModel",e.newAdminEmail),l(3),C("ngModel",e.newAdminPassword),l(7),m("ngForOf",e.admins)}}function ti(s,t){if(s&1){let e=S();i(0,"div",13)(1,"div",14)(2,"i",15),u("click",function(){g(e);let a=c();return f(a.closeModal())}),n(),_(3,Gt,28,6,"form",16)(4,Zt,9,8,"form",16)(5,ei,17,3,"div",17),n()()}if(s&2){let e=c();l(3),m("ngIf",e.selectedSetting==="profile"&&e.profileFormGroup),l(),m("ngIf",e.selectedSetting!=="profile"&&e.selectedSetting!=="adminManagement"),l(),m("ngIf",e.selectedSetting==="adminManagement")}}var Ne=class s{constructor(t,e,r,a){this.fb=t;this.router=e;this.route=r;this.adminSettingsService=a}adminSettingsForm;newAdminEmail="";newAdminPassword="";admins=[];modalOpen=!1;selectedSetting=null;profilePhotoName="";currentAppInfo={profile:{name:"John Doe",email:"john.doe@example.com",contactNumber:"+63 912 345 6789",twoFactorAuth:!0},storeConfig:{storeName:"HardwareHub",storeDescription:"Your ultimate hardware store On-the-Go",storePhone:"+63 912 345 6789",supportEmail:"support@hardwarehub.com",socialLinks:"https://www.facebook.com/HardwareHub, https://www.instagram.com/HardwareHub, https://www.tiktok.com/@hardwarehubshop"},shippingDelivery:{freeShipping:!0,flatRate:50,deliveryRange:"Local area",estimatedDeliveryTime:"3-5 days"},paymentSetup:{cod:!0,gcash:!0,paymentInstructions:"Please pay upon delivery or use GCash."},notifications:{orderConfirmationEmails:!0,lowStockAlerts:!0,customerInquiryAlerts:!0},systemPreferences:{dashboardLayoutStyle:"card"}};ngOnInit(){this.adminSettingsForm=this.fb.group({profile:this.fb.group({name:[this.currentAppInfo.profile.name,K.required],email:[this.currentAppInfo.profile.email,[K.required,K.email]],contactNumber:[this.currentAppInfo.profile.contactNumber],profilePhoto:[null],passwordChange:this.fb.group({currentPassword:[""],newPassword:[""]}),twoFactorAuth:[this.currentAppInfo.profile.twoFactorAuth]}),storeConfig:this.fb.group({storeName:[this.currentAppInfo.storeConfig.storeName,K.required],storeDescription:[this.currentAppInfo.storeConfig.storeDescription],storePhone:[this.currentAppInfo.storeConfig.storePhone],supportEmail:[this.currentAppInfo.storeConfig.supportEmail,K.email],socialLinks:[this.currentAppInfo.storeConfig.socialLinks],storeLogo:["assets/toolbox.png"]}),shippingDelivery:this.fb.group({freeShipping:[!1],flatRate:[0],deliveryRange:[""],estimatedDeliveryTime:[""]}),paymentSetup:this.fb.group({cod:[!1],gcash:[!1],paymentInstructions:[""]}),notifications:this.fb.group({orderConfirmationEmails:[!1],lowStockAlerts:[!1],customerInquiryAlerts:[!1]}),adminManagement:this.fb.group({}),systemPreferences:this.fb.group({dashboardLayoutStyle:["card"]})});let t=this.adminSettingsService.getAllSettings();if(t){t.profile&&this.adminSettingsForm.get("profile")?.patchValue(t.profile),t.storeConfig&&(this.adminSettingsForm.get("storeConfig")?.patchValue(t.storeConfig),t.storeConfig.storeLogo||this.adminSettingsForm.get("storeConfig")?.get("storeLogo")?.setValue("assets/toolbox.png")),t.shippingDelivery&&this.adminSettingsForm.get("shippingDelivery")?.patchValue(t.shippingDelivery),t.paymentSetup&&this.adminSettingsForm.get("paymentSetup")?.patchValue(t.paymentSetup),t.notifications&&this.adminSettingsForm.get("notifications")?.patchValue(t.notifications),t.systemPreferences&&this.adminSettingsForm.get("systemPreferences")?.patchValue(t.systemPreferences),t.admins?this.admins=t.admins:(this.admins=[{email:"scatorccio@gmail.com",password:"antlerqueen",accessLevel:"superadmin"}],this.adminSettingsService.saveStoredSettings(oe(Q({},t),{admins:this.admins})));let e=this.adminSettingsService.getProfilePhoto();e&&this.adminSettingsForm.get("profile")?.get("profilePhoto")?.setValue(e);let r=this.adminSettingsService.getStoreLogo();if(r){let a=this.adminSettingsForm.get("storeConfig");a&&a.get("storeLogo")?.setValue(r)}}this.route.queryParams.subscribe(e=>{e.open==="profile"&&this.openModal("profile")})}onFileChange(t,e){let r=t.target.files[0];if(r){if(!r.type.startsWith("image/")){alert("Please select a valid image file for the profile photo."),t.target.value="";return}let a=2;if(r.size>a*1024*1024){alert(`Profile photo must be smaller than ${a}MB.`),t.target.value="";return}this.profilePhotoName=r.name;let d=new FileReader;d.onload=()=>{let h=d.result,E=e.split("."),se=this.adminSettingsForm;for(let Le=0;Le<E.length-1;Le++)if(se=se.get(E[Le]),!se)return;se.get(E[E.length-1])?.setValue(h)},d.readAsDataURL(r)}}get profileFormGroup(){return this.getFormGroup("profile")}get passwordChangeGroup(){let t=this.profileFormGroup?.get("passwordChange");return t instanceof Ue?t:null}get storeConfigFormGroup(){return this.getFormGroup("storeConfig")}get shippingDeliveryFormGroup(){return this.getFormGroup("shippingDelivery")}get paymentSetupFormGroup(){return this.getFormGroup("paymentSetup")}get notificationsFormGroup(){return this.getFormGroup("notifications")}get systemPreferencesFormGroup(){return this.getFormGroup("systemPreferences")}openModal(t){if(this.selectedSetting=t,this.modalOpen=!0,document.body.classList.add("modal-open"),t==="profile"){let e=this.adminSettingsService.getProfilePhoto();e&&this.adminSettingsForm.get("profile")?.get("profilePhoto")?.setValue(e)}}closeModal(){this.modalOpen=!1,this.selectedSetting=null,document.body.classList.remove("modal-open")}logout(){alert("Logout clicked")}saveAdmins(){let t=this.adminSettingsService.getAllSettings();this.adminSettingsService.saveStoredSettings(oe(Q({},t),{admins:this.admins}))}addAdmin(){this.newAdminEmail&&this.newAdminPassword?(this.adminSettingsService.addAdmin(this.newAdminEmail,this.newAdminPassword),this.admins=this.adminSettingsService.getAdmins(),this.saveAdmins(),this.newAdminEmail="",this.newAdminPassword="",alert("New admin added successfully!")):alert("Please enter both email and password for the new admin.")}removeAdmin(t){let e=this.admins[t].email;this.adminSettingsService.removeAdmin(e),this.admins=this.adminSettingsService.getAdmins(),this.saveAdmins(),alert("Admin removed successfully!")}updateAccessLevel(t,e){let r=this.admins[t].email;this.adminSettingsService.updateAdminAccessLevel(r,e),this.admins=this.adminSettingsService.getAdmins(),this.saveAdmins(),alert("Admin access level updated successfully!")}getFormGroup(t){let e=this.adminSettingsForm.get(t);return e instanceof Ue?e:null}getFormGroupForSetting(t){let e=t||"";return this.getFormGroup(e)||this.fb.group({})}onSubmit(){let t=this.selectedSetting?this.getFormGroup(this.selectedSetting):null;if(t&&t.valid){switch(this.selectedSetting){case"profile":this.adminSettingsService.saveProfile(t.value);let e=this.adminSettingsService.getProfilePhoto();e&&this.adminSettingsForm.get("profile")?.get("profilePhoto")?.setValue(e);break;case"storeConfig":this.adminSettingsService.saveStoreConfig(t.value);break;case"shippingDelivery":this.adminSettingsService.saveShippingDelivery(t.value);break;case"paymentSetup":this.adminSettingsService.savePaymentSetup(t.value);break;case"notifications":this.adminSettingsService.saveNotifications(t.value);break;case"systemPreferences":this.adminSettingsService.saveSystemPreferences(t.value);break}alert("Settings saved successfully!"),this.closeModal()}}navigateBack(){this.router.navigate(["/admin"])}get profilePhoto(){return this.adminSettingsForm.get("profile.profilePhoto")?.value??null}static \u0275fac=function(e){return new(e||s)(b(tt),b(A),b(fe),b(ne))};static \u0275cmp=P({type:s,selectors:[["app-admin-settings"]],decls:35,vars:1,consts:[[1,"admin-settings-container"],[1,"back-to-admin",3,"click"],[1,"fas","fa-arrow-left"],[1,"settings-grid"],[1,"setting-card",3,"click"],[1,"fas","fa-user"],[1,"fas","fa-store"],[1,"fas","fa-shipping-fast"],[1,"fas","fa-credit-card"],[1,"fas","fa-bell"],[1,"fas","fa-users-cog"],[1,"fas","fa-cogs"],["class","modal",4,"ngIf"],[1,"modal"],[1,"modal-content"],[1,"fas","fa-times","close-icon",3,"click"],[3,"formGroup","ngSubmit",4,"ngIf"],[4,"ngIf"],[3,"ngSubmit","formGroup"],["formControlName","name","type","text"],["formControlName","email","type","email"],["formControlName","contactNumber","type","tel"],["for","profilePhotoInput"],["type","file","id","profilePhotoInput",3,"change"],["for","profilePhotoInput",1,"custom-file-label"],["class","file-name",4,"ngIf"],[1,"profile-photo-preview-container"],["alt","Profile Photo","class","profile-photo-preview",3,"src",4,"ngIf"],[3,"formGroup",4,"ngIf"],["formControlName","twoFactorAuth","type","checkbox"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"file-name"],["alt","Profile Photo",1,"profile-photo-preview",3,"src"],[3,"formGroup"],["formControlName","currentPassword","type","password"],["formControlName","newPassword","type","password"],[3,"ngSwitch"],[4,"ngSwitchCase"],["formControlName","storeName","type","text",3,"placeholder"],["formControlName","storeDescription",3,"placeholder"],["for","storeLogoInput"],["type","file","id","storeLogoInput",3,"change"],["for","storeLogoInput",1,"custom-file-label"],[1,"store-logo-preview-container"],["class","store-logo-preview",3,"src",4,"ngIf"],["formControlName","storePhone","type","tel"],["formControlName","supportEmail","type","email"],["formControlName","socialLinks"],[1,"store-logo-preview",3,"src"],["formControlName","freeShipping","type","checkbox"],["formControlName","flatRate","type","number","min","0"],["formControlName","deliveryRange","type","text"],["formControlName","estimatedDeliveryTime","type","text"],["formControlName","cod","type","checkbox"],["formControlName","gcash","type","checkbox"],["formControlName","paymentInstructions"],["formControlName","orderConfirmationEmails","type","checkbox"],["formControlName","lowStockAlerts","type","checkbox"],["formControlName","customerInquiryAlerts","type","checkbox"],["formControlName","dashboardLayoutStyle"],["value","card"],["value","list"],["type","email",3,"ngModelChange","ngModel"],["type","password",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-primary",3,"click"],[4,"ngFor","ngForOf"],["type","button",1,"btn","btn-danger",3,"click"],[3,"ngModelChange","change","ngModel"],["value","superadmin"],["value","admin"],["value","viewer"]],template:function(e,r){e&1&&(i(0,"div",0)(1,"button",1),u("click",function(){return r.navigateBack()}),p(2,"i",2),n(),i(3,"h2"),o(4,"Admin Settings"),n(),i(5,"div",3)(6,"div",4),u("click",function(){return r.openModal("profile")}),p(7,"i",5),i(8,"h3"),o(9,"Profile & Security"),n()(),i(10,"div",4),u("click",function(){return r.openModal("storeConfig")}),p(11,"i",6),i(12,"h3"),o(13,"Store Configuration"),n()(),i(14,"div",4),u("click",function(){return r.openModal("shippingDelivery")}),p(15,"i",7),i(16,"h3"),o(17,"Shipping & Delivery"),n()(),i(18,"div",4),u("click",function(){return r.openModal("paymentSetup")}),p(19,"i",8),i(20,"h3"),o(21,"Payment Setup"),n()(),i(22,"div",4),u("click",function(){return r.openModal("notifications")}),p(23,"i",9),i(24,"h3"),o(25,"Notifications"),n()(),i(26,"div",4),u("click",function(){return r.openModal("adminManagement")}),p(27,"i",10),i(28,"h3"),o(29,"Admin Management"),n()(),i(30,"div",4),u("click",function(){return r.openModal("systemPreferences")}),p(31,"i",11),i(32,"h3"),o(33,"System Preferences"),n()()(),_(34,ti,6,3,"div",12),n()),e&2&&(l(34),m("ngIf",r.modalOpen))},dependencies:[k,I,T,Ye,Xe,it,X,xe,be,j,Z,_e,he,G,Y,$,$e,et,N,q],styles:[".settings-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:1rem;margin-bottom:1.5rem}.setting-card[_ngcontent-%COMP%]{background:var(--neutral-light);border-radius:.5rem;box-shadow:0 2px 6px #00000026;padding:1.25rem;text-align:center;cursor:pointer;transition:box-shadow .3s ease,transform .3s ease;-webkit-user-select:none;user-select:none;font-family:var(--primary-font);color:var(--text-primary)}.setting-card[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2.25rem;margin-bottom:.75rem;color:var(--primary-color)}.setting-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.25rem;color:var(--text-primary)}.setting-card[_ngcontent-%COMP%]:hover{box-shadow:0 6px 12px #00000040;transform:translateY(-.25rem)}.back-to-admin[_ngcontent-%COMP%]{color:var(--primary-dark);background:none;border:none;font-size:2rem;cursor:pointer;padding:.25rem .5rem;border-radius:6px;transition:background-color .3s ease}.admin-settings-container[_ngcontent-%COMP%]   button.back-to-admin[_ngcontent-%COMP%]:hover{background-color:var(--neutral-light)}.modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:var(--neutral-light);border-radius:.5rem;padding:1.5rem;width:90%;max-width:600px;max-height:calc(100vh - 6rem);overflow-y:auto;position:relative;font-family:var(--primary-font);color:var(--text-primary)}.close[_ngcontent-%COMP%]{position:absolute;top:.75rem;right:1rem;font-size:1.75rem;font-weight:700;color:var(--text-primary);cursor:pointer}label[_ngcontent-%COMP%]{display:block;margin-bottom:.75rem;font-weight:600;color:var(--text-primary);font-family:var(--primary-font)}input[type=text][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], input[type=tel][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:100%;padding:.5rem .625rem;margin-top:.25rem;border:1px solid var(--border-color);border-radius:.25rem;font-size:1rem;box-sizing:border-box;font-family:var(--primary-font);color:var(--text-primary);background-color:var(--neutral-light)}body.modal-open[_ngcontent-%COMP%]{overflow:hidden}[_nghost-%COMP%]{min-height:100vh;overflow-y:hidden;padding:2rem 1.5rem;max-width:1200px;margin:0 auto}.admin-settings-container[_ngcontent-%COMP%]{padding:1rem 1.5rem;max-width:1350px;margin:0 auto}h2[_ngcontent-%COMP%]{font-family:var(--primary-font);font-weight:700;font-size:2rem}.btn[_ngcontent-%COMP%]{font-family:var(--primary-font);font-size:1rem;padding:.5rem 1rem;border-radius:.375rem;border:none;cursor:pointer;transition:background-color .3s ease,color .3s ease;-webkit-user-select:none;user-select:none;display:inline-block;text-align:center;text-decoration:none}.btn-primary[_ngcontent-%COMP%]{background-color:var(--primary-color);color:var(--neutral-light)}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:var(--primary-dark)}.btn-danger[_ngcontent-%COMP%]{background-color:var(--danger-color, #dc3545);color:var(--neutral-light)}.btn-danger[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#b02a37}.btn[_ngcontent-%COMP%]:disabled, .btn[disabled][_ngcontent-%COMP%]{opacity:.6;cursor:not-allowed}input[type=file][_ngcontent-%COMP%]{display:none}.custom-file-label[_ngcontent-%COMP%]{display:inline-block;font-family:var(--primary-font);font-size:1rem;padding:.5rem 1rem;border-radius:.375rem;background-color:var(--primary-color);color:var(--neutral-light);cursor:pointer;-webkit-user-select:none;user-select:none;transition:background-color .3s ease}.custom-file-label[_ngcontent-%COMP%]:hover{background-color:var(--primary-dark)}.profile-photo-preview[_ngcontent-%COMP%]{width:150px;height:150px;object-fit:cover;border-radius:50%}.store-logo-preview[_ngcontent-%COMP%]{width:200px;height:auto}"]})};function ii(s,t){s&1&&(i(0,"div",9),o(1," No pending orders. "),n())}function ni(s,t){if(s&1){let e=S();i(0,"div",10)(1,"strong"),o(2),n(),p(3,"br"),o(4),p(5,"br"),i(6,"span")(7,"strong"),o(8,"Payment Method:"),n(),o(9),n(),p(10,"br"),i(11,"span")(12,"strong"),o(13,"Total Price:"),n(),o(14),n(),p(15,"br"),i(16,"div",11)(17,"button",4),u("click",function(){let a=g(e).$implicit,d=c(2);return f(d.markAsProcessing(a.orderId))}),o(18,"Mark as Processing"),n(),i(19,"button",4),u("click",function(){let a=g(e).$implicit,d=c(2);return f(d.cancelOrder(a.orderId))}),o(20,"Cancel"),n(),i(21,"button",4),u("click",function(){let a=g(e).$implicit,d=c(2);return f(d.viewOrderDetails(a.orderId))}),o(22,"View"),n()()()}if(s&2){let e=t.$implicit,r=c(2);l(2),v("Order #",e.orderId,""),l(2),v(" ",r.getOrderSummary(e),""),l(5),v(" ",e.paymentMethod||"N/A",""),l(5),v(" \u20B1",e.totalPrice||"N/A","")}}function ri(s,t){if(s&1&&(F(0),_(1,ii,2,0,"div",7)(2,ni,23,4,"div",8),V()),s&2){let e=c();l(),m("ngIf",e.pendingOrders.length===0),l(),m("ngForOf",e.pendingOrders)}}function oi(s,t){s&1&&(i(0,"div",9),o(1," No processing orders. "),n())}function ai(s,t){if(s&1){let e=S();i(0,"div",10)(1,"strong"),o(2),n(),p(3,"br"),o(4),p(5,"br"),i(6,"span")(7,"strong"),o(8,"Payment Method:"),n(),o(9),n(),p(10,"br"),i(11,"span")(12,"strong"),o(13,"Total Price:"),n(),o(14),n(),p(15,"br"),i(16,"div",11)(17,"button",4),u("click",function(){let a=g(e).$implicit,d=c(2);return f(d.markAsShipped(a.orderId))}),o(18,"Mark as Shipped"),n(),i(19,"button",4),u("click",function(){let a=g(e).$implicit,d=c(2);return f(d.viewOrderDetails(a.orderId))}),o(20,"View"),n()()()}if(s&2){let e=t.$implicit,r=c(2);l(2),v("Order #",e.orderId,""),l(2),v(" ",r.getOrderSummary(e),""),l(5),v(" ",e.paymentMethod||"N/A",""),l(5),v(" \u20B1",e.totalPrice||"N/A","")}}function si(s,t){if(s&1&&(F(0),_(1,oi,2,0,"div",7)(2,ai,21,4,"div",8),V()),s&2){let e=c();l(),m("ngIf",e.processingOrders.length===0),l(),m("ngForOf",e.processingOrders)}}function li(s,t){s&1&&(i(0,"div",9),o(1," No shipped orders. "),n())}function di(s,t){if(s&1){let e=S();i(0,"div",10)(1,"strong"),o(2),n(),p(3,"br"),o(4),p(5,"br"),i(6,"span")(7,"strong"),o(8,"Payment Method:"),n(),o(9),n(),p(10,"br"),i(11,"span")(12,"strong"),o(13,"Total Price:"),n(),o(14),n(),p(15,"br"),i(16,"div",11)(17,"button",4),u("click",function(){let a=g(e).$implicit,d=c(2);return f(d.markAsDelivered(a.orderId))}),o(18,"Mark as Delivered"),n(),i(19,"button",4),u("click",function(){let a=g(e).$implicit,d=c(2);return f(d.viewOrderDetails(a.orderId))}),o(20,"View"),n()()()}if(s&2){let e=t.$implicit,r=c(2);l(2),v("Order #",e.orderId,""),l(2),v(" ",r.getOrderSummary(e),""),l(5),v(" ",e.paymentMethod||"N/A",""),l(5),v(" \u20B1",e.totalPrice||"N/A","")}}function ci(s,t){if(s&1&&(F(0),_(1,li,2,0,"div",7)(2,di,21,4,"div",8),V()),s&2){let e=c();l(),m("ngIf",e.shippedOrders.length===0),l(),m("ngForOf",e.shippedOrders)}}function mi(s,t){s&1&&(i(0,"div",9),o(1," No delivered orders. "),n())}function pi(s,t){if(s&1){let e=S();i(0,"div",10)(1,"strong"),o(2),n(),p(3,"br"),o(4),p(5,"br"),i(6,"span")(7,"strong"),o(8,"Payment Method:"),n(),o(9),n(),p(10,"br"),i(11,"span")(12,"strong"),o(13,"Total Price:"),n(),o(14),n(),p(15,"br"),i(16,"div",11)(17,"button",4),u("click",function(){let a=g(e).$implicit,d=c(2);return f(d.viewOrderDetails(a.orderId))}),o(18,"View"),n()()()}if(s&2){let e=t.$implicit,r=c(2);l(2),v("Order #",e.orderId,""),l(2),v(" ",r.getOrderSummary(e),""),l(5),v(" ",e.paymentMethod||"N/A",""),l(5),v(" \u20B1",e.totalPrice||"N/A","")}}function ui(s,t){if(s&1&&(F(0),_(1,mi,2,0,"div",7)(2,pi,19,4,"div",8),V()),s&2){let e=c();l(),m("ngIf",e.deliveredOrders.length===0),l(),m("ngForOf",e.deliveredOrders)}}function gi(s,t){s&1&&(i(0,"div",9),o(1," No cancelled orders. "),n())}function fi(s,t){if(s&1){let e=S();i(0,"div",10)(1,"strong"),o(2),n(),p(3,"br"),o(4),p(5,"br"),i(6,"span")(7,"strong"),o(8,"Payment Method:"),n(),o(9),n(),p(10,"br"),i(11,"span")(12,"strong"),o(13,"Total Price:"),n(),o(14),n(),p(15,"br"),i(16,"div",11)(17,"button",4),u("click",function(){let a=g(e).$implicit,d=c(2);return f(d.deleteOrder(a.orderId))}),o(18,"Delete"),n(),i(19,"button",4),u("click",function(){let a=g(e).$implicit,d=c(2);return f(d.viewOrderDetails(a.orderId))}),o(20,"View"),n()()()}if(s&2){let e=t.$implicit,r=c(2);l(2),v("Order #",e.orderId,""),l(2),v(" ",r.getOrderSummary(e),""),l(5),v(" ",e.paymentMethod||"N/A",""),l(5),v(" \u20B1",e.totalPrice||"N/A","")}}function _i(s,t){if(s&1&&(F(0),_(1,gi,2,0,"div",7)(2,fi,21,4,"div",8),V()),s&2){let e=c();l(),m("ngIf",e.cancelledOrders.length===0),l(),m("ngForOf",e.cancelledOrders)}}var Fe=class s{constructor(t,e){this.orderService=t;this.router=e}orders=[];pendingOrders=[];processingOrders=[];shippedOrders=[];deliveredOrders=[];cancelledOrders=[];activeTab="Pending";ngOnInit(){this.loadOrders()}loadOrders(){this.orders=this.orderService.getOrders(),this.pendingOrders=this.orders.filter(t=>t.status==="Pending"),this.processingOrders=this.orders.filter(t=>t.status==="Processing"),this.shippedOrders=this.orders.filter(t=>t.status==="Shipped"),this.deliveredOrders=this.orders.filter(t=>t.status==="Delivered"),this.cancelledOrders=this.orders.filter(t=>t.status==="Cancelled")}getOrderSummary(t){if(!t.items)return"";let e=t.items.map(r=>r.name).filter(Boolean);return`${t.items.length} items \u2013 ${e.join(", ")}`}updateManualNote(t,e){this.orderService.updateManualNote(t,e??""),this.loadOrders()}updateCourierInfo(t,e){this.orderService.updateCourierInfo(t,e??""),this.loadOrders()}updateCancelReason(t,e){this.orderService.updateCancelReason(t,e??""),this.loadOrders()}updateStatus(t,e){this.orderService.updateOrderStatus(t,e),this.loadOrders()}markAsProcessing(t){this.updateStatus(t,"Processing")}markAsShipped(t){this.updateStatus(t,"Shipped")}markAsDelivered(t){this.updateStatus(t,"Delivered")}cancelOrder(t){this.updateStatus(t,"Cancelled")}deleteOrder(t){confirm("Are you sure you want to delete this order? This action cannot be undone.")&&(this.orderService.deleteOrder(t),this.loadOrders())}viewOrderDetails(t){this.router.navigate(["/admin/orders",t])}goBack(){this.router.navigate(["/admin"])}confirmCancelOrder(t){confirm("Are you sure you want to cancel this order?")&&this.cancelOrder(t)}static \u0275fac=function(e){return new(e||s)(b(ee),b(A))};static \u0275cmp=P({type:s,selectors:[["app-admin-orders"]],decls:20,vars:15,consts:[[1,"back-button-container"],[1,"back-btn",3,"click"],[1,"fas","fa-arrow-left"],[1,"tabs"],[3,"click"],[1,"orders-list"],[4,"ngIf"],["class","no-pending-message",4,"ngIf"],["class","order-card",4,"ngFor","ngForOf"],[1,"no-pending-message"],[1,"order-card"],[1,"actions"]],template:function(e,r){e&1&&(i(0,"div",0)(1,"button",1),u("click",function(){return r.goBack()}),p(2,"i",2),n()(),i(3,"div",3)(4,"button",4),u("click",function(){return r.activeTab="Pending"}),o(5,"Pending"),n(),i(6,"button",4),u("click",function(){return r.activeTab="Processing"}),o(7,"Processing"),n(),i(8,"button",4),u("click",function(){return r.activeTab="Shipped"}),o(9,"Shipped"),n(),i(10,"button",4),u("click",function(){return r.activeTab="Delivered"}),o(11,"Delivered"),n(),i(12,"button",4),u("click",function(){return r.activeTab="Cancelled"}),o(13,"Cancelled"),n()(),i(14,"div",5),_(15,ri,3,2,"ng-container",6)(16,si,3,2,"ng-container",6)(17,ci,3,2,"ng-container",6)(18,ui,3,2,"ng-container",6)(19,_i,3,2,"ng-container",6),n()),e&2&&(l(4),O("active",r.activeTab==="Pending"),l(2),O("active",r.activeTab==="Processing"),l(2),O("active",r.activeTab==="Shipped"),l(2),O("active",r.activeTab==="Delivered"),l(2),O("active",r.activeTab==="Cancelled"),l(3),m("ngIf",r.activeTab==="Pending"),l(),m("ngIf",r.activeTab==="Processing"),l(),m("ngIf",r.activeTab==="Shipped"),l(),m("ngIf",r.activeTab==="Delivered"),l(),m("ngIf",r.activeTab==="Cancelled"))},dependencies:[k,I,T,N],styles:[`*{font-family:var(--primary-font)}.container{max-width:800px;margin:20px auto;padding:50px 30px;font-family:var(--primary-font, "Poppins", sans-serif);color:var(--text-primary, #333);background-color:var(--primary-light, #f9f9f9)}.orders-list{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:24px;justify-items:center}.back-btn{display:inline-flex;align-items:center;gap:8px;color:var(--primary-dark);background:none;border:none;font-size:1.25rem;cursor:pointer;padding:6px 10px;margin-left:10px;margin-top:20px;border-radius:6px;transition:background-color .3s ease;text-decoration:none}.back-btn i{font-size:1.5rem}.back-btn:hover{background-color:var(--white)}.tabs{display:flex;justify-content:center;margin-bottom:20px;gap:10px;flex-wrap:nowrap;overflow-x:auto;scrollbar-width:thin;scrollbar-color:var(--primary-color) transparent}.tabs::-webkit-scrollbar{height:6px}.tabs::-webkit-scrollbar-track{background:transparent}.tabs::-webkit-scrollbar-thumb{background-color:var(--primary-color);border-radius:3px}.tabs button{background-color:var(--primary-light, #edf3ed);border:none;padding:10px 20px;cursor:pointer;font-weight:700;border-radius:6px;transition:background-color .3s ease;color:var(--text-primary, #333);font-size:1rem}.tabs button.active,.tabs button:hover,.tabs button:focus-visible{background-color:var(--primary-color, #22c7a9);color:var(--neutral-light, #fff);box-shadow:none;outline:none}.order-card{border:1px solid var(--border-color, #ccc);border-radius:12px;padding:20px;margin:0 auto 24px;box-shadow:0 4px 10px #00000014;background-color:var(--neutral-light, #fff);max-width:400px;width:100%;display:flex;flex-direction:column;gap:16px;transition:transform .2s ease,box-shadow .2s ease}.order-card:hover,.order-card:focus-within{transform:none;box-shadow:0 2px 5px #0000001a;outline:none}.status-badge{padding:4px 10px;border-radius:12px;color:var(--neutral-light, #fff);font-weight:600;text-transform:uppercase;font-size:.85em;display:inline-block;text-align:center;max-width:fit-content}.status-badge.pending{background-color:#ffc107;color:#212529}.status-badge.processing{background-color:#fd7e14}.status-badge.shipped{background-color:var(--primary-color, #22c7a9)}.status-badge.cancelled{background-color:#dc3545}.actions{display:flex;flex-wrap:nowrap;gap:14px;margin-top:16px;justify-content:center;align-items:center;overflow-x:auto;padding-bottom:8px;-webkit-overflow-scrolling:touch}button{background-color:var(--primary-color, #22c7a9);color:var(--neutral-light, #fff);border:none;padding:10px 18px;border-radius:5px;font-size:.95rem;font-weight:700;cursor:pointer;transition:background-color .3s ease;width:auto;max-width:180px;text-align:center;box-shadow:none;white-space:nowrap;flex-shrink:0}button:hover,button:focus-visible{background-color:var(--primary-dark, #1aa18c);outline:none;box-shadow:none;transform:none}input[type=text]{padding:12px 16px;border:1.5px solid var(--border-color, #ccc);border-radius:6px;font-size:16px;width:100%;max-width:320px;font-family:inherit;color:var(--text-primary, #444);transition:border-color .3s ease,box-shadow .3s ease}input[type=text]:focus,input[type=text]:focus-visible{outline:none;border-color:var(--primary-color, #22c7a9);box-shadow:0 0 8px #22c7a966}@media screen and (max-width: 768px){.tabs{flex-direction:row;gap:10px}.order-card{padding:16px}.actions{flex-direction:column;gap:14px}button{width:100%;max-width:none}input[type=text]{max-width:100%;margin-bottom:12px}}.back-btn:focus-visible,.tabs button:focus-visible,button:focus-visible,input[type=text]:focus-visible{outline:2px solid var(--primary-color, #22c7a9);outline-offset:2px}
`],encapsulation:2})};var vi=()=>[],dt=(s,t,e,r,a,d)=>[s,t,e,r,a,d];function hi(s,t){if(s&1&&(i(0,"span"),o(1),n()),s&2){let e=c(2);l(),v(" ",e.filterTruthy(ze(1,dt,e.order.shippingDetails.street1,e.order.shippingDetails.street2,e.order.shippingDetails.barangay,e.order.shippingDetails.town,e.order.shippingDetails.city,e.order.shippingDetails.zip)).join(", ")," ")}}function xi(s,t){if(s&1&&o(0),s&2){let e=c(2);v(" ",e.filterTruthy(ze(1,dt,e.order.billingDetails==null?null:e.order.billingDetails.street1,e.order.billingDetails==null?null:e.order.billingDetails.street2,e.order.billingDetails==null?null:e.order.billingDetails.barangay,e.order.billingDetails==null?null:e.order.billingDetails.town,e.order.billingDetails==null?null:e.order.billingDetails.city,e.order.billingDetails==null?null:e.order.billingDetails.zip)).join(", ")," ")}}function bi(s,t){if(s&1&&(i(0,"li",9)(1,"div")(2,"strong"),o(3),n()(),i(4,"div"),o(5),n(),i(6,"div"),o(7),n(),i(8,"div"),o(9),n()()),s&2){let e=t.$implicit;l(3),x(e.name),l(2),v("Quantity: ",e.quantity,""),l(2),v("Price: \u20B1",e.price,""),l(2),v("Subtotal: \u20B1",e.subtotal,"")}}function Si(s,t){if(s&1&&(i(0,"li"),o(1),L(2,"date"),n()),s&2){let e=t.$implicit;l(),Qe(" ",z(2,3,e.date,"medium")," - ",e.status," - ",e.note||""," ")}}function Ci(s,t){if(s&1){let e=S();i(0,"div",2)(1,"button",3),u("click",function(){g(e);let a=c();return f(a.goBack())}),p(2,"i",4),n(),i(3,"h2"),o(4),n(),i(5,"p")(6,"strong"),o(7,"User Name:"),n(),o(8),n(),i(9,"p")(10,"strong"),o(11,"Contact Number:"),n(),o(12),n(),i(13,"p")(14,"strong"),o(15,"Status:"),n(),o(16),n(),i(17,"p")(18,"strong"),o(19,"Order Date:"),n(),o(20),L(21,"date"),n(),i(22,"p")(23,"strong"),o(24,"Delivery Date:"),n(),o(25),L(26,"date"),n(),i(27,"p")(28,"strong"),o(29,"Estimated Delivery:"),n(),o(30),n(),i(31,"p")(32,"strong"),o(33,"Tracking Number:"),n(),o(34),n(),i(35,"p")(36,"strong"),o(37,"Shipping Address:"),n(),_(38,hi,2,8,"span",5)(39,xi,1,8,"ng-template",null,0,pe),n(),i(41,"h3"),o(42,"Products:"),n(),i(43,"ul",6),_(44,bi,10,4,"li",7),n(),i(45,"p")(46,"strong"),o(47,"Total Price:"),n(),o(48),n(),i(49,"h3"),o(50,"Payment Information"),n(),i(51,"p")(52,"strong"),o(53,"Payment Method:"),n(),o(54),n(),i(55,"h3"),o(56,"Order History"),n(),i(57,"ul"),_(58,Si,3,6,"li",8),n()()}if(s&2){let e=B(40),r=c();l(4),v("Order Details - ",r.order.orderId,""),l(4),v(" ",r.order.userName,""),l(4),v(" ",(r.order.billingDetails==null?null:r.order.billingDetails.phone)||"Not provided",""),l(4),v(" ",r.order.status,""),l(4),v(" ",z(21,14,r.order.orderDate,"medium"),""),l(5),v(" ",z(26,17,r.order.deliveryDate,"mediumDate"),""),l(5),v(" ",r.order.estimatedDelivery||"N/A",""),l(4),v(" ",r.order.trackingNumber||"N/A",""),l(4),m("ngIf",r.order.shippingDetails)("ngIfElse",e),l(6),m("ngForOf",r.order.items),l(4),v(" \u20B1",r.order.totalPrice,""),l(6),v(" ",r.order.paymentMethod||"Not available",""),l(4),m("ngForOf",r.order.history||Je(20,vi))}}var Ve=class s{constructor(t,e,r){this.route=t;this.orderService=e;this.router=r}orderId="";order;newStatus="Pending";ngOnInit(){this.orderId=this.route.snapshot.paramMap.get("id")||"",this.orderId&&(this.order=this.orderService.getOrderById(this.orderId),this.order&&(this.newStatus=this.order.status,this.order.history||(this.order.history=[]))),this.order||(alert("Order not found."),this.router.navigate(["/admin/orders"]))}updateStatus(){if(this.order){let t={date:new Date().toISOString(),status:this.newStatus,note:`Status changed to ${this.newStatus}`};this.order.history=this.order.history||[],this.order.history.push(t),this.orderService.updateOrderStatus(this.order.orderId,this.newStatus),alert("Order status updated."),this.router.navigate(["/admin/orders"])}}goBack(){this.router.navigate(["/admin/orders"])}filterTruthy(t){return t.filter(e=>!!e)}static \u0275fac=function(e){return new(e||s)(b(fe),b(ee),b(A))};static \u0275cmp=P({type:s,selectors:[["app-admin-order-details"]],decls:1,vars:1,consts:[["billingAddress",""],["class","admin-order-details-container",4,"ngIf"],[1,"admin-order-details-container"],[1,"back-btn",3,"click"],[1,"fas","fa-arrow-left"],[4,"ngIf","ngIfElse"],[1,"order-items"],["class","order-item",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"order-item"]],template:function(e,r){e&1&&_(0,Ci,59,21,"div",1),e&2&&m("ngIf",r.order)},dependencies:[k,I,T,ue,N],styles:[`*{font-family:var(--primary-font)}.admin-order-details-container{max-width:700px;width:100%;margin:20px auto;padding:15px;border:1px solid #ccc;border-bottom:1px solid #ccc;background-color:#f9f9f9;border-radius:5px;box-sizing:border-box;overflow:visible}.admin-order-details-container h2{text-align:center;margin-bottom:20px}.admin-order-details-container ul{list-style-type:none;padding:0}.admin-order-details-container li{padding:8px 0;border-bottom:1px solid #eee}.admin-order-details-container select{padding:4px;margin-left:10px}.admin-order-details-container button{padding:8px 14px;background-color:var(--primary-color);border:none;color:#fff;border-radius:5px;font-weight:700;cursor:pointer;display:flex;align-items:center;gap:6px;transition:background-color .3s ease}.admin-order-details-container button:hover{background-color:var(--primary-dark)}.order-items{list-style:none;padding:5px;margin:0;display:flex;flex-direction:column;gap:12px}.order-items li{padding-left:12px}.order-item{background-color:#fdfdfd;padding:12px 16px;border-radius:8px;border:1px solid #ddd;box-shadow:0 2px 6px #0000000d;font-size:15px;color:#444;line-height:1.5}h3{font-size:18px;font-weight:600;margin-top:24px;margin-bottom:12px;color:var(--primary-dark, #333)}textarea{width:100%;min-height:100px;padding:12px 16px;font-size:16px;font-family:inherit;border:1.5px solid #ccc;border-radius:8px;resize:vertical;transition:border-color .3s ease,box-shadow .3s ease;box-sizing:border-box}textarea:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 8px #ffa7264d}button{margin-top:16px}
`],encapsulation:2})};var yi=[{path:"login",component:Oe},{path:"",component:Pe},{path:"products",component:ae},{path:"products/add",component:ae},{path:"orders",component:Fe},{path:"orders/:id",component:Ve},{path:"users",component:Ee},{path:"inventory",component:Ie},{path:"categories",component:Ae},{path:"promotions",component:Te},{path:"settings",component:Ne}],De=class s{static \u0275fac=function(e){return new(e||s)};static \u0275mod=ce({type:s});static \u0275inj=de({imports:[J.forChild(yi),J]})};var ct=class s{static \u0275fac=function(e){return new(e||s)};static \u0275mod=ce({type:s});static \u0275inj=de({imports:[k,N,De]})};export{ct as AdminModule};
